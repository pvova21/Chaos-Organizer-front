!function(){"use strict";function e(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function t(t){return t instanceof e(t).Element||t instanceof Element}function n(t){return t instanceof e(t).HTMLElement||t instanceof HTMLElement}function o(t){return"undefined"!=typeof ShadowRoot&&(t instanceof e(t).ShadowRoot||t instanceof ShadowRoot)}var s=Math.max,r=Math.min,i=Math.round;function a(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function c(){return!/^((?!chrome|android).)*safari/i.test(a())}function d(o,s,r){void 0===s&&(s=!1),void 0===r&&(r=!1);var a=o.getBoundingClientRect(),d=1,l=1;s&&n(o)&&(d=o.offsetWidth>0&&i(a.width)/o.offsetWidth||1,l=o.offsetHeight>0&&i(a.height)/o.offsetHeight||1);var u=(t(o)?e(o):window).visualViewport,p=!c()&&r,f=(a.left+(p&&u?u.offsetLeft:0))/d,m=(a.top+(p&&u?u.offsetTop:0))/l,h=a.width/d,g=a.height/l;return{width:h,height:g,top:m,right:f+h,bottom:m+g,left:f,x:f,y:m}}function l(t){var n=e(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function u(e){return e?(e.nodeName||"").toLowerCase():null}function p(e){return((t(e)?e.ownerDocument:e.document)||window.document).documentElement}function f(e){return d(p(e)).left+l(e).scrollLeft}function m(t){return e(t).getComputedStyle(t)}function h(e){var t=m(e),n=t.overflow,o=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+o)}function g(t,o,s){void 0===s&&(s=!1);var r,a,c=n(o),m=n(o)&&function(e){var t=e.getBoundingClientRect(),n=i(t.width)/e.offsetWidth||1,o=i(t.height)/e.offsetHeight||1;return 1!==n||1!==o}(o),g=p(o),v=d(t,m,s),y={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(c||!c&&!s)&&(("body"!==u(o)||h(g))&&(y=(r=o)!==e(r)&&n(r)?{scrollLeft:(a=r).scrollLeft,scrollTop:a.scrollTop}:l(r)),n(o)?((b=d(o,!0)).x+=o.clientLeft,b.y+=o.clientTop):g&&(b.x=f(g))),{x:v.left+y.scrollLeft-b.x,y:v.top+y.scrollTop-b.y,width:v.width,height:v.height}}function v(e){var t=d(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function y(e){return"html"===u(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||p(e)}function b(e){return["html","body","#document"].indexOf(u(e))>=0?e.ownerDocument.body:n(e)&&h(e)?e:b(y(e))}function w(t,n){var o;void 0===n&&(n=[]);var s=b(t),r=s===(null==(o=t.ownerDocument)?void 0:o.body),i=e(s),a=r?[i].concat(i.visualViewport||[],h(s)?s:[]):s,c=n.concat(a);return r?c:c.concat(w(y(a)))}function E(e){return["table","td","th"].indexOf(u(e))>=0}function x(e){return n(e)&&"fixed"!==m(e).position?e.offsetParent:null}function L(t){for(var s=e(t),r=x(t);r&&E(r)&&"static"===m(r).position;)r=x(r);return r&&("html"===u(r)||"body"===u(r)&&"static"===m(r).position)?s:r||function(e){var t=/firefox/i.test(a());if(/Trident/i.test(a())&&n(e)&&"fixed"===m(e).position)return null;var s=y(e);for(o(s)&&(s=s.host);n(s)&&["html","body"].indexOf(u(s))<0;){var r=m(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}(t)||s}var O="top",H="bottom",S="right",j="left",k="auto",M=[O,H,S,j],_="start",B="end",D="viewport",C="popper",A=M.reduce((function(e,t){return e.concat([t+"-"+_,t+"-"+B])}),[]),F=[].concat(M,[k]).reduce((function(e,t){return e.concat([t,t+"-"+_,t+"-"+B])}),[]),q=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function W(e){var t=new Map,n=new Set,o=[];function s(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var o=t.get(e);o&&s(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||s(e)})),o}var T={placement:"bottom",modifiers:[],strategy:"absolute"};function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function P(e){void 0===e&&(e={});var n=e,o=n.defaultModifiers,s=void 0===o?[]:o,r=n.defaultOptions,i=void 0===r?T:r;return function(e,n,o){void 0===o&&(o=i);var r,a,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},T,i),modifiersData:{},elements:{reference:e,popper:n},attributes:{},styles:{}},d=[],l=!1,u={state:c,setOptions:function(o){var r="function"==typeof o?o(c.options):o;p(),c.options=Object.assign({},i,c.options,r),c.scrollParents={reference:t(e)?w(e):e.contextElement?w(e.contextElement):[],popper:w(n)};var a,l,f=function(e){var t=W(e);return q.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(s,c.options.modifiers),l=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return c.orderedModifiers=f.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,o=void 0===n?{}:n,s=e.effect;if("function"==typeof s){var r=s({state:c,name:t,instance:u,options:o});d.push(r||function(){})}})),u.update()},forceUpdate:function(){if(!l){var e=c.elements,t=e.reference,n=e.popper;if(R(t,n)){c.rects={reference:g(t,L(n),"fixed"===c.options.strategy),popper:v(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<c.orderedModifiers.length;o++)if(!0!==c.reset){var s=c.orderedModifiers[o],r=s.fn,i=s.options,a=void 0===i?{}:i,d=s.name;"function"==typeof r&&(c=r({state:c,options:a,name:d,instance:u})||c)}else c.reset=!1,o=-1}}},update:(r=function(){return new Promise((function(e){u.forceUpdate(),e(c)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(r())}))}))),a}),destroy:function(){p(),l=!0}};if(!R(e,n))return u;function p(){d.forEach((function(e){return e()})),d=[]}return u.setOptions(o).then((function(e){!l&&o.onFirstUpdate&&o.onFirstUpdate(e)})),u}}var N={passive:!0};function V(e){return e.split("-")[0]}function I(e){return e.split("-")[1]}function U(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $(e){var t,n=e.reference,o=e.element,s=e.placement,r=s?V(s):null,i=s?I(s):null,a=n.x+n.width/2-o.width/2,c=n.y+n.height/2-o.height/2;switch(r){case O:t={x:a,y:n.y-o.height};break;case H:t={x:a,y:n.y+n.height};break;case S:t={x:n.x+n.width,y:c};break;case j:t={x:n.x-o.width,y:c};break;default:t={x:n.x,y:n.y}}var d=r?U(r):null;if(null!=d){var l="y"===d?"height":"width";switch(i){case _:t[d]=t[d]-(n[l]/2-o[l]/2);break;case B:t[d]=t[d]+(n[l]/2-o[l]/2)}}return t}var G={top:"auto",right:"auto",bottom:"auto",left:"auto"};function z(t){var n,o=t.popper,s=t.popperRect,r=t.placement,a=t.variation,c=t.offsets,d=t.position,l=t.gpuAcceleration,u=t.adaptive,f=t.roundOffsets,h=t.isFixed,g=c.x,v=void 0===g?0:g,y=c.y,b=void 0===y?0:y,w="function"==typeof f?f({x:v,y:b}):{x:v,y:b};v=w.x,b=w.y;var E=c.hasOwnProperty("x"),x=c.hasOwnProperty("y"),k=j,M=O,_=window;if(u){var D=L(o),C="clientHeight",A="clientWidth";D===e(o)&&"static"!==m(D=p(o)).position&&"absolute"===d&&(C="scrollHeight",A="scrollWidth"),(r===O||(r===j||r===S)&&a===B)&&(M=H,b-=(h&&D===_&&_.visualViewport?_.visualViewport.height:D[C])-s.height,b*=l?1:-1),r!==j&&(r!==O&&r!==H||a!==B)||(k=S,v-=(h&&D===_&&_.visualViewport?_.visualViewport.width:D[A])-s.width,v*=l?1:-1)}var F,q=Object.assign({position:d},u&&G),W=!0===f?function(e,t){var n=e.x,o=e.y,s=t.devicePixelRatio||1;return{x:i(n*s)/s||0,y:i(o*s)/s||0}}({x:v,y:b},e(o)):{x:v,y:b};return v=W.x,b=W.y,l?Object.assign({},q,((F={})[M]=x?"0":"",F[k]=E?"0":"",F.transform=(_.devicePixelRatio||1)<=1?"translate("+v+"px, "+b+"px)":"translate3d("+v+"px, "+b+"px, 0)",F)):Object.assign({},q,((n={})[M]=x?b+"px":"",n[k]=E?v+"px":"",n.transform="",n))}var J={left:"right",right:"left",bottom:"top",top:"bottom"};function X(e){return e.replace(/left|right|bottom|top/g,(function(e){return J[e]}))}var Y={start:"end",end:"start"};function K(e){return e.replace(/start|end/g,(function(e){return Y[e]}))}function Q(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&o(n)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Z(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ee(n,o,r){return o===D?Z(function(t,n){var o=e(t),s=p(t),r=o.visualViewport,i=s.clientWidth,a=s.clientHeight,d=0,l=0;if(r){i=r.width,a=r.height;var u=c();(u||!u&&"fixed"===n)&&(d=r.offsetLeft,l=r.offsetTop)}return{width:i,height:a,x:d+f(t),y:l}}(n,r)):t(o)?function(e,t){var n=d(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(o,r):Z(function(e){var t,n=p(e),o=l(e),r=null==(t=e.ownerDocument)?void 0:t.body,i=s(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=s(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-o.scrollLeft+f(e),d=-o.scrollTop;return"rtl"===m(r||n).direction&&(c+=s(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:c,y:d}}(p(n)))}function te(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ne(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function oe(e,o){void 0===o&&(o={});var i=o,a=i.placement,c=void 0===a?e.placement:a,l=i.strategy,f=void 0===l?e.strategy:l,h=i.boundary,g=void 0===h?"clippingParents":h,v=i.rootBoundary,b=void 0===v?D:v,E=i.elementContext,x=void 0===E?C:E,j=i.altBoundary,k=void 0!==j&&j,_=i.padding,B=void 0===_?0:_,A=te("number"!=typeof B?B:ne(B,M)),F=x===C?"reference":C,q=e.rects.popper,W=e.elements[k?F:x],T=function(e,o,i,a){var c="clippingParents"===o?function(e){var o=w(y(e)),s=["absolute","fixed"].indexOf(m(e).position)>=0&&n(e)?L(e):e;return t(s)?o.filter((function(e){return t(e)&&Q(e,s)&&"body"!==u(e)})):[]}(e):[].concat(o),d=[].concat(c,[i]),l=d[0],p=d.reduce((function(t,n){var o=ee(e,n,a);return t.top=s(o.top,t.top),t.right=r(o.right,t.right),t.bottom=r(o.bottom,t.bottom),t.left=s(o.left,t.left),t}),ee(e,l,a));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}(t(W)?W:W.contextElement||p(e.elements.popper),g,b,f),R=d(e.elements.reference),P=$({reference:R,element:q,strategy:"absolute",placement:c}),N=Z(Object.assign({},q,P)),V=x===C?N:R,I={top:T.top-V.top+A.top,bottom:V.bottom-T.bottom+A.bottom,left:T.left-V.left+A.left,right:V.right-T.right+A.right},U=e.modifiersData.offset;if(x===C&&U){var G=U[c];Object.keys(I).forEach((function(e){var t=[S,H].indexOf(e)>=0?1:-1,n=[O,H].indexOf(e)>=0?"y":"x";I[e]+=G[n]*t}))}return I}function se(e,t,n){return s(e,r(t,n))}function re(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ie(e){return[O,S,H,j].some((function(t){return e[t]>=0}))}var ae=P({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var n=t.state,o=t.instance,s=t.options,r=s.scroll,i=void 0===r||r,a=s.resize,c=void 0===a||a,d=e(n.elements.popper),l=[].concat(n.scrollParents.reference,n.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",o.update,N)})),c&&d.addEventListener("resize",o.update,N),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",o.update,N)})),c&&d.removeEventListener("resize",o.update,N)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=$({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,o=n.gpuAcceleration,s=void 0===o||o,r=n.adaptive,i=void 0===r||r,a=n.roundOffsets,c=void 0===a||a,d={placement:V(t.placement),variation:I(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,z(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,z(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var o=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];n(r)&&u(r)&&(Object.assign(r.style,o),Object.keys(s).forEach((function(e){var t=s[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,o={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,o.popper),t.styles=o,t.elements.arrow&&Object.assign(t.elements.arrow.style,o.arrow),function(){Object.keys(t.elements).forEach((function(e){var s=t.elements[e],r=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:o[e]).reduce((function(e,t){return e[t]="",e}),{});n(s)&&u(s)&&(Object.assign(s.style,i),Object.keys(r).forEach((function(e){s.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,s=n.offset,r=void 0===s?[0,0]:s,i=F.reduce((function(e,n){return e[n]=function(e,t,n){var o=V(e),s=[j,O].indexOf(o)>=0?-1:1,r="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=r[0],a=r[1];return i=i||0,a=(a||0)*s,[j,S].indexOf(o)>=0?{x:a,y:i}:{x:i,y:a}}(n,t.rects,r),e}),{}),a=i[t.placement],c=a.x,d=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[o]=i}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var s=n.mainAxis,r=void 0===s||s,i=n.altAxis,a=void 0===i||i,c=n.fallbackPlacements,d=n.padding,l=n.boundary,u=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,m=void 0===f||f,h=n.allowedAutoPlacements,g=t.options.placement,v=V(g),y=c||(v!==g&&m?function(e){if(V(e)===k)return[];var t=X(e);return[K(e),t,K(t)]}(g):[X(g)]),b=[g].concat(y).reduce((function(e,n){return e.concat(V(n)===k?function(e,t){void 0===t&&(t={});var n=t,o=n.placement,s=n.boundary,r=n.rootBoundary,i=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,d=void 0===c?F:c,l=I(o),u=l?a?A:A.filter((function(e){return I(e)===l})):M,p=u.filter((function(e){return d.indexOf(e)>=0}));0===p.length&&(p=u);var f=p.reduce((function(t,n){return t[n]=oe(e,{placement:n,boundary:s,rootBoundary:r,padding:i})[V(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:l,rootBoundary:u,padding:d,flipVariations:m,allowedAutoPlacements:h}):n)}),[]),w=t.rects.reference,E=t.rects.popper,x=new Map,L=!0,B=b[0],D=0;D<b.length;D++){var C=b[D],q=V(C),W=I(C)===_,T=[O,H].indexOf(q)>=0,R=T?"width":"height",P=oe(t,{placement:C,boundary:l,rootBoundary:u,altBoundary:p,padding:d}),N=T?W?S:j:W?H:O;w[R]>E[R]&&(N=X(N));var U=X(N),$=[];if(r&&$.push(P[q]<=0),a&&$.push(P[N]<=0,P[U]<=0),$.every((function(e){return e}))){B=C,L=!1;break}x.set(C,$)}if(L)for(var G=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return B=t,"break"},z=m?3:1;z>0&&"break"!==G(z);z--);t.placement!==B&&(t.modifiersData[o]._skip=!0,t.placement=B,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name,i=n.mainAxis,a=void 0===i||i,c=n.altAxis,d=void 0!==c&&c,l=n.boundary,u=n.rootBoundary,p=n.altBoundary,f=n.padding,m=n.tether,h=void 0===m||m,g=n.tetherOffset,y=void 0===g?0:g,b=oe(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:p}),w=V(t.placement),E=I(t.placement),x=!E,k=U(w),M="x"===k?"y":"x",B=t.modifiersData.popperOffsets,D=t.rects.reference,C=t.rects.popper,A="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,F="number"==typeof A?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,W={x:0,y:0};if(B){if(a){var T,R="y"===k?O:j,P="y"===k?H:S,N="y"===k?"height":"width",$=B[k],G=$+b[R],z=$-b[P],J=h?-C[N]/2:0,X=E===_?D[N]:C[N],Y=E===_?-C[N]:-D[N],K=t.elements.arrow,Q=h&&K?v(K):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=Z[R],te=Z[P],ne=se(0,D[N],Q[N]),re=x?D[N]/2-J-ne-ee-F.mainAxis:X-ne-ee-F.mainAxis,ie=x?-D[N]/2+J+ne+te+F.mainAxis:Y+ne+te+F.mainAxis,ae=t.elements.arrow&&L(t.elements.arrow),ce=ae?"y"===k?ae.clientTop||0:ae.clientLeft||0:0,de=null!=(T=null==q?void 0:q[k])?T:0,le=$+ie-de,ue=se(h?r(G,$+re-de-ce):G,$,h?s(z,le):z);B[k]=ue,W[k]=ue-$}if(d){var pe,fe="x"===k?O:j,me="x"===k?H:S,he=B[M],ge="y"===M?"height":"width",ve=he+b[fe],ye=he-b[me],be=-1!==[O,j].indexOf(w),we=null!=(pe=null==q?void 0:q[M])?pe:0,Ee=be?ve:he-D[ge]-C[ge]-we+F.altAxis,xe=be?he+D[ge]+C[ge]-we-F.altAxis:ye,Le=h&&be?function(e,t,n){var o=se(e,t,n);return o>n?n:o}(Ee,he,xe):se(h?Ee:ve,he,h?xe:ye);B[M]=Le,W[M]=Le-he}t.modifiersData[o]=W}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,o=e.name,s=e.options,r=n.elements.arrow,i=n.modifiersData.popperOffsets,a=V(n.placement),c=U(a),d=[j,S].indexOf(a)>=0?"height":"width";if(r&&i){var l=function(e,t){return te("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ne(e,M))}(s.padding,n),u=v(r),p="y"===c?O:j,f="y"===c?H:S,m=n.rects.reference[d]+n.rects.reference[c]-i[c]-n.rects.popper[d],h=i[c]-n.rects.reference[c],g=L(r),y=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,b=m/2-h/2,w=l[p],E=y-u[d]-l[f],x=y/2-u[d]/2+b,k=se(w,x,E),_=c;n.modifiersData[o]=((t={})[_]=k,t.centerOffset=k-x,t)}},effect:function(e){var t=e.state,n=e.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&Q(t.elements.popper,o)&&(t.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,o=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,i=oe(t,{elementContext:"reference"}),a=oe(t,{altBoundary:!0}),c=re(i,o),d=re(a,s,r),l=ie(c),u=ie(d);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:l,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":u})}}]});class ce{constructor(){this.popupMsg=document.querySelector(".error-wrapper")}show(e,t){const n=ae(e,this.popupMsg,{placement:"top",modifiers:[{name:"offset",options:{offset:[0,6]}}]});this.popupMsg.querySelector(".error-message").textContent=t,this.popupMsg.setAttribute("data-show",""),n.update(),setTimeout((()=>{this.popupMsg.removeAttribute("data-show")}),2500)}}class de{createElement(e){const{type:t}=e;let n=null;switch(t){case"text":case"geolocation":n=this.constructor.createTextElement(e);break;case"file":n=this.constructor.createFileElement(e);break;case"weather":n=this.constructor.createWeatherElement(e)}return n}static createFileElement(e){const{category:t}=e.info;let n=null;return t.startsWith("image/")?(n=this.createImageElement(e),n):t.startsWith("audio/")?(n=this.createAudioElement(e),n):!!t.startsWith("video/")&&(n=this.createVideoElement(e),n)}static createTextElement(e){const{date:t,message:n,id:o}=e,s=document.createElement("div");s.classList.add("message"),s.dataset.id=o;const r=document.createElement("div");r.classList.add("message__header");const i=document.createElement("span");i.classList.add("message-date"),i.textContent=t;const a=document.createElement("p");a.classList.add("message__text");const c=n.latitude&&n.longitude?`Мои координаты: ${n.latitude}, ${n.longitude}`:n;return a.innerHTML=c,r.append(i),s.append(r),s.append(a),s}static createImageElement(e){const{id:t,date:n,file:o,info:s}=e,r=document.createElement("div");r.classList.add("message","views"),r.dataset.id=t;const i=document.createElement("div");i.classList.add("message__header");const a=document.createElement("span");a.classList.add("message-date"),a.textContent=n,i.append(a);const c=document.createElement("img");c.src=o;const d=document.createElement("a");return d.href=o,d.download=s.name,d.append(c),r.append(i),r.append(d),r}static createAudioElement(e){const{date:t,file:n,info:o}=e,s=document.createElement("div");s.classList.add("message","audio__message");const r=document.createElement("div");r.classList.add("message__header");const i=document.createElement("span");i.classList.add("message-date"),i.textContent=t,r.append(i);const a=document.createElement("audio");a.setAttribute("controls",!0),a.src=n;const c=document.createElement("p");return c.classList.add("sound__title"),c.innerText=o.name?o.name:"No name",s.append(r),s.append(a),s.append(c),s}static createVideoElement(e){const{date:t,file:n,info:o}=e,s=document.createElement("div");s.classList.add("message");const r=document.createElement("div");r.classList.add("message__header");const i=document.createElement("span");i.classList.add("message-date"),i.textContent=t,r.append(i);const a=document.createElement("video");a.setAttribute("controls",!0),a.src=n;const c=document.createElement("p");return c.classList.add("sound__title"),c.innerText=o.name,s.append(r),s.append(a),s.append(c),s}static createWeatherElement(e){const{location:t,temp:n,icon:o,condition:s}=e.weather,r=document.createElement("div");r.classList.add("weather"),r.dataset.id=e.id;const i=document.createElement("div");i.classList.add("weather__logo");const a=document.createElement("img");a.classList.add("weather__icon"),a.src=o,a.alt=s,i.append(a);const c=document.createElement("div");c.classList.add("weather__info");const d=document.createElement("p");d.textContent=t;const l=document.createElement("p");l.classList.add("weather__temp"),l.textContent=n;const u=document.createElement("span");u.innerHTML=" &#176C",l.append(u);const p=document.createElement("p");return p.textContent=s,c.append(d),c.append(l),c.append(p),r.append(i),r.append(c),r}}class le{constructor(){this.loadFileHandler=[]}init(){this.registerEvents()}registerEvents(){const e=document.querySelector(".file_upload-btn"),t=document.querySelector("#file_upload-field"),n=document.querySelector(".recieved_messages");n.addEventListener("dragover",this.constructor.dragOverHandler),n.addEventListener("drop",this.dropHandler.bind(this)),e.addEventListener("click",(()=>{t.dispatchEvent(new MouseEvent("click"))})),t.addEventListener("change",(e=>{const n=e.target.files[0];n&&(this.onLoad(n),t.value="")}))}addLoadFileHandler(e){this.loadFileHandler.push(e)}onLoad(e){this.loadFileHandler.forEach((t=>{t.call(null,e)}))}static dragOverHandler(e){e.preventDefault()}dropHandler(e){e.preventDefault();const t=Array.from(e.dataTransfer.files)[0];t&&this.onLoad(t)}}class ue{constructor(){this.getGeoButton=document.querySelector(".send_geo-btn"),this.clickEventHandler=[],this.registerEvents()}registerEvents(){this.getGeoButton.addEventListener("click",this.clickHandler.bind(this)),this.popupError=new ce}addClickEventHandler(e){this.clickEventHandler.push(e)}getCurrentGeolocation(){if(navigator.geolocation)return new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition(e,t)}))}async clickHandler(){try{const{coords:e}=await this.getCurrentGeolocation(),{latitude:t,longitude:n}=e,o={event:"geolocation",type:"geolocation",message:{latitude:t,longitude:n}};this.clickEventHandler.forEach((e=>{e.call(null,o)}))}catch(e){this.popupError.show(this.getGeoButton,"Не удалось получить координаты")}}}class pe{constructor(){this.stopEventHandler=[]}init(){this.registerEvents(),this.actionBtns=document.querySelector(".media_btn-wrapper"),this.recordBtns=document.querySelector(".record_btn-wrapper"),this.stopBtn=document.querySelector(".stop_record-btn"),this.popupError=new ce}registerEvents(){document.querySelector("#record-audio-btn").addEventListener("click",this.audioRecord.bind(this)),document.querySelector("#record-video-btn").addEventListener("click",this.videoRecord.bind(this))}addStopEventHandler(e){this.stopEventHandler.push(e)}async audioRecord(){try{let e=null;const t=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),n=new MediaRecorder(t),o=[];n.addEventListener("start",(()=>{this.toggleButtons(),e=this.timer()})),n.addEventListener("dataavailable",(e=>{o.push(e.data)})),n.addEventListener("stop",(()=>{this.toggleButtons(),clearInterval(e);const t=new Blob(o,{type:"audio/ogg; codecs=opus"});this.stopEventHandler.forEach((e=>{e.call(null,t)}))}));const s=()=>{n.stop(),t.getTracks().forEach((e=>e.stop())),this.stopBtn.removeEventListener("click",s)};this.stopBtn.addEventListener("click",s),n.start()}catch(e){const t=document.querySelector(".send_audio-btn");this.popupError.show(t,e.message)}}async videoRecord(){try{let e=null;const t=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),n=new MediaRecorder(t),o=[];n.addEventListener("start",(()=>{this.toggleButtons(),e=this.timer()})),n.addEventListener("dataavailable",(e=>{o.push(e.data)})),n.addEventListener("stop",(()=>{this.toggleButtons(),clearInterval(e);const t=new Blob(o,{type:"video/ogg; codecs=theora"});this.stopEventHandler.forEach((e=>{e.call(null,t)}))}));const s=()=>{n.stop(),t.getTracks().forEach((e=>e.stop())),this.stopBtn.removeEventListener("click",s)};this.stopBtn.addEventListener("click",s),n.start()}catch(e){const t=document.querySelector(".send_video-btn");this.popupError.show(t,e.message)}}toggleButtons(){this.actionBtns.classList.toggle("hidden"),this.recordBtns.classList.toggle("hidden")}timer(){const e=document.querySelector(".timer");e.textContent="00:00";let t=0,n=0;return setInterval((()=>{n+=1,60===n&&(t+=1,n=0);const o=t<10?`0${t}`:`${t}`,s=n<10?`0${n}`:`${n}`;e.textContent=`${o}:${s}`}),1e3)}}class fe{constructor(){this.emojiBtn=document.querySelector(".emoji"),this.emojis=["😀","😃","😄","😁","😆","😅","😂","🤣","😋","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😈","😎","😐","😖"]}renderEmojiBox(){if(document.querySelector(".emoji_box"))return;const e=document.createElement("ul");e.className="emoji_box",this.emojiBtn.append(e);for(const t of this.emojis){const n=document.createElement("li");n.className="emoji_item",n.textContent=t,e.append(n)}}}class me{constructor(e){this.messages=new de,this.popupError=new ce,this.dnd=new le,this.dnd.init(),this.recorder=new pe,this.recorder.init(),this.geolocation=new ue,this.emoji=new fe,this.wss=null,this.URL=e,this.messagesField=document.querySelector(".recieved_messages"),this.connectBtn=document.querySelector(".connect_btn")}connectWSS(){this.wss=new WebSocket(this.URL),this.wss.addEventListener("open",(()=>{this.setConnectState(!0),this.onLoad()})),this.wss.addEventListener("close",(()=>{this.setConnectState(!1)})),this.wss.addEventListener("error",(()=>{this.setConnectState(!1)})),this.wss.addEventListener("message",(e=>{const t=JSON.parse(e.data);this.receivedMessageHandler(t)}))}sendMessageData(e){const t=JSON.stringify(e);this.wss.send(t)}fileLoader(e){const{name:t,type:n}=e,o=new FileReader;o.readAsDataURL(e),o.onload=()=>{const e=o.result;this.sendMessageData({event:"upLoadFile",file:e,type:"file",info:{name:t,category:n}})}}async receivedMessageHandler(e){switch(e.event){case"newMessage":case"command":case"geolocation":await this.messagesField.append(this.messages.createElement(e)),this.messagesField.scrollTop=this.messagesField.scrollHeight;break;case"getLastMessage":this.renderLastMessage(e),this.messagesField.scrollTop=this.messagesField.scrollHeight;break;case"getHistory":this.renderHistory(e);break;case"upLoadFile":await this.renderFileMessage(e),this.messagesField.scrollTop=this.messagesField.scrollHeight}}onLoad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sendMessageData({id:e,event:"getLastMessage"})}onLoadHistory(e){this.sendMessageData({id:e,event:"getHistory"})}async renderFileMessage(e){const t=await this.messages.createElement(e);if(t)await this.messagesField.append(t);else{const e=document.querySelector(".file_upload-btn");this.popupError.show(e,"Не верный формат файла")}}renderLastMessage(e){e.status&&e.message.forEach((e=>{const t=this.messages.createElement(e);this.messagesField.append(t)}))}renderHistory(e){if(!e.status)return;const t=this.messagesField.scrollHeight-this.messagesField.clientHeight;e.message.forEach((e=>{const n=this.messages.createElement(e);this.messagesField.firstElementChild.before(n);const o=this.messagesField.scrollHeight-this.messagesField.clientHeight;this.messagesField.scrollTop=o-t}))}async handleSubmitForm(e){e.preventDefault();const t=e.target.elements.send,n=t.value.trim();if(""===n)return void this.popupError.show(t,"Пустое поле");const o={message:n,type:"text"};if(n.startsWith("/get weather"))try{const e=await this.geolocation.getCurrentGeolocation(),{latitude:t,longitude:n}=e.coords;o.event="command",o.location={latitude:t,longitude:n},this.sendMessageData(o)}catch(e){const t=document.querySelector(".send_geo-btn");this.popupError.show(t,e.message)}n.startsWith("/get")&&!n.startsWith("/get weather")&&(o.event="command",this.sendMessageData(o)),this.sendMessageData({event:"newMessage",message:n,type:"text"}),t.value=""}setConnectState(e){const t=document.querySelector("#status-state");e?(t.className="status_state-online",this.connectBtn.setAttribute("disabled",!0),this.connectBtn.textContent="Connected"):(t.className="status_state-offline",this.connectBtn.removeAttribute("disabled"),this.connectBtn.textContent="Connect")}registerEvents(){const e=document.querySelector("#send-form");e.addEventListener("submit",this.handleSubmitForm.bind(this)),this.connectBtn.addEventListener("click",this.connectWSS.bind(this)),this.dnd.addLoadFileHandler(this.fileLoader.bind(this)),this.geolocation.addClickEventHandler(this.sendMessageData.bind(this)),this.recorder.addStopEventHandler(this.fileLoader.bind(this)),this.messagesField.addEventListener("scroll",(()=>{if(0===this.messagesField.scrollTop){const{id:e}=this.messagesField.firstElementChild.dataset;this.onLoadHistory(e)}}));const t=e.send;t.addEventListener("keyup",(e=>{39===e.keyCode&&""===t.value&&(t.value="/get ")}));const n=document.querySelector(".emoji");n.addEventListener("click",(e=>{document.querySelector(".emoji_box")&&e.target===n?n.firstElementChild.remove():(this.emoji.renderEmojiBox(),document.querySelector(".emoji_box").addEventListener("click",(e=>{t.value+=e.target.textContent}),{once:!0}))}))}init(){this.connectWSS(),this.registerEvents()}}(new class{constructor(){this.api=new me("ws://localhost:8080/ws")}init(){this.api.init()}}).init()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBRThLLE1BQU0sSUFBTyxHQUV0QixDQUVBeEgsT0FDRTVELEtBQUs0SSxhQUNMNUksS0FBSzZELGdCQUNQLEdDdk9VLElDQ0csTUFDYjlELGNBQ0VDLEtBQUtxTCxJQUFNLElBQUlqRCxHQUpQLHlCQUtWLENBRUF4RSxPQUNFNUQsS0FBS3FMLElBQUl6SCxNQUNYLElEUEVBLE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvaW5zdGFuY2VPZi5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL21hdGguanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy91c2VyQWdlbnQuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvaXNMYXlvdXRWaWV3cG9ydC5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0V2luZG93U2Nyb2xsLmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldE5vZGVOYW1lLmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldERvY3VtZW50RWxlbWVudC5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRXaW5kb3dTY3JvbGxCYXJYLmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldENvbXB1dGVkU3R5bGUuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvaXNTY3JvbGxQYXJlbnQuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Q29tcG9zaXRlUmVjdC5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXROb2RlU2Nyb2xsLmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldEhUTUxFbGVtZW50U2Nyb2xsLmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldExheW91dFJlY3QuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0UGFyZW50Tm9kZS5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRTY3JvbGxQYXJlbnQuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvbGlzdFNjcm9sbFBhcmVudHMuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvaXNUYWJsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZW51bXMuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9vcmRlck1vZGlmaWVycy5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2NyZWF0ZVBvcHBlci5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2RlYm91bmNlLmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvbWVyZ2VCeU5hbWUuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvZXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0VmFyaWF0aW9uLmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50LmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvY29tcHV0ZU9mZnNldHMuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvcG9wcGVyT2Zmc2V0cy5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9jb21wdXRlU3R5bGVzLmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL29mZnNldC5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldE9wcG9zaXRlUGxhY2VtZW50LmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvY29udGFpbnMuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9yZWN0VG9DbGllbnRSZWN0LmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldENsaXBwaW5nUmVjdC5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRWaWV3cG9ydFJlY3QuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0RG9jdW1lbnRSZWN0LmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvbWVyZ2VQYWRkaW5nT2JqZWN0LmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0RnJlc2hTaWRlT2JqZWN0LmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZXhwYW5kVG9IYXNoTWFwLmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy93aXRoaW4uanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvaGlkZS5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3BvcHBlci5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9hcHBseVN0eWxlcy5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9mbGlwLmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvY29tcHV0ZUF1dG9QbGFjZW1lbnQuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvcHJldmVudE92ZXJmbG93LmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0QWx0QXhpcy5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9hcnJvdy5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9zcmMvanMvUG9wVXBFcnJvci5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9zcmMvanMvTWVzc2FnZXMuanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vc3JjL2pzL0RuZC5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9zcmMvanMvR2VvbG9jYXRpb24uanMiLCJ3ZWJwYWNrOi8vY2hhb3Mtb3JnYW5pemVyLWZyb250Ly4vc3JjL2pzL1JlY29yZGVyLmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL3NyYy9qcy9FbW9qaS5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9zcmMvanMvQVBJLmpzIiwid2VicGFjazovL2NoYW9zLW9yZ2FuaXplci1mcm9udC8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jaGFvcy1vcmdhbml6ZXItZnJvbnQvLi9zcmMvanMvYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFdpbmRvdyhub2RlKSB7XG4gIGlmIChub2RlID09IG51bGwpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG5cbiAgaWYgKG5vZGUudG9TdHJpbmcoKSAhPT0gJ1tvYmplY3QgV2luZG93XScpIHtcbiAgICB2YXIgb3duZXJEb2N1bWVudCA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICByZXR1cm4gb3duZXJEb2N1bWVudCA/IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93IDogd2luZG93O1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59IiwiaW1wb3J0IGdldFdpbmRvdyBmcm9tIFwiLi9nZXRXaW5kb3cuanNcIjtcblxuZnVuY3Rpb24gaXNFbGVtZW50KG5vZGUpIHtcbiAgdmFyIE93bkVsZW1lbnQgPSBnZXRXaW5kb3cobm9kZSkuRWxlbWVudDtcbiAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBPd25FbGVtZW50IHx8IG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KG5vZGUpIHtcbiAgdmFyIE93bkVsZW1lbnQgPSBnZXRXaW5kb3cobm9kZSkuSFRNTEVsZW1lbnQ7XG4gIHJldHVybiBub2RlIGluc3RhbmNlb2YgT3duRWxlbWVudCB8fCBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGlzU2hhZG93Um9vdChub2RlKSB7XG4gIC8vIElFIDExIGhhcyBubyBTaGFkb3dSb290XG4gIGlmICh0eXBlb2YgU2hhZG93Um9vdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgT3duRWxlbWVudCA9IGdldFdpbmRvdyhub2RlKS5TaGFkb3dSb290O1xuICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIE93bkVsZW1lbnQgfHwgbm9kZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3Q7XG59XG5cbmV4cG9ydCB7IGlzRWxlbWVudCwgaXNIVE1MRWxlbWVudCwgaXNTaGFkb3dSb290IH07IiwiZXhwb3J0IHZhciBtYXggPSBNYXRoLm1heDtcbmV4cG9ydCB2YXIgbWluID0gTWF0aC5taW47XG5leHBvcnQgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRVQVN0cmluZygpIHtcbiAgdmFyIHVhRGF0YSA9IG5hdmlnYXRvci51c2VyQWdlbnREYXRhO1xuXG4gIGlmICh1YURhdGEgIT0gbnVsbCAmJiB1YURhdGEuYnJhbmRzICYmIEFycmF5LmlzQXJyYXkodWFEYXRhLmJyYW5kcykpIHtcbiAgICByZXR1cm4gdWFEYXRhLmJyYW5kcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLmJyYW5kICsgXCIvXCIgKyBpdGVtLnZlcnNpb247XG4gICAgfSkuam9pbignICcpO1xuICB9XG5cbiAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQ7XG59IiwiaW1wb3J0IGdldFVBU3RyaW5nIGZyb20gXCIuLi91dGlscy91c2VyQWdlbnQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzTGF5b3V0Vmlld3BvcnQoKSB7XG4gIHJldHVybiAhL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChnZXRVQVN0cmluZygpKTtcbn0iLCJpbXBvcnQgeyBpc0VsZW1lbnQsIGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgeyByb3VuZCB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuaW1wb3J0IGlzTGF5b3V0Vmlld3BvcnQgZnJvbSBcIi4vaXNMYXlvdXRWaWV3cG9ydC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIGluY2x1ZGVTY2FsZSwgaXNGaXhlZFN0cmF0ZWd5KSB7XG4gIGlmIChpbmNsdWRlU2NhbGUgPT09IHZvaWQgMCkge1xuICAgIGluY2x1ZGVTY2FsZSA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKGlzRml4ZWRTdHJhdGVneSA9PT0gdm9pZCAwKSB7XG4gICAgaXNGaXhlZFN0cmF0ZWd5ID0gZmFsc2U7XG4gIH1cblxuICB2YXIgY2xpZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBzY2FsZVggPSAxO1xuICB2YXIgc2NhbGVZID0gMTtcblxuICBpZiAoaW5jbHVkZVNjYWxlICYmIGlzSFRNTEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICBzY2FsZVggPSBlbGVtZW50Lm9mZnNldFdpZHRoID4gMCA/IHJvdW5kKGNsaWVudFJlY3Qud2lkdGgpIC8gZWxlbWVudC5vZmZzZXRXaWR0aCB8fCAxIDogMTtcbiAgICBzY2FsZVkgPSBlbGVtZW50Lm9mZnNldEhlaWdodCA+IDAgPyByb3VuZChjbGllbnRSZWN0LmhlaWdodCkgLyBlbGVtZW50Lm9mZnNldEhlaWdodCB8fCAxIDogMTtcbiAgfVxuXG4gIHZhciBfcmVmID0gaXNFbGVtZW50KGVsZW1lbnQpID8gZ2V0V2luZG93KGVsZW1lbnQpIDogd2luZG93LFxuICAgICAgdmlzdWFsVmlld3BvcnQgPSBfcmVmLnZpc3VhbFZpZXdwb3J0O1xuXG4gIHZhciBhZGRWaXN1YWxPZmZzZXRzID0gIWlzTGF5b3V0Vmlld3BvcnQoKSAmJiBpc0ZpeGVkU3RyYXRlZ3k7XG4gIHZhciB4ID0gKGNsaWVudFJlY3QubGVmdCArIChhZGRWaXN1YWxPZmZzZXRzICYmIHZpc3VhbFZpZXdwb3J0ID8gdmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCA6IDApKSAvIHNjYWxlWDtcbiAgdmFyIHkgPSAoY2xpZW50UmVjdC50b3AgKyAoYWRkVmlzdWFsT2Zmc2V0cyAmJiB2aXN1YWxWaWV3cG9ydCA/IHZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcCA6IDApKSAvIHNjYWxlWTtcbiAgdmFyIHdpZHRoID0gY2xpZW50UmVjdC53aWR0aCAvIHNjYWxlWDtcbiAgdmFyIGhlaWdodCA9IGNsaWVudFJlY3QuaGVpZ2h0IC8gc2NhbGVZO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB0b3A6IHksXG4gICAgcmlnaHQ6IHggKyB3aWR0aCxcbiAgICBib3R0b206IHkgKyBoZWlnaHQsXG4gICAgbGVmdDogeCxcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfTtcbn0iLCJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsKG5vZGUpIHtcbiAgdmFyIHdpbiA9IGdldFdpbmRvdyhub2RlKTtcbiAgdmFyIHNjcm9sbExlZnQgPSB3aW4ucGFnZVhPZmZzZXQ7XG4gIHZhciBzY3JvbGxUb3AgPSB3aW4ucGFnZVlPZmZzZXQ7XG4gIHJldHVybiB7XG4gICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcFxuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE5vZGVOYW1lKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQgPyAoZWxlbWVudC5ub2RlTmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKSA6IG51bGw7XG59IiwiaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpIHtcbiAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtcmV0dXJuXTogYXNzdW1lIGJvZHkgaXMgYWx3YXlzIGF2YWlsYWJsZVxuICByZXR1cm4gKChpc0VsZW1lbnQoZWxlbWVudCkgPyBlbGVtZW50Lm93bmVyRG9jdW1lbnQgOiAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgZWxlbWVudC5kb2N1bWVudCkgfHwgd2luZG93LmRvY3VtZW50KS5kb2N1bWVudEVsZW1lbnQ7XG59IiwiaW1wb3J0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmcm9tIFwiLi9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93U2Nyb2xsIGZyb20gXCIuL2dldFdpbmRvd1Njcm9sbC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50KSB7XG4gIC8vIElmIDxodG1sPiBoYXMgYSBDU1Mgd2lkdGggZ3JlYXRlciB0aGFuIHRoZSB2aWV3cG9ydCwgdGhlbiB0aGlzIHdpbGwgYmVcbiAgLy8gaW5jb3JyZWN0IGZvciBSVEwuXG4gIC8vIFBvcHBlciAxIGlzIGJyb2tlbiBpbiB0aGlzIGNhc2UgYW5kIG5ldmVyIGhhZCBhIGJ1ZyByZXBvcnQgc28gbGV0J3MgYXNzdW1lXG4gIC8vIGl0J3Mgbm90IGFuIGlzc3VlLiBJIGRvbid0IHRoaW5rIGFueW9uZSBldmVyIHNwZWNpZmllcyB3aWR0aCBvbiA8aHRtbD5cbiAgLy8gYW55d2F5LlxuICAvLyBCcm93c2VycyB3aGVyZSB0aGUgbGVmdCBzY3JvbGxiYXIgZG9lc24ndCBjYXVzZSBhbiBpc3N1ZSByZXBvcnQgYDBgIGZvclxuICAvLyB0aGlzIChlLmcuIEVkZ2UgMjAxOSwgSUUxMSwgU2FmYXJpKVxuICByZXR1cm4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSkubGVmdCArIGdldFdpbmRvd1Njcm9sbChlbGVtZW50KS5zY3JvbGxMZWZ0O1xufSIsImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdldFdpbmRvdyhlbGVtZW50KS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xufSIsImltcG9ydCBnZXRDb21wdXRlZFN0eWxlIGZyb20gXCIuL2dldENvbXB1dGVkU3R5bGUuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzU2Nyb2xsUGFyZW50KGVsZW1lbnQpIHtcbiAgLy8gRmlyZWZveCB3YW50cyB1cyB0byBjaGVjayBgLXhgIGFuZCBgLXlgIHZhcmlhdGlvbnMgYXMgd2VsbFxuICB2YXIgX2dldENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLFxuICAgICAgb3ZlcmZsb3cgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5vdmVyZmxvdyxcbiAgICAgIG92ZXJmbG93WCA9IF9nZXRDb21wdXRlZFN0eWxlLm92ZXJmbG93WCxcbiAgICAgIG92ZXJmbG93WSA9IF9nZXRDb21wdXRlZFN0eWxlLm92ZXJmbG93WTtcblxuICByZXR1cm4gL2F1dG98c2Nyb2xsfG92ZXJsYXl8aGlkZGVuLy50ZXN0KG92ZXJmbG93ICsgb3ZlcmZsb3dZICsgb3ZlcmZsb3dYKTtcbn0iLCJpbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IGdldE5vZGVTY3JvbGwgZnJvbSBcIi4vZ2V0Tm9kZVNjcm9sbC5qc1wiO1xuaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbEJhclggZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsQmFyWC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCBpc1Njcm9sbFBhcmVudCBmcm9tIFwiLi9pc1Njcm9sbFBhcmVudC5qc1wiO1xuaW1wb3J0IHsgcm91bmQgfSBmcm9tIFwiLi4vdXRpbHMvbWF0aC5qc1wiO1xuXG5mdW5jdGlvbiBpc0VsZW1lbnRTY2FsZWQoZWxlbWVudCkge1xuICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBzY2FsZVggPSByb3VuZChyZWN0LndpZHRoKSAvIGVsZW1lbnQub2Zmc2V0V2lkdGggfHwgMTtcbiAgdmFyIHNjYWxlWSA9IHJvdW5kKHJlY3QuaGVpZ2h0KSAvIGVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDE7XG4gIHJldHVybiBzY2FsZVggIT09IDEgfHwgc2NhbGVZICE9PSAxO1xufSAvLyBSZXR1cm5zIHRoZSBjb21wb3NpdGUgcmVjdCBvZiBhbiBlbGVtZW50IHJlbGF0aXZlIHRvIGl0cyBvZmZzZXRQYXJlbnQuXG4vLyBDb21wb3NpdGUgbWVhbnMgaXQgdGFrZXMgaW50byBhY2NvdW50IHRyYW5zZm9ybXMgYXMgd2VsbCBhcyBsYXlvdXQuXG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q29tcG9zaXRlUmVjdChlbGVtZW50T3JWaXJ0dWFsRWxlbWVudCwgb2Zmc2V0UGFyZW50LCBpc0ZpeGVkKSB7XG4gIGlmIChpc0ZpeGVkID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkID0gZmFsc2U7XG4gIH1cblxuICB2YXIgaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgPSBpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIHZhciBvZmZzZXRQYXJlbnRJc1NjYWxlZCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KSAmJiBpc0VsZW1lbnRTY2FsZWQob2Zmc2V0UGFyZW50KTtcbiAgdmFyIGRvY3VtZW50RWxlbWVudCA9IGdldERvY3VtZW50RWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICB2YXIgcmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50T3JWaXJ0dWFsRWxlbWVudCwgb2Zmc2V0UGFyZW50SXNTY2FsZWQsIGlzRml4ZWQpO1xuICB2YXIgc2Nyb2xsID0ge1xuICAgIHNjcm9sbExlZnQ6IDAsXG4gICAgc2Nyb2xsVG9wOiAwXG4gIH07XG4gIHZhciBvZmZzZXRzID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuXG4gIGlmIChpc09mZnNldFBhcmVudEFuRWxlbWVudCB8fCAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQpIHtcbiAgICBpZiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSAhPT0gJ2JvZHknIHx8IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3BwZXJqcy9wb3BwZXItY29yZS9pc3N1ZXMvMTA3OFxuICAgIGlzU2Nyb2xsUGFyZW50KGRvY3VtZW50RWxlbWVudCkpIHtcbiAgICAgIHNjcm9sbCA9IGdldE5vZGVTY3JvbGwob2Zmc2V0UGFyZW50KTtcbiAgICB9XG5cbiAgICBpZiAoaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICBvZmZzZXRzID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG9mZnNldFBhcmVudCwgdHJ1ZSk7XG4gICAgICBvZmZzZXRzLnggKz0gb2Zmc2V0UGFyZW50LmNsaWVudExlZnQ7XG4gICAgICBvZmZzZXRzLnkgKz0gb2Zmc2V0UGFyZW50LmNsaWVudFRvcDtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50RWxlbWVudCkge1xuICAgICAgb2Zmc2V0cy54ID0gZ2V0V2luZG93U2Nyb2xsQmFyWChkb2N1bWVudEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgeDogcmVjdC5sZWZ0ICsgc2Nyb2xsLnNjcm9sbExlZnQgLSBvZmZzZXRzLngsXG4gICAgeTogcmVjdC50b3AgKyBzY3JvbGwuc2Nyb2xsVG9wIC0gb2Zmc2V0cy55LFxuICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgIGhlaWdodDogcmVjdC5oZWlnaHRcbiAgfTtcbn0iLCJpbXBvcnQgZ2V0V2luZG93U2Nyb2xsIGZyb20gXCIuL2dldFdpbmRvd1Njcm9sbC5qc1wiO1xuaW1wb3J0IGdldFdpbmRvdyBmcm9tIFwiLi9nZXRXaW5kb3cuanNcIjtcbmltcG9ydCB7IGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgZ2V0SFRNTEVsZW1lbnRTY3JvbGwgZnJvbSBcIi4vZ2V0SFRNTEVsZW1lbnRTY3JvbGwuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE5vZGVTY3JvbGwobm9kZSkge1xuICBpZiAobm9kZSA9PT0gZ2V0V2luZG93KG5vZGUpIHx8ICFpc0hUTUxFbGVtZW50KG5vZGUpKSB7XG4gICAgcmV0dXJuIGdldFdpbmRvd1Njcm9sbChub2RlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0SFRNTEVsZW1lbnRTY3JvbGwobm9kZSk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRIVE1MRWxlbWVudFNjcm9sbChlbGVtZW50KSB7XG4gIHJldHVybiB7XG4gICAgc2Nyb2xsTGVmdDogZWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgIHNjcm9sbFRvcDogZWxlbWVudC5zY3JvbGxUb3BcbiAgfTtcbn0iLCJpbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiOyAvLyBSZXR1cm5zIHRoZSBsYXlvdXQgcmVjdCBvZiBhbiBlbGVtZW50IHJlbGF0aXZlIHRvIGl0cyBvZmZzZXRQYXJlbnQuIExheW91dFxuLy8gbWVhbnMgaXQgZG9lc24ndCB0YWtlIGludG8gYWNjb3VudCB0cmFuc2Zvcm1zLlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRMYXlvdXRSZWN0KGVsZW1lbnQpIHtcbiAgdmFyIGNsaWVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCk7IC8vIFVzZSB0aGUgY2xpZW50UmVjdCBzaXplcyBpZiBpdCdzIG5vdCBiZWVuIHRyYW5zZm9ybWVkLlxuICAvLyBGaXhlcyBodHRwczovL2dpdGh1Yi5jb20vcG9wcGVyanMvcG9wcGVyLWNvcmUvaXNzdWVzLzEyMjNcblxuICB2YXIgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICB2YXIgaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG5cbiAgaWYgKE1hdGguYWJzKGNsaWVudFJlY3Qud2lkdGggLSB3aWR0aCkgPD0gMSkge1xuICAgIHdpZHRoID0gY2xpZW50UmVjdC53aWR0aDtcbiAgfVxuXG4gIGlmIChNYXRoLmFicyhjbGllbnRSZWN0LmhlaWdodCAtIGhlaWdodCkgPD0gMSkge1xuICAgIGhlaWdodCA9IGNsaWVudFJlY3QuaGVpZ2h0O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBlbGVtZW50Lm9mZnNldExlZnQsXG4gICAgeTogZWxlbWVudC5vZmZzZXRUb3AsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH07XG59IiwiaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IHsgaXNTaGFkb3dSb290IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSB7XG4gIGlmIChnZXROb2RlTmFtZShlbGVtZW50KSA9PT0gJ2h0bWwnKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gKC8vIHRoaXMgaXMgYSBxdWlja2VyIChidXQgbGVzcyB0eXBlIHNhZmUpIHdheSB0byBzYXZlIHF1aXRlIHNvbWUgYnl0ZXMgZnJvbSB0aGUgYnVuZGxlXG4gICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtcmV0dXJuXVxuICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgIGVsZW1lbnQuYXNzaWduZWRTbG90IHx8IC8vIHN0ZXAgaW50byB0aGUgc2hhZG93IERPTSBvZiB0aGUgcGFyZW50IG9mIGEgc2xvdHRlZCBub2RlXG4gICAgZWxlbWVudC5wYXJlbnROb2RlIHx8ICggLy8gRE9NIEVsZW1lbnQgZGV0ZWN0ZWRcbiAgICBpc1NoYWRvd1Jvb3QoZWxlbWVudCkgPyBlbGVtZW50Lmhvc3QgOiBudWxsKSB8fCAvLyBTaGFkb3dSb290IGRldGVjdGVkXG4gICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtY2FsbF06IEhUTUxFbGVtZW50IGlzIGEgTm9kZVxuICAgIGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSAvLyBmYWxsYmFja1xuXG4gICk7XG59IiwiaW1wb3J0IGdldFBhcmVudE5vZGUgZnJvbSBcIi4vZ2V0UGFyZW50Tm9kZS5qc1wiO1xuaW1wb3J0IGlzU2Nyb2xsUGFyZW50IGZyb20gXCIuL2lzU2Nyb2xsUGFyZW50LmpzXCI7XG5pbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCB7IGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRTY3JvbGxQYXJlbnQobm9kZSkge1xuICBpZiAoWydodG1sJywgJ2JvZHknLCAnI2RvY3VtZW50J10uaW5kZXhPZihnZXROb2RlTmFtZShub2RlKSkgPj0gMCkge1xuICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl06IGFzc3VtZSBib2R5IGlzIGFsd2F5cyBhdmFpbGFibGVcbiAgICByZXR1cm4gbm9kZS5vd25lckRvY3VtZW50LmJvZHk7XG4gIH1cblxuICBpZiAoaXNIVE1MRWxlbWVudChub2RlKSAmJiBpc1Njcm9sbFBhcmVudChub2RlKSkge1xuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgcmV0dXJuIGdldFNjcm9sbFBhcmVudChnZXRQYXJlbnROb2RlKG5vZGUpKTtcbn0iLCJpbXBvcnQgZ2V0U2Nyb2xsUGFyZW50IGZyb20gXCIuL2dldFNjcm9sbFBhcmVudC5qc1wiO1xuaW1wb3J0IGdldFBhcmVudE5vZGUgZnJvbSBcIi4vZ2V0UGFyZW50Tm9kZS5qc1wiO1xuaW1wb3J0IGdldFdpbmRvdyBmcm9tIFwiLi9nZXRXaW5kb3cuanNcIjtcbmltcG9ydCBpc1Njcm9sbFBhcmVudCBmcm9tIFwiLi9pc1Njcm9sbFBhcmVudC5qc1wiO1xuLypcbmdpdmVuIGEgRE9NIGVsZW1lbnQsIHJldHVybiB0aGUgbGlzdCBvZiBhbGwgc2Nyb2xsIHBhcmVudHMsIHVwIHRoZSBsaXN0IG9mIGFuY2Vzb3JzXG51bnRpbCB3ZSBnZXQgdG8gdGhlIHRvcCB3aW5kb3cgb2JqZWN0LiBUaGlzIGxpc3QgaXMgd2hhdCB3ZSBhdHRhY2ggc2Nyb2xsIGxpc3RlbmVyc1xudG8sIGJlY2F1c2UgaWYgYW55IG9mIHRoZXNlIHBhcmVudCBlbGVtZW50cyBzY3JvbGwsIHdlJ2xsIG5lZWQgdG8gcmUtY2FsY3VsYXRlIHRoZVxucmVmZXJlbmNlIGVsZW1lbnQncyBwb3NpdGlvbi5cbiovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxpc3RTY3JvbGxQYXJlbnRzKGVsZW1lbnQsIGxpc3QpIHtcbiAgdmFyIF9lbGVtZW50JG93bmVyRG9jdW1lbjtcblxuICBpZiAobGlzdCA9PT0gdm9pZCAwKSB7XG4gICAgbGlzdCA9IFtdO1xuICB9XG5cbiAgdmFyIHNjcm9sbFBhcmVudCA9IGdldFNjcm9sbFBhcmVudChlbGVtZW50KTtcbiAgdmFyIGlzQm9keSA9IHNjcm9sbFBhcmVudCA9PT0gKChfZWxlbWVudCRvd25lckRvY3VtZW4gPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZWxlbWVudCRvd25lckRvY3VtZW4uYm9keSk7XG4gIHZhciB3aW4gPSBnZXRXaW5kb3coc2Nyb2xsUGFyZW50KTtcbiAgdmFyIHRhcmdldCA9IGlzQm9keSA/IFt3aW5dLmNvbmNhdCh3aW4udmlzdWFsVmlld3BvcnQgfHwgW10sIGlzU2Nyb2xsUGFyZW50KHNjcm9sbFBhcmVudCkgPyBzY3JvbGxQYXJlbnQgOiBbXSkgOiBzY3JvbGxQYXJlbnQ7XG4gIHZhciB1cGRhdGVkTGlzdCA9IGxpc3QuY29uY2F0KHRhcmdldCk7XG4gIHJldHVybiBpc0JvZHkgPyB1cGRhdGVkTGlzdCA6IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdOiBpc0JvZHkgdGVsbHMgdXMgdGFyZ2V0IHdpbGwgYmUgYW4gSFRNTEVsZW1lbnQgaGVyZVxuICB1cGRhdGVkTGlzdC5jb25jYXQobGlzdFNjcm9sbFBhcmVudHMoZ2V0UGFyZW50Tm9kZSh0YXJnZXQpKSk7XG59IiwiaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1RhYmxlRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiBbJ3RhYmxlJywgJ3RkJywgJ3RoJ10uaW5kZXhPZihnZXROb2RlTmFtZShlbGVtZW50KSkgPj0gMDtcbn0iLCJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSBmcm9tIFwiLi9nZXRDb21wdXRlZFN0eWxlLmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50LCBpc1NoYWRvd1Jvb3QgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgaXNUYWJsZUVsZW1lbnQgZnJvbSBcIi4vaXNUYWJsZUVsZW1lbnQuanNcIjtcbmltcG9ydCBnZXRQYXJlbnROb2RlIGZyb20gXCIuL2dldFBhcmVudE5vZGUuanNcIjtcbmltcG9ydCBnZXRVQVN0cmluZyBmcm9tIFwiLi4vdXRpbHMvdXNlckFnZW50LmpzXCI7XG5cbmZ1bmN0aW9uIGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCkge1xuICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkgfHwgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BvcHBlcmpzL3BvcHBlci1jb3JlL2lzc3Vlcy84MzdcbiAgZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0UGFyZW50O1xufSAvLyBgLm9mZnNldFBhcmVudGAgcmVwb3J0cyBgbnVsbGAgZm9yIGZpeGVkIGVsZW1lbnRzLCB3aGlsZSBhYnNvbHV0ZSBlbGVtZW50c1xuLy8gcmV0dXJuIHRoZSBjb250YWluaW5nIGJsb2NrXG5cblxuZnVuY3Rpb24gZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHtcbiAgdmFyIGlzRmlyZWZveCA9IC9maXJlZm94L2kudGVzdChnZXRVQVN0cmluZygpKTtcbiAgdmFyIGlzSUUgPSAvVHJpZGVudC9pLnRlc3QoZ2V0VUFTdHJpbmcoKSk7XG5cbiAgaWYgKGlzSUUgJiYgaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgIC8vIEluIElFIDksIDEwIGFuZCAxMSBmaXhlZCBlbGVtZW50cyBjb250YWluaW5nIGJsb2NrIGlzIGFsd2F5cyBlc3RhYmxpc2hlZCBieSB0aGUgdmlld3BvcnRcbiAgICB2YXIgZWxlbWVudENzcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgICBpZiAoZWxlbWVudENzcy5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgdmFyIGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcblxuICBpZiAoaXNTaGFkb3dSb290KGN1cnJlbnROb2RlKSkge1xuICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUuaG9zdDtcbiAgfVxuXG4gIHdoaWxlIChpc0hUTUxFbGVtZW50KGN1cnJlbnROb2RlKSAmJiBbJ2h0bWwnLCAnYm9keSddLmluZGV4T2YoZ2V0Tm9kZU5hbWUoY3VycmVudE5vZGUpKSA8IDApIHtcbiAgICB2YXIgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50Tm9kZSk7IC8vIFRoaXMgaXMgbm9uLWV4aGF1c3RpdmUgYnV0IGNvdmVycyB0aGUgbW9zdCBjb21tb24gQ1NTIHByb3BlcnRpZXMgdGhhdFxuICAgIC8vIGNyZWF0ZSBhIGNvbnRhaW5pbmcgYmxvY2suXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NvbnRhaW5pbmdfYmxvY2sjaWRlbnRpZnlpbmdfdGhlX2NvbnRhaW5pbmdfYmxvY2tcblxuICAgIGlmIChjc3MudHJhbnNmb3JtICE9PSAnbm9uZScgfHwgY3NzLnBlcnNwZWN0aXZlICE9PSAnbm9uZScgfHwgY3NzLmNvbnRhaW4gPT09ICdwYWludCcgfHwgWyd0cmFuc2Zvcm0nLCAncGVyc3BlY3RpdmUnXS5pbmRleE9mKGNzcy53aWxsQ2hhbmdlKSAhPT0gLTEgfHwgaXNGaXJlZm94ICYmIGNzcy53aWxsQ2hhbmdlID09PSAnZmlsdGVyJyB8fCBpc0ZpcmVmb3ggJiYgY3NzLmZpbHRlciAmJiBjc3MuZmlsdGVyICE9PSAnbm9uZScpIHtcbiAgICAgIHJldHVybiBjdXJyZW50Tm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufSAvLyBHZXRzIHRoZSBjbG9zZXN0IGFuY2VzdG9yIHBvc2l0aW9uZWQgZWxlbWVudC4gSGFuZGxlcyBzb21lIGVkZ2UgY2FzZXMsXG4vLyBzdWNoIGFzIHRhYmxlIGFuY2VzdG9ycyBhbmQgY3Jvc3MgYnJvd3NlciBidWdzLlxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRUcnVlT2Zmc2V0UGFyZW50KGVsZW1lbnQpO1xuXG4gIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgaXNUYWJsZUVsZW1lbnQob2Zmc2V0UGFyZW50KSAmJiBnZXRDb21wdXRlZFN0eWxlKG9mZnNldFBhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgb2Zmc2V0UGFyZW50ID0gZ2V0VHJ1ZU9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQpO1xuICB9XG5cbiAgaWYgKG9mZnNldFBhcmVudCAmJiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSA9PT0gJ2h0bWwnIHx8IGdldE5vZGVOYW1lKG9mZnNldFBhcmVudCkgPT09ICdib2R5JyAmJiBnZXRDb21wdXRlZFN0eWxlKG9mZnNldFBhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKSkge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB8fCB3aW5kb3c7XG59IiwiZXhwb3J0IHZhciB0b3AgPSAndG9wJztcbmV4cG9ydCB2YXIgYm90dG9tID0gJ2JvdHRvbSc7XG5leHBvcnQgdmFyIHJpZ2h0ID0gJ3JpZ2h0JztcbmV4cG9ydCB2YXIgbGVmdCA9ICdsZWZ0JztcbmV4cG9ydCB2YXIgYXV0byA9ICdhdXRvJztcbmV4cG9ydCB2YXIgYmFzZVBsYWNlbWVudHMgPSBbdG9wLCBib3R0b20sIHJpZ2h0LCBsZWZ0XTtcbmV4cG9ydCB2YXIgc3RhcnQgPSAnc3RhcnQnO1xuZXhwb3J0IHZhciBlbmQgPSAnZW5kJztcbmV4cG9ydCB2YXIgY2xpcHBpbmdQYXJlbnRzID0gJ2NsaXBwaW5nUGFyZW50cyc7XG5leHBvcnQgdmFyIHZpZXdwb3J0ID0gJ3ZpZXdwb3J0JztcbmV4cG9ydCB2YXIgcG9wcGVyID0gJ3BvcHBlcic7XG5leHBvcnQgdmFyIHJlZmVyZW5jZSA9ICdyZWZlcmVuY2UnO1xuZXhwb3J0IHZhciB2YXJpYXRpb25QbGFjZW1lbnRzID0gLyojX19QVVJFX18qL2Jhc2VQbGFjZW1lbnRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIGFjYy5jb25jYXQoW3BsYWNlbWVudCArIFwiLVwiICsgc3RhcnQsIHBsYWNlbWVudCArIFwiLVwiICsgZW5kXSk7XG59LCBbXSk7XG5leHBvcnQgdmFyIHBsYWNlbWVudHMgPSAvKiNfX1BVUkVfXyovW10uY29uY2F0KGJhc2VQbGFjZW1lbnRzLCBbYXV0b10pLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIGFjYy5jb25jYXQoW3BsYWNlbWVudCwgcGxhY2VtZW50ICsgXCItXCIgKyBzdGFydCwgcGxhY2VtZW50ICsgXCItXCIgKyBlbmRdKTtcbn0sIFtdKTsgLy8gbW9kaWZpZXJzIHRoYXQgbmVlZCB0byByZWFkIHRoZSBET01cblxuZXhwb3J0IHZhciBiZWZvcmVSZWFkID0gJ2JlZm9yZVJlYWQnO1xuZXhwb3J0IHZhciByZWFkID0gJ3JlYWQnO1xuZXhwb3J0IHZhciBhZnRlclJlYWQgPSAnYWZ0ZXJSZWFkJzsgLy8gcHVyZS1sb2dpYyBtb2RpZmllcnNcblxuZXhwb3J0IHZhciBiZWZvcmVNYWluID0gJ2JlZm9yZU1haW4nO1xuZXhwb3J0IHZhciBtYWluID0gJ21haW4nO1xuZXhwb3J0IHZhciBhZnRlck1haW4gPSAnYWZ0ZXJNYWluJzsgLy8gbW9kaWZpZXIgd2l0aCB0aGUgcHVycG9zZSB0byB3cml0ZSB0byB0aGUgRE9NIChvciB3cml0ZSBpbnRvIGEgZnJhbWV3b3JrIHN0YXRlKVxuXG5leHBvcnQgdmFyIGJlZm9yZVdyaXRlID0gJ2JlZm9yZVdyaXRlJztcbmV4cG9ydCB2YXIgd3JpdGUgPSAnd3JpdGUnO1xuZXhwb3J0IHZhciBhZnRlcldyaXRlID0gJ2FmdGVyV3JpdGUnO1xuZXhwb3J0IHZhciBtb2RpZmllclBoYXNlcyA9IFtiZWZvcmVSZWFkLCByZWFkLCBhZnRlclJlYWQsIGJlZm9yZU1haW4sIG1haW4sIGFmdGVyTWFpbiwgYmVmb3JlV3JpdGUsIHdyaXRlLCBhZnRlcldyaXRlXTsiLCJpbXBvcnQgeyBtb2RpZmllclBoYXNlcyB9IGZyb20gXCIuLi9lbnVtcy5qc1wiOyAvLyBzb3VyY2U6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ5ODc1MjU1XG5cbmZ1bmN0aW9uIG9yZGVyKG1vZGlmaWVycykge1xuICB2YXIgbWFwID0gbmV3IE1hcCgpO1xuICB2YXIgdmlzaXRlZCA9IG5ldyBTZXQoKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICBtYXAuc2V0KG1vZGlmaWVyLm5hbWUsIG1vZGlmaWVyKTtcbiAgfSk7IC8vIE9uIHZpc2l0aW5nIG9iamVjdCwgY2hlY2sgZm9yIGl0cyBkZXBlbmRlbmNpZXMgYW5kIHZpc2l0IHRoZW0gcmVjdXJzaXZlbHlcblxuICBmdW5jdGlvbiBzb3J0KG1vZGlmaWVyKSB7XG4gICAgdmlzaXRlZC5hZGQobW9kaWZpZXIubmFtZSk7XG4gICAgdmFyIHJlcXVpcmVzID0gW10uY29uY2F0KG1vZGlmaWVyLnJlcXVpcmVzIHx8IFtdLCBtb2RpZmllci5yZXF1aXJlc0lmRXhpc3RzIHx8IFtdKTtcbiAgICByZXF1aXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXApIHtcbiAgICAgIGlmICghdmlzaXRlZC5oYXMoZGVwKSkge1xuICAgICAgICB2YXIgZGVwTW9kaWZpZXIgPSBtYXAuZ2V0KGRlcCk7XG5cbiAgICAgICAgaWYgKGRlcE1vZGlmaWVyKSB7XG4gICAgICAgICAgc29ydChkZXBNb2RpZmllcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXN1bHQucHVzaChtb2RpZmllcik7XG4gIH1cblxuICBtb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICBpZiAoIXZpc2l0ZWQuaGFzKG1vZGlmaWVyLm5hbWUpKSB7XG4gICAgICAvLyBjaGVjayBmb3IgdmlzaXRlZCBvYmplY3RcbiAgICAgIHNvcnQobW9kaWZpZXIpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG9yZGVyTW9kaWZpZXJzKG1vZGlmaWVycykge1xuICAvLyBvcmRlciBiYXNlZCBvbiBkZXBlbmRlbmNpZXNcbiAgdmFyIG9yZGVyZWRNb2RpZmllcnMgPSBvcmRlcihtb2RpZmllcnMpOyAvLyBvcmRlciBiYXNlZCBvbiBwaGFzZVxuXG4gIHJldHVybiBtb2RpZmllclBoYXNlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGhhc2UpIHtcbiAgICByZXR1cm4gYWNjLmNvbmNhdChvcmRlcmVkTW9kaWZpZXJzLmZpbHRlcihmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICAgIHJldHVybiBtb2RpZmllci5waGFzZSA9PT0gcGhhc2U7XG4gICAgfSkpO1xuICB9LCBbXSk7XG59IiwiaW1wb3J0IGdldENvbXBvc2l0ZVJlY3QgZnJvbSBcIi4vZG9tLXV0aWxzL2dldENvbXBvc2l0ZVJlY3QuanNcIjtcbmltcG9ydCBnZXRMYXlvdXRSZWN0IGZyb20gXCIuL2RvbS11dGlscy9nZXRMYXlvdXRSZWN0LmpzXCI7XG5pbXBvcnQgbGlzdFNjcm9sbFBhcmVudHMgZnJvbSBcIi4vZG9tLXV0aWxzL2xpc3RTY3JvbGxQYXJlbnRzLmpzXCI7XG5pbXBvcnQgZ2V0T2Zmc2V0UGFyZW50IGZyb20gXCIuL2RvbS11dGlscy9nZXRPZmZzZXRQYXJlbnQuanNcIjtcbmltcG9ydCBnZXRDb21wdXRlZFN0eWxlIGZyb20gXCIuL2RvbS11dGlscy9nZXRDb21wdXRlZFN0eWxlLmpzXCI7XG5pbXBvcnQgb3JkZXJNb2RpZmllcnMgZnJvbSBcIi4vdXRpbHMvb3JkZXJNb2RpZmllcnMuanNcIjtcbmltcG9ydCBkZWJvdW5jZSBmcm9tIFwiLi91dGlscy9kZWJvdW5jZS5qc1wiO1xuaW1wb3J0IHZhbGlkYXRlTW9kaWZpZXJzIGZyb20gXCIuL3V0aWxzL3ZhbGlkYXRlTW9kaWZpZXJzLmpzXCI7XG5pbXBvcnQgdW5pcXVlQnkgZnJvbSBcIi4vdXRpbHMvdW5pcXVlQnkuanNcIjtcbmltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBtZXJnZUJ5TmFtZSBmcm9tIFwiLi91dGlscy9tZXJnZUJ5TmFtZS5qc1wiO1xuaW1wb3J0IGRldGVjdE92ZXJmbG93IGZyb20gXCIuL3V0aWxzL2RldGVjdE92ZXJmbG93LmpzXCI7XG5pbXBvcnQgeyBpc0VsZW1lbnQgfSBmcm9tIFwiLi9kb20tdXRpbHMvaW5zdGFuY2VPZi5qc1wiO1xuaW1wb3J0IHsgYXV0byB9IGZyb20gXCIuL2VudW1zLmpzXCI7XG52YXIgSU5WQUxJRF9FTEVNRU5UX0VSUk9SID0gJ1BvcHBlcjogSW52YWxpZCByZWZlcmVuY2Ugb3IgcG9wcGVyIGFyZ3VtZW50IHByb3ZpZGVkLiBUaGV5IG11c3QgYmUgZWl0aGVyIGEgRE9NIGVsZW1lbnQgb3IgdmlydHVhbCBlbGVtZW50Lic7XG52YXIgSU5GSU5JVEVfTE9PUF9FUlJPUiA9ICdQb3BwZXI6IEFuIGluZmluaXRlIGxvb3AgaW4gdGhlIG1vZGlmaWVycyBjeWNsZSBoYXMgYmVlbiBkZXRlY3RlZCEgVGhlIGN5Y2xlIGhhcyBiZWVuIGludGVycnVwdGVkIHRvIHByZXZlbnQgYSBicm93c2VyIGNyYXNoLic7XG52YXIgREVGQVVMVF9PUFRJT05TID0ge1xuICBwbGFjZW1lbnQ6ICdib3R0b20nLFxuICBtb2RpZmllcnM6IFtdLFxuICBzdHJhdGVneTogJ2Fic29sdXRlJ1xufTtcblxuZnVuY3Rpb24gYXJlVmFsaWRFbGVtZW50cygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiAhYXJncy5zb21lKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuICEoZWxlbWVudCAmJiB0eXBlb2YgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPT09ICdmdW5jdGlvbicpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvcHBlckdlbmVyYXRvcihnZW5lcmF0b3JPcHRpb25zKSB7XG4gIGlmIChnZW5lcmF0b3JPcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBnZW5lcmF0b3JPcHRpb25zID0ge307XG4gIH1cblxuICB2YXIgX2dlbmVyYXRvck9wdGlvbnMgPSBnZW5lcmF0b3JPcHRpb25zLFxuICAgICAgX2dlbmVyYXRvck9wdGlvbnMkZGVmID0gX2dlbmVyYXRvck9wdGlvbnMuZGVmYXVsdE1vZGlmaWVycyxcbiAgICAgIGRlZmF1bHRNb2RpZmllcnMgPSBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYgPT09IHZvaWQgMCA/IFtdIDogX2dlbmVyYXRvck9wdGlvbnMkZGVmLFxuICAgICAgX2dlbmVyYXRvck9wdGlvbnMkZGVmMiA9IF9nZW5lcmF0b3JPcHRpb25zLmRlZmF1bHRPcHRpb25zLFxuICAgICAgZGVmYXVsdE9wdGlvbnMgPSBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYyID09PSB2b2lkIDAgPyBERUZBVUxUX09QVElPTlMgOiBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYyO1xuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlUG9wcGVyKHJlZmVyZW5jZSwgcG9wcGVyLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xuICAgIH1cblxuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgIHBsYWNlbWVudDogJ2JvdHRvbScsXG4gICAgICBvcmRlcmVkTW9kaWZpZXJzOiBbXSxcbiAgICAgIG9wdGlvbnM6IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfT1BUSU9OUywgZGVmYXVsdE9wdGlvbnMpLFxuICAgICAgbW9kaWZpZXJzRGF0YToge30sXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICByZWZlcmVuY2U6IHJlZmVyZW5jZSxcbiAgICAgICAgcG9wcGVyOiBwb3BwZXJcbiAgICAgIH0sXG4gICAgICBhdHRyaWJ1dGVzOiB7fSxcbiAgICAgIHN0eWxlczoge31cbiAgICB9O1xuICAgIHZhciBlZmZlY3RDbGVhbnVwRm5zID0gW107XG4gICAgdmFyIGlzRGVzdHJveWVkID0gZmFsc2U7XG4gICAgdmFyIGluc3RhbmNlID0ge1xuICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgc2V0T3B0aW9uczogZnVuY3Rpb24gc2V0T3B0aW9ucyhzZXRPcHRpb25zQWN0aW9uKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIHNldE9wdGlvbnNBY3Rpb24gPT09ICdmdW5jdGlvbicgPyBzZXRPcHRpb25zQWN0aW9uKHN0YXRlLm9wdGlvbnMpIDogc2V0T3B0aW9uc0FjdGlvbjtcbiAgICAgICAgY2xlYW51cE1vZGlmaWVyRWZmZWN0cygpO1xuICAgICAgICBzdGF0ZS5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIHN0YXRlLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICBzdGF0ZS5zY3JvbGxQYXJlbnRzID0ge1xuICAgICAgICAgIHJlZmVyZW5jZTogaXNFbGVtZW50KHJlZmVyZW5jZSkgPyBsaXN0U2Nyb2xsUGFyZW50cyhyZWZlcmVuY2UpIDogcmVmZXJlbmNlLmNvbnRleHRFbGVtZW50ID8gbGlzdFNjcm9sbFBhcmVudHMocmVmZXJlbmNlLmNvbnRleHRFbGVtZW50KSA6IFtdLFxuICAgICAgICAgIHBvcHBlcjogbGlzdFNjcm9sbFBhcmVudHMocG9wcGVyKVxuICAgICAgICB9OyAvLyBPcmRlcnMgdGhlIG1vZGlmaWVycyBiYXNlZCBvbiB0aGVpciBkZXBlbmRlbmNpZXMgYW5kIGBwaGFzZWBcbiAgICAgICAgLy8gcHJvcGVydGllc1xuXG4gICAgICAgIHZhciBvcmRlcmVkTW9kaWZpZXJzID0gb3JkZXJNb2RpZmllcnMobWVyZ2VCeU5hbWUoW10uY29uY2F0KGRlZmF1bHRNb2RpZmllcnMsIHN0YXRlLm9wdGlvbnMubW9kaWZpZXJzKSkpOyAvLyBTdHJpcCBvdXQgZGlzYWJsZWQgbW9kaWZpZXJzXG5cbiAgICAgICAgc3RhdGUub3JkZXJlZE1vZGlmaWVycyA9IG9yZGVyZWRNb2RpZmllcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgcmV0dXJuIG0uZW5hYmxlZDtcbiAgICAgICAgfSk7IC8vIFZhbGlkYXRlIHRoZSBwcm92aWRlZCBtb2RpZmllcnMgc28gdGhhdCB0aGUgY29uc3VtZXIgd2lsbCBnZXQgd2FybmVkXG4gICAgICAgIC8vIGlmIG9uZSBvZiB0aGUgbW9kaWZpZXJzIGlzIGludmFsaWQgZm9yIGFueSByZWFzb25cblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgICAgdmFyIG1vZGlmaWVycyA9IHVuaXF1ZUJ5KFtdLmNvbmNhdChvcmRlcmVkTW9kaWZpZXJzLCBzdGF0ZS5vcHRpb25zLm1vZGlmaWVycyksIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IF9yZWYubmFtZTtcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhbGlkYXRlTW9kaWZpZXJzKG1vZGlmaWVycyk7XG5cbiAgICAgICAgICBpZiAoZ2V0QmFzZVBsYWNlbWVudChzdGF0ZS5vcHRpb25zLnBsYWNlbWVudCkgPT09IGF1dG8pIHtcbiAgICAgICAgICAgIHZhciBmbGlwTW9kaWZpZXIgPSBzdGF0ZS5vcmRlcmVkTW9kaWZpZXJzLmZpbmQoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgICAgICAgIHZhciBuYW1lID0gX3JlZjIubmFtZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdmbGlwJztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIWZsaXBNb2RpZmllcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFsnUG9wcGVyOiBcImF1dG9cIiBwbGFjZW1lbnRzIHJlcXVpcmUgdGhlIFwiZmxpcFwiIG1vZGlmaWVyIGJlJywgJ3ByZXNlbnQgYW5kIGVuYWJsZWQgdG8gd29yay4nXS5qb2luKCcgJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBfZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUocG9wcGVyKSxcbiAgICAgICAgICAgICAgbWFyZ2luVG9wID0gX2dldENvbXB1dGVkU3R5bGUubWFyZ2luVG9wLFxuICAgICAgICAgICAgICBtYXJnaW5SaWdodCA9IF9nZXRDb21wdXRlZFN0eWxlLm1hcmdpblJpZ2h0LFxuICAgICAgICAgICAgICBtYXJnaW5Cb3R0b20gPSBfZ2V0Q29tcHV0ZWRTdHlsZS5tYXJnaW5Cb3R0b20sXG4gICAgICAgICAgICAgIG1hcmdpbkxlZnQgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5tYXJnaW5MZWZ0OyAvLyBXZSBubyBsb25nZXIgdGFrZSBpbnRvIGFjY291bnQgYG1hcmdpbnNgIG9uIHRoZSBwb3BwZXIsIGFuZCBpdCBjYW5cbiAgICAgICAgICAvLyBjYXVzZSBidWdzIHdpdGggcG9zaXRpb25pbmcsIHNvIHdlJ2xsIHdhcm4gdGhlIGNvbnN1bWVyXG5cblxuICAgICAgICAgIGlmIChbbWFyZ2luVG9wLCBtYXJnaW5SaWdodCwgbWFyZ2luQm90dG9tLCBtYXJnaW5MZWZ0XS5zb21lKGZ1bmN0aW9uIChtYXJnaW4pIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KG1hcmdpbik7XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihbJ1BvcHBlcjogQ1NTIFwibWFyZ2luXCIgc3R5bGVzIGNhbm5vdCBiZSB1c2VkIHRvIGFwcGx5IHBhZGRpbmcnLCAnYmV0d2VlbiB0aGUgcG9wcGVyIGFuZCBpdHMgcmVmZXJlbmNlIGVsZW1lbnQgb3IgYm91bmRhcnkuJywgJ1RvIHJlcGxpY2F0ZSBtYXJnaW4sIHVzZSB0aGUgYG9mZnNldGAgbW9kaWZpZXIsIGFzIHdlbGwgYXMnLCAndGhlIGBwYWRkaW5nYCBvcHRpb24gaW4gdGhlIGBwcmV2ZW50T3ZlcmZsb3dgIGFuZCBgZmxpcGAnLCAnbW9kaWZpZXJzLiddLmpvaW4oJyAnKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcnVuTW9kaWZpZXJFZmZlY3RzKCk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgIH0sXG4gICAgICAvLyBTeW5jIHVwZGF0ZSDigJMgaXQgd2lsbCBhbHdheXMgYmUgZXhlY3V0ZWQsIGV2ZW4gaWYgbm90IG5lY2Vzc2FyeS4gVGhpc1xuICAgICAgLy8gaXMgdXNlZnVsIGZvciBsb3cgZnJlcXVlbmN5IHVwZGF0ZXMgd2hlcmUgc3luYyBiZWhhdmlvciBzaW1wbGlmaWVzIHRoZVxuICAgICAgLy8gbG9naWMuXG4gICAgICAvLyBGb3IgaGlnaCBmcmVxdWVuY3kgdXBkYXRlcyAoZS5nLiBgcmVzaXplYCBhbmQgYHNjcm9sbGAgZXZlbnRzKSwgYWx3YXlzXG4gICAgICAvLyBwcmVmZXIgdGhlIGFzeW5jIFBvcHBlciN1cGRhdGUgbWV0aG9kXG4gICAgICBmb3JjZVVwZGF0ZTogZnVuY3Rpb24gZm9yY2VVcGRhdGUoKSB7XG4gICAgICAgIGlmIChpc0Rlc3Ryb3llZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfc3RhdGUkZWxlbWVudHMgPSBzdGF0ZS5lbGVtZW50cyxcbiAgICAgICAgICAgIHJlZmVyZW5jZSA9IF9zdGF0ZSRlbGVtZW50cy5yZWZlcmVuY2UsXG4gICAgICAgICAgICBwb3BwZXIgPSBfc3RhdGUkZWxlbWVudHMucG9wcGVyOyAvLyBEb24ndCBwcm9jZWVkIGlmIGByZWZlcmVuY2VgIG9yIGBwb3BwZXJgIGFyZSBub3QgdmFsaWQgZWxlbWVudHNcbiAgICAgICAgLy8gYW55bW9yZVxuXG4gICAgICAgIGlmICghYXJlVmFsaWRFbGVtZW50cyhyZWZlcmVuY2UsIHBvcHBlcikpIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKElOVkFMSURfRUxFTUVOVF9FUlJPUik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIFN0b3JlIHRoZSByZWZlcmVuY2UgYW5kIHBvcHBlciByZWN0cyB0byBiZSByZWFkIGJ5IG1vZGlmaWVyc1xuXG5cbiAgICAgICAgc3RhdGUucmVjdHMgPSB7XG4gICAgICAgICAgcmVmZXJlbmNlOiBnZXRDb21wb3NpdGVSZWN0KHJlZmVyZW5jZSwgZ2V0T2Zmc2V0UGFyZW50KHBvcHBlciksIHN0YXRlLm9wdGlvbnMuc3RyYXRlZ3kgPT09ICdmaXhlZCcpLFxuICAgICAgICAgIHBvcHBlcjogZ2V0TGF5b3V0UmVjdChwb3BwZXIpXG4gICAgICAgIH07IC8vIE1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIHJlc2V0IHRoZSBjdXJyZW50IHVwZGF0ZSBjeWNsZS4gVGhlXG4gICAgICAgIC8vIG1vc3QgY29tbW9uIHVzZSBjYXNlIGZvciB0aGlzIGlzIHRoZSBgZmxpcGAgbW9kaWZpZXIgY2hhbmdpbmcgdGhlXG4gICAgICAgIC8vIHBsYWNlbWVudCwgd2hpY2ggdGhlbiBuZWVkcyB0byByZS1ydW4gYWxsIHRoZSBtb2RpZmllcnMsIGJlY2F1c2UgdGhlXG4gICAgICAgIC8vIGxvZ2ljIHdhcyBwcmV2aW91c2x5IHJhbiBmb3IgdGhlIHByZXZpb3VzIHBsYWNlbWVudCBhbmQgaXMgdGhlcmVmb3JlXG4gICAgICAgIC8vIHN0YWxlL2luY29ycmVjdFxuXG4gICAgICAgIHN0YXRlLnJlc2V0ID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLnBsYWNlbWVudCA9IHN0YXRlLm9wdGlvbnMucGxhY2VtZW50OyAvLyBPbiBlYWNoIHVwZGF0ZSBjeWNsZSwgdGhlIGBtb2RpZmllcnNEYXRhYCBwcm9wZXJ0eSBmb3IgZWFjaCBtb2RpZmllclxuICAgICAgICAvLyBpcyBmaWxsZWQgd2l0aCB0aGUgaW5pdGlhbCBkYXRhIHNwZWNpZmllZCBieSB0aGUgbW9kaWZpZXIuIFRoaXMgbWVhbnNcbiAgICAgICAgLy8gaXQgZG9lc24ndCBwZXJzaXN0IGFuZCBpcyBmcmVzaCBvbiBlYWNoIHVwZGF0ZS5cbiAgICAgICAgLy8gVG8gZW5zdXJlIHBlcnNpc3RlbnQgZGF0YSwgdXNlIGAke25hbWV9I3BlcnNpc3RlbnRgXG5cbiAgICAgICAgc3RhdGUub3JkZXJlZE1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgICAgICAgIHJldHVybiBzdGF0ZS5tb2RpZmllcnNEYXRhW21vZGlmaWVyLm5hbWVdID0gT2JqZWN0LmFzc2lnbih7fSwgbW9kaWZpZXIuZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgX19kZWJ1Z19sb29wc19fID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgc3RhdGUub3JkZXJlZE1vZGlmaWVycy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgICAgICBfX2RlYnVnX2xvb3BzX18gKz0gMTtcblxuICAgICAgICAgICAgaWYgKF9fZGVidWdfbG9vcHNfXyA+IDEwMCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKElORklOSVRFX0xPT1BfRVJST1IpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3RhdGUucmVzZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHN0YXRlLnJlc2V0ID0gZmFsc2U7XG4gICAgICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIF9zdGF0ZSRvcmRlcmVkTW9kaWZpZSA9IHN0YXRlLm9yZGVyZWRNb2RpZmllcnNbaW5kZXhdLFxuICAgICAgICAgICAgICBmbiA9IF9zdGF0ZSRvcmRlcmVkTW9kaWZpZS5mbixcbiAgICAgICAgICAgICAgX3N0YXRlJG9yZGVyZWRNb2RpZmllMiA9IF9zdGF0ZSRvcmRlcmVkTW9kaWZpZS5vcHRpb25zLFxuICAgICAgICAgICAgICBfb3B0aW9ucyA9IF9zdGF0ZSRvcmRlcmVkTW9kaWZpZTIgPT09IHZvaWQgMCA/IHt9IDogX3N0YXRlJG9yZGVyZWRNb2RpZmllMixcbiAgICAgICAgICAgICAgbmFtZSA9IF9zdGF0ZSRvcmRlcmVkTW9kaWZpZS5uYW1lO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3RhdGUgPSBmbih7XG4gICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgICAgICAgICAgb3B0aW9uczogX29wdGlvbnMsXG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZVxuICAgICAgICAgICAgfSkgfHwgc3RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gQXN5bmMgYW5kIG9wdGltaXN0aWNhbGx5IG9wdGltaXplZCB1cGRhdGUg4oCTIGl0IHdpbGwgbm90IGJlIGV4ZWN1dGVkIGlmXG4gICAgICAvLyBub3QgbmVjZXNzYXJ5IChkZWJvdW5jZWQgdG8gcnVuIGF0IG1vc3Qgb25jZS1wZXItdGljaylcbiAgICAgIHVwZGF0ZTogZGVib3VuY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICBpbnN0YW5jZS5mb3JjZVVwZGF0ZSgpO1xuICAgICAgICAgIHJlc29sdmUoc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pLFxuICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgY2xlYW51cE1vZGlmaWVyRWZmZWN0cygpO1xuICAgICAgICBpc0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICghYXJlVmFsaWRFbGVtZW50cyhyZWZlcmVuY2UsIHBvcHBlcikpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihJTlZBTElEX0VMRU1FTlRfRVJST1IpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgaWYgKCFpc0Rlc3Ryb3llZCAmJiBvcHRpb25zLm9uRmlyc3RVcGRhdGUpIHtcbiAgICAgICAgb3B0aW9ucy5vbkZpcnN0VXBkYXRlKHN0YXRlKTtcbiAgICAgIH1cbiAgICB9KTsgLy8gTW9kaWZpZXJzIGhhdmUgdGhlIGFiaWxpdHkgdG8gZXhlY3V0ZSBhcmJpdHJhcnkgY29kZSBiZWZvcmUgdGhlIGZpcnN0XG4gICAgLy8gdXBkYXRlIGN5Y2xlIHJ1bnMuIFRoZXkgd2lsbCBiZSBleGVjdXRlZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgdXBkYXRlXG4gICAgLy8gY3ljbGUuIFRoaXMgaXMgdXNlZnVsIHdoZW4gYSBtb2RpZmllciBhZGRzIHNvbWUgcGVyc2lzdGVudCBkYXRhIHRoYXRcbiAgICAvLyBvdGhlciBtb2RpZmllcnMgbmVlZCB0byB1c2UsIGJ1dCB0aGUgbW9kaWZpZXIgaXMgcnVuIGFmdGVyIHRoZSBkZXBlbmRlbnRcbiAgICAvLyBvbmUuXG5cbiAgICBmdW5jdGlvbiBydW5Nb2RpZmllckVmZmVjdHMoKSB7XG4gICAgICBzdGF0ZS5vcmRlcmVkTW9kaWZpZXJzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgIHZhciBuYW1lID0gX3JlZjMubmFtZSxcbiAgICAgICAgICAgIF9yZWYzJG9wdGlvbnMgPSBfcmVmMy5vcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9ucyA9IF9yZWYzJG9wdGlvbnMgPT09IHZvaWQgMCA/IHt9IDogX3JlZjMkb3B0aW9ucyxcbiAgICAgICAgICAgIGVmZmVjdCA9IF9yZWYzLmVmZmVjdDtcblxuICAgICAgICBpZiAodHlwZW9mIGVmZmVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciBjbGVhbnVwRm4gPSBlZmZlY3Qoe1xuICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBub29wRm4gPSBmdW5jdGlvbiBub29wRm4oKSB7fTtcblxuICAgICAgICAgIGVmZmVjdENsZWFudXBGbnMucHVzaChjbGVhbnVwRm4gfHwgbm9vcEZuKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYW51cE1vZGlmaWVyRWZmZWN0cygpIHtcbiAgICAgIGVmZmVjdENsZWFudXBGbnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICB9KTtcbiAgICAgIGVmZmVjdENsZWFudXBGbnMgPSBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG59XG5leHBvcnQgdmFyIGNyZWF0ZVBvcHBlciA9IC8qI19fUFVSRV9fKi9wb3BwZXJHZW5lcmF0b3IoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgeyBkZXRlY3RPdmVyZmxvdyB9OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlYm91bmNlKGZuKSB7XG4gIHZhciBwZW5kaW5nO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghcGVuZGluZykge1xuICAgICAgcGVuZGluZyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHBlbmRpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgcmVzb2x2ZShmbigpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGVuZGluZztcbiAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZXJnZUJ5TmFtZShtb2RpZmllcnMpIHtcbiAgdmFyIG1lcmdlZCA9IG1vZGlmaWVycy5yZWR1Y2UoZnVuY3Rpb24gKG1lcmdlZCwgY3VycmVudCkge1xuICAgIHZhciBleGlzdGluZyA9IG1lcmdlZFtjdXJyZW50Lm5hbWVdO1xuICAgIG1lcmdlZFtjdXJyZW50Lm5hbWVdID0gZXhpc3RpbmcgPyBPYmplY3QuYXNzaWduKHt9LCBleGlzdGluZywgY3VycmVudCwge1xuICAgICAgb3B0aW9uczogT2JqZWN0LmFzc2lnbih7fSwgZXhpc3Rpbmcub3B0aW9ucywgY3VycmVudC5vcHRpb25zKSxcbiAgICAgIGRhdGE6IE9iamVjdC5hc3NpZ24oe30sIGV4aXN0aW5nLmRhdGEsIGN1cnJlbnQuZGF0YSlcbiAgICB9KSA6IGN1cnJlbnQ7XG4gICAgcmV0dXJuIG1lcmdlZDtcbiAgfSwge30pOyAvLyBJRTExIGRvZXMgbm90IHN1cHBvcnQgT2JqZWN0LnZhbHVlc1xuXG4gIHJldHVybiBPYmplY3Qua2V5cyhtZXJnZWQpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIG1lcmdlZFtrZXldO1xuICB9KTtcbn0iLCJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0V2luZG93LmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxudmFyIHBhc3NpdmUgPSB7XG4gIHBhc3NpdmU6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGVmZmVjdChfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBpbnN0YW5jZSA9IF9yZWYuaW5zdGFuY2UsXG4gICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zO1xuICB2YXIgX29wdGlvbnMkc2Nyb2xsID0gb3B0aW9ucy5zY3JvbGwsXG4gICAgICBzY3JvbGwgPSBfb3B0aW9ucyRzY3JvbGwgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRzY3JvbGwsXG4gICAgICBfb3B0aW9ucyRyZXNpemUgPSBvcHRpb25zLnJlc2l6ZSxcbiAgICAgIHJlc2l6ZSA9IF9vcHRpb25zJHJlc2l6ZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHJlc2l6ZTtcbiAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdyhzdGF0ZS5lbGVtZW50cy5wb3BwZXIpO1xuICB2YXIgc2Nyb2xsUGFyZW50cyA9IFtdLmNvbmNhdChzdGF0ZS5zY3JvbGxQYXJlbnRzLnJlZmVyZW5jZSwgc3RhdGUuc2Nyb2xsUGFyZW50cy5wb3BwZXIpO1xuXG4gIGlmIChzY3JvbGwpIHtcbiAgICBzY3JvbGxQYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHNjcm9sbFBhcmVudCkge1xuICAgICAgc2Nyb2xsUGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGluc3RhbmNlLnVwZGF0ZSwgcGFzc2l2ZSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAocmVzaXplKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGluc3RhbmNlLnVwZGF0ZSwgcGFzc2l2ZSk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChzY3JvbGwpIHtcbiAgICAgIHNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAoc2Nyb2xsUGFyZW50KSB7XG4gICAgICAgIHNjcm9sbFBhcmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBpbnN0YW5jZS51cGRhdGUsIHBhc3NpdmUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHJlc2l6ZSkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGluc3RhbmNlLnVwZGF0ZSwgcGFzc2l2ZSk7XG4gICAgfVxuICB9O1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnZXZlbnRMaXN0ZW5lcnMnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ3dyaXRlJyxcbiAgZm46IGZ1bmN0aW9uIGZuKCkge30sXG4gIGVmZmVjdDogZWZmZWN0LFxuICBkYXRhOiB7fVxufTsiLCJpbXBvcnQgeyBhdXRvIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KCctJylbMV07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpID49IDAgPyAneCcgOiAneSc7XG59IiwiaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4vZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldFZhcmlhdGlvbiBmcm9tIFwiLi9nZXRWYXJpYXRpb24uanNcIjtcbmltcG9ydCBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQgZnJvbSBcIi4vZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgeyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQsIHN0YXJ0LCBlbmQgfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbXB1dGVPZmZzZXRzKF9yZWYpIHtcbiAgdmFyIHJlZmVyZW5jZSA9IF9yZWYucmVmZXJlbmNlLFxuICAgICAgZWxlbWVudCA9IF9yZWYuZWxlbWVudCxcbiAgICAgIHBsYWNlbWVudCA9IF9yZWYucGxhY2VtZW50O1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IHBsYWNlbWVudCA/IGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KSA6IG51bGw7XG4gIHZhciB2YXJpYXRpb24gPSBwbGFjZW1lbnQgPyBnZXRWYXJpYXRpb24ocGxhY2VtZW50KSA6IG51bGw7XG4gIHZhciBjb21tb25YID0gcmVmZXJlbmNlLnggKyByZWZlcmVuY2Uud2lkdGggLyAyIC0gZWxlbWVudC53aWR0aCAvIDI7XG4gIHZhciBjb21tb25ZID0gcmVmZXJlbmNlLnkgKyByZWZlcmVuY2UuaGVpZ2h0IC8gMiAtIGVsZW1lbnQuaGVpZ2h0IC8gMjtcbiAgdmFyIG9mZnNldHM7XG5cbiAgc3dpdGNoIChiYXNlUGxhY2VtZW50KSB7XG4gICAgY2FzZSB0b3A6XG4gICAgICBvZmZzZXRzID0ge1xuICAgICAgICB4OiBjb21tb25YLFxuICAgICAgICB5OiByZWZlcmVuY2UueSAtIGVsZW1lbnQuaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIGJvdHRvbTpcbiAgICAgIG9mZnNldHMgPSB7XG4gICAgICAgIHg6IGNvbW1vblgsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSByaWdodDpcbiAgICAgIG9mZnNldHMgPSB7XG4gICAgICAgIHg6IHJlZmVyZW5jZS54ICsgcmVmZXJlbmNlLndpZHRoLFxuICAgICAgICB5OiBjb21tb25ZXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIGxlZnQ6XG4gICAgICBvZmZzZXRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCAtIGVsZW1lbnQud2lkdGgsXG4gICAgICAgIHk6IGNvbW1vbllcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBvZmZzZXRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnlcbiAgICAgIH07XG4gIH1cblxuICB2YXIgbWFpbkF4aXMgPSBiYXNlUGxhY2VtZW50ID8gZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50KGJhc2VQbGFjZW1lbnQpIDogbnVsbDtcblxuICBpZiAobWFpbkF4aXMgIT0gbnVsbCkge1xuICAgIHZhciBsZW4gPSBtYWluQXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gICAgc3dpdGNoICh2YXJpYXRpb24pIHtcbiAgICAgIGNhc2Ugc3RhcnQ6XG4gICAgICAgIG9mZnNldHNbbWFpbkF4aXNdID0gb2Zmc2V0c1ttYWluQXhpc10gLSAocmVmZXJlbmNlW2xlbl0gLyAyIC0gZWxlbWVudFtsZW5dIC8gMik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIGVuZDpcbiAgICAgICAgb2Zmc2V0c1ttYWluQXhpc10gPSBvZmZzZXRzW21haW5BeGlzXSArIChyZWZlcmVuY2VbbGVuXSAvIDIgLSBlbGVtZW50W2xlbl0gLyAyKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9mZnNldHM7XG59IiwiaW1wb3J0IGNvbXB1dGVPZmZzZXRzIGZyb20gXCIuLi91dGlscy9jb21wdXRlT2Zmc2V0cy5qc1wiO1xuXG5mdW5jdGlvbiBwb3BwZXJPZmZzZXRzKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWU7XG4gIC8vIE9mZnNldHMgYXJlIHRoZSBhY3R1YWwgcG9zaXRpb24gdGhlIHBvcHBlciBuZWVkcyB0byBoYXZlIHRvIGJlXG4gIC8vIHByb3Blcmx5IHBvc2l0aW9uZWQgbmVhciBpdHMgcmVmZXJlbmNlIGVsZW1lbnRcbiAgLy8gVGhpcyBpcyB0aGUgbW9zdCBiYXNpYyBwbGFjZW1lbnQsIGFuZCB3aWxsIGJlIGFkanVzdGVkIGJ5XG4gIC8vIHRoZSBtb2RpZmllcnMgaW4gdGhlIG5leHQgc3RlcFxuICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdID0gY29tcHV0ZU9mZnNldHMoe1xuICAgIHJlZmVyZW5jZTogc3RhdGUucmVjdHMucmVmZXJlbmNlLFxuICAgIGVsZW1lbnQ6IHN0YXRlLnJlY3RzLnBvcHBlcixcbiAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICBwbGFjZW1lbnQ6IHN0YXRlLnBsYWNlbWVudFxuICB9KTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ3BvcHBlck9mZnNldHMnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ3JlYWQnLFxuICBmbjogcG9wcGVyT2Zmc2V0cyxcbiAgZGF0YToge31cbn07IiwiaW1wb3J0IHsgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tLCBlbmQgfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmltcG9ydCBnZXRPZmZzZXRQYXJlbnQgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRPZmZzZXRQYXJlbnQuanNcIjtcbmltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRXaW5kb3cuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4uL2RvbS11dGlscy9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCBnZXRDb21wdXRlZFN0eWxlIGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0Q29tcHV0ZWRTdHlsZS5qc1wiO1xuaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBnZXRWYXJpYXRpb24gZnJvbSBcIi4uL3V0aWxzL2dldFZhcmlhdGlvbi5qc1wiO1xuaW1wb3J0IHsgcm91bmQgfSBmcm9tIFwiLi4vdXRpbHMvbWF0aC5qc1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbnZhciB1bnNldFNpZGVzID0ge1xuICB0b3A6ICdhdXRvJyxcbiAgcmlnaHQ6ICdhdXRvJyxcbiAgYm90dG9tOiAnYXV0bycsXG4gIGxlZnQ6ICdhdXRvJ1xufTsgLy8gUm91bmQgdGhlIG9mZnNldHMgdG8gdGhlIG5lYXJlc3Qgc3VpdGFibGUgc3VicGl4ZWwgYmFzZWQgb24gdGhlIERQUi5cbi8vIFpvb21pbmcgY2FuIGNoYW5nZSB0aGUgRFBSLCBidXQgaXQgc2VlbXMgdG8gcmVwb3J0IGEgdmFsdWUgdGhhdCB3aWxsXG4vLyBjbGVhbmx5IGRpdmlkZSB0aGUgdmFsdWVzIGludG8gdGhlIGFwcHJvcHJpYXRlIHN1YnBpeGVscy5cblxuZnVuY3Rpb24gcm91bmRPZmZzZXRzQnlEUFIoX3JlZiwgd2luKSB7XG4gIHZhciB4ID0gX3JlZi54LFxuICAgICAgeSA9IF9yZWYueTtcbiAgdmFyIGRwciA9IHdpbi5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gIHJldHVybiB7XG4gICAgeDogcm91bmQoeCAqIGRwcikgLyBkcHIgfHwgMCxcbiAgICB5OiByb3VuZCh5ICogZHByKSAvIGRwciB8fCAwXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBUb1N0eWxlcyhfcmVmMikge1xuICB2YXIgX09iamVjdCRhc3NpZ24yO1xuXG4gIHZhciBwb3BwZXIgPSBfcmVmMi5wb3BwZXIsXG4gICAgICBwb3BwZXJSZWN0ID0gX3JlZjIucG9wcGVyUmVjdCxcbiAgICAgIHBsYWNlbWVudCA9IF9yZWYyLnBsYWNlbWVudCxcbiAgICAgIHZhcmlhdGlvbiA9IF9yZWYyLnZhcmlhdGlvbixcbiAgICAgIG9mZnNldHMgPSBfcmVmMi5vZmZzZXRzLFxuICAgICAgcG9zaXRpb24gPSBfcmVmMi5wb3NpdGlvbixcbiAgICAgIGdwdUFjY2VsZXJhdGlvbiA9IF9yZWYyLmdwdUFjY2VsZXJhdGlvbixcbiAgICAgIGFkYXB0aXZlID0gX3JlZjIuYWRhcHRpdmUsXG4gICAgICByb3VuZE9mZnNldHMgPSBfcmVmMi5yb3VuZE9mZnNldHMsXG4gICAgICBpc0ZpeGVkID0gX3JlZjIuaXNGaXhlZDtcbiAgdmFyIF9vZmZzZXRzJHggPSBvZmZzZXRzLngsXG4gICAgICB4ID0gX29mZnNldHMkeCA9PT0gdm9pZCAwID8gMCA6IF9vZmZzZXRzJHgsXG4gICAgICBfb2Zmc2V0cyR5ID0gb2Zmc2V0cy55LFxuICAgICAgeSA9IF9vZmZzZXRzJHkgPT09IHZvaWQgMCA/IDAgOiBfb2Zmc2V0cyR5O1xuXG4gIHZhciBfcmVmMyA9IHR5cGVvZiByb3VuZE9mZnNldHMgPT09ICdmdW5jdGlvbicgPyByb3VuZE9mZnNldHMoe1xuICAgIHg6IHgsXG4gICAgeTogeVxuICB9KSA6IHtcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfTtcblxuICB4ID0gX3JlZjMueDtcbiAgeSA9IF9yZWYzLnk7XG4gIHZhciBoYXNYID0gb2Zmc2V0cy5oYXNPd25Qcm9wZXJ0eSgneCcpO1xuICB2YXIgaGFzWSA9IG9mZnNldHMuaGFzT3duUHJvcGVydHkoJ3knKTtcbiAgdmFyIHNpZGVYID0gbGVmdDtcbiAgdmFyIHNpZGVZID0gdG9wO1xuICB2YXIgd2luID0gd2luZG93O1xuXG4gIGlmIChhZGFwdGl2ZSkge1xuICAgIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQocG9wcGVyKTtcbiAgICB2YXIgaGVpZ2h0UHJvcCA9ICdjbGllbnRIZWlnaHQnO1xuICAgIHZhciB3aWR0aFByb3AgPSAnY2xpZW50V2lkdGgnO1xuXG4gICAgaWYgKG9mZnNldFBhcmVudCA9PT0gZ2V0V2luZG93KHBvcHBlcikpIHtcbiAgICAgIG9mZnNldFBhcmVudCA9IGdldERvY3VtZW50RWxlbWVudChwb3BwZXIpO1xuXG4gICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShvZmZzZXRQYXJlbnQpLnBvc2l0aW9uICE9PSAnc3RhdGljJyAmJiBwb3NpdGlvbiA9PT0gJ2Fic29sdXRlJykge1xuICAgICAgICBoZWlnaHRQcm9wID0gJ3Njcm9sbEhlaWdodCc7XG4gICAgICAgIHdpZHRoUHJvcCA9ICdzY3JvbGxXaWR0aCc7XG4gICAgICB9XG4gICAgfSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYXN0XTogZm9yY2UgdHlwZSByZWZpbmVtZW50LCB3ZSBjb21wYXJlIG9mZnNldFBhcmVudCB3aXRoIHdpbmRvdyBhYm92ZSwgYnV0IEZsb3cgZG9lc24ndCBkZXRlY3QgaXRcblxuXG4gICAgb2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50O1xuXG4gICAgaWYgKHBsYWNlbWVudCA9PT0gdG9wIHx8IChwbGFjZW1lbnQgPT09IGxlZnQgfHwgcGxhY2VtZW50ID09PSByaWdodCkgJiYgdmFyaWF0aW9uID09PSBlbmQpIHtcbiAgICAgIHNpZGVZID0gYm90dG9tO1xuICAgICAgdmFyIG9mZnNldFkgPSBpc0ZpeGVkICYmIG9mZnNldFBhcmVudCA9PT0gd2luICYmIHdpbi52aXN1YWxWaWV3cG9ydCA/IHdpbi52aXN1YWxWaWV3cG9ydC5oZWlnaHQgOiAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICAgIG9mZnNldFBhcmVudFtoZWlnaHRQcm9wXTtcbiAgICAgIHkgLT0gb2Zmc2V0WSAtIHBvcHBlclJlY3QuaGVpZ2h0O1xuICAgICAgeSAqPSBncHVBY2NlbGVyYXRpb24gPyAxIDogLTE7XG4gICAgfVxuXG4gICAgaWYgKHBsYWNlbWVudCA9PT0gbGVmdCB8fCAocGxhY2VtZW50ID09PSB0b3AgfHwgcGxhY2VtZW50ID09PSBib3R0b20pICYmIHZhcmlhdGlvbiA9PT0gZW5kKSB7XG4gICAgICBzaWRlWCA9IHJpZ2h0O1xuICAgICAgdmFyIG9mZnNldFggPSBpc0ZpeGVkICYmIG9mZnNldFBhcmVudCA9PT0gd2luICYmIHdpbi52aXN1YWxWaWV3cG9ydCA/IHdpbi52aXN1YWxWaWV3cG9ydC53aWR0aCA6IC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgb2Zmc2V0UGFyZW50W3dpZHRoUHJvcF07XG4gICAgICB4IC09IG9mZnNldFggLSBwb3BwZXJSZWN0LndpZHRoO1xuICAgICAgeCAqPSBncHVBY2NlbGVyYXRpb24gPyAxIDogLTE7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbW1vblN0eWxlcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIHBvc2l0aW9uOiBwb3NpdGlvblxuICB9LCBhZGFwdGl2ZSAmJiB1bnNldFNpZGVzKTtcblxuICB2YXIgX3JlZjQgPSByb3VuZE9mZnNldHMgPT09IHRydWUgPyByb3VuZE9mZnNldHNCeURQUih7XG4gICAgeDogeCxcbiAgICB5OiB5XG4gIH0sIGdldFdpbmRvdyhwb3BwZXIpKSA6IHtcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfTtcblxuICB4ID0gX3JlZjQueDtcbiAgeSA9IF9yZWY0Lnk7XG5cbiAgaWYgKGdwdUFjY2VsZXJhdGlvbikge1xuICAgIHZhciBfT2JqZWN0JGFzc2lnbjtcblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjb21tb25TdHlsZXMsIChfT2JqZWN0JGFzc2lnbiA9IHt9LCBfT2JqZWN0JGFzc2lnbltzaWRlWV0gPSBoYXNZID8gJzAnIDogJycsIF9PYmplY3QkYXNzaWduW3NpZGVYXSA9IGhhc1ggPyAnMCcgOiAnJywgX09iamVjdCRhc3NpZ24udHJhbnNmb3JtID0gKHdpbi5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpIDw9IDEgPyBcInRyYW5zbGF0ZShcIiArIHggKyBcInB4LCBcIiArIHkgKyBcInB4KVwiIDogXCJ0cmFuc2xhdGUzZChcIiArIHggKyBcInB4LCBcIiArIHkgKyBcInB4LCAwKVwiLCBfT2JqZWN0JGFzc2lnbikpO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblN0eWxlcywgKF9PYmplY3QkYXNzaWduMiA9IHt9LCBfT2JqZWN0JGFzc2lnbjJbc2lkZVldID0gaGFzWSA/IHkgKyBcInB4XCIgOiAnJywgX09iamVjdCRhc3NpZ24yW3NpZGVYXSA9IGhhc1ggPyB4ICsgXCJweFwiIDogJycsIF9PYmplY3QkYXNzaWduMi50cmFuc2Zvcm0gPSAnJywgX09iamVjdCRhc3NpZ24yKSk7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVTdHlsZXMoX3JlZjUpIHtcbiAgdmFyIHN0YXRlID0gX3JlZjUuc3RhdGUsXG4gICAgICBvcHRpb25zID0gX3JlZjUub3B0aW9ucztcbiAgdmFyIF9vcHRpb25zJGdwdUFjY2VsZXJhdCA9IG9wdGlvbnMuZ3B1QWNjZWxlcmF0aW9uLFxuICAgICAgZ3B1QWNjZWxlcmF0aW9uID0gX29wdGlvbnMkZ3B1QWNjZWxlcmF0ID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkZ3B1QWNjZWxlcmF0LFxuICAgICAgX29wdGlvbnMkYWRhcHRpdmUgPSBvcHRpb25zLmFkYXB0aXZlLFxuICAgICAgYWRhcHRpdmUgPSBfb3B0aW9ucyRhZGFwdGl2ZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJGFkYXB0aXZlLFxuICAgICAgX29wdGlvbnMkcm91bmRPZmZzZXRzID0gb3B0aW9ucy5yb3VuZE9mZnNldHMsXG4gICAgICByb3VuZE9mZnNldHMgPSBfb3B0aW9ucyRyb3VuZE9mZnNldHMgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRyb3VuZE9mZnNldHM7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHZhciB0cmFuc2l0aW9uUHJvcGVydHkgPSBnZXRDb21wdXRlZFN0eWxlKHN0YXRlLmVsZW1lbnRzLnBvcHBlcikudHJhbnNpdGlvblByb3BlcnR5IHx8ICcnO1xuXG4gICAgaWYgKGFkYXB0aXZlICYmIFsndHJhbnNmb3JtJywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddLnNvbWUoZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gdHJhbnNpdGlvblByb3BlcnR5LmluZGV4T2YocHJvcGVydHkpID49IDA7XG4gICAgfSkpIHtcbiAgICAgIGNvbnNvbGUud2FybihbJ1BvcHBlcjogRGV0ZWN0ZWQgQ1NTIHRyYW5zaXRpb25zIG9uIGF0IGxlYXN0IG9uZSBvZiB0aGUgZm9sbG93aW5nJywgJ0NTUyBwcm9wZXJ0aWVzOiBcInRyYW5zZm9ybVwiLCBcInRvcFwiLCBcInJpZ2h0XCIsIFwiYm90dG9tXCIsIFwibGVmdFwiLicsICdcXG5cXG4nLCAnRGlzYWJsZSB0aGUgXCJjb21wdXRlU3R5bGVzXCIgbW9kaWZpZXJcXCdzIGBhZGFwdGl2ZWAgb3B0aW9uIHRvIGFsbG93JywgJ2ZvciBzbW9vdGggdHJhbnNpdGlvbnMsIG9yIHJlbW92ZSB0aGVzZSBwcm9wZXJ0aWVzIGZyb20gdGhlIENTUycsICd0cmFuc2l0aW9uIGRlY2xhcmF0aW9uIG9uIHRoZSBwb3BwZXIgZWxlbWVudCBpZiBvbmx5IHRyYW5zaXRpb25pbmcnLCAnb3BhY2l0eSBvciBiYWNrZ3JvdW5kLWNvbG9yIGZvciBleGFtcGxlLicsICdcXG5cXG4nLCAnV2UgcmVjb21tZW5kIHVzaW5nIHRoZSBwb3BwZXIgZWxlbWVudCBhcyBhIHdyYXBwZXIgYXJvdW5kIGFuIGlubmVyJywgJ2VsZW1lbnQgdGhhdCBjYW4gaGF2ZSBhbnkgQ1NTIHByb3BlcnR5IHRyYW5zaXRpb25lZCBmb3IgYW5pbWF0aW9ucy4nXS5qb2luKCcgJykpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjb21tb25TdHlsZXMgPSB7XG4gICAgcGxhY2VtZW50OiBnZXRCYXNlUGxhY2VtZW50KHN0YXRlLnBsYWNlbWVudCksXG4gICAgdmFyaWF0aW9uOiBnZXRWYXJpYXRpb24oc3RhdGUucGxhY2VtZW50KSxcbiAgICBwb3BwZXI6IHN0YXRlLmVsZW1lbnRzLnBvcHBlcixcbiAgICBwb3BwZXJSZWN0OiBzdGF0ZS5yZWN0cy5wb3BwZXIsXG4gICAgZ3B1QWNjZWxlcmF0aW9uOiBncHVBY2NlbGVyYXRpb24sXG4gICAgaXNGaXhlZDogc3RhdGUub3B0aW9ucy5zdHJhdGVneSA9PT0gJ2ZpeGVkJ1xuICB9O1xuXG4gIGlmIChzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMgIT0gbnVsbCkge1xuICAgIHN0YXRlLnN0eWxlcy5wb3BwZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5zdHlsZXMucG9wcGVyLCBtYXBUb1N0eWxlcyhPYmplY3QuYXNzaWduKHt9LCBjb21tb25TdHlsZXMsIHtcbiAgICAgIG9mZnNldHM6IHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyxcbiAgICAgIHBvc2l0aW9uOiBzdGF0ZS5vcHRpb25zLnN0cmF0ZWd5LFxuICAgICAgYWRhcHRpdmU6IGFkYXB0aXZlLFxuICAgICAgcm91bmRPZmZzZXRzOiByb3VuZE9mZnNldHNcbiAgICB9KSkpO1xuICB9XG5cbiAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGEuYXJyb3cgIT0gbnVsbCkge1xuICAgIHN0YXRlLnN0eWxlcy5hcnJvdyA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnN0eWxlcy5hcnJvdywgbWFwVG9TdHlsZXMoT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uU3R5bGVzLCB7XG4gICAgICBvZmZzZXRzOiBzdGF0ZS5tb2RpZmllcnNEYXRhLmFycm93LFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBhZGFwdGl2ZTogZmFsc2UsXG4gICAgICByb3VuZE9mZnNldHM6IHJvdW5kT2Zmc2V0c1xuICAgIH0pKSk7XG4gIH1cblxuICBzdGF0ZS5hdHRyaWJ1dGVzLnBvcHBlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLmF0dHJpYnV0ZXMucG9wcGVyLCB7XG4gICAgJ2RhdGEtcG9wcGVyLXBsYWNlbWVudCc6IHN0YXRlLnBsYWNlbWVudFxuICB9KTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ2NvbXB1dGVTdHlsZXMnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ2JlZm9yZVdyaXRlJyxcbiAgZm46IGNvbXB1dGVTdHlsZXMsXG4gIGRhdGE6IHt9XG59OyIsImltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgeyB0b3AsIGxlZnQsIHJpZ2h0LCBwbGFjZW1lbnRzIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlQW5kU2tpZGRpbmdUb1hZKHBsYWNlbWVudCwgcmVjdHMsIG9mZnNldCkge1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgdmFyIGludmVydERpc3RhbmNlID0gW2xlZnQsIHRvcF0uaW5kZXhPZihiYXNlUGxhY2VtZW50KSA+PSAwID8gLTEgOiAxO1xuXG4gIHZhciBfcmVmID0gdHlwZW9mIG9mZnNldCA9PT0gJ2Z1bmN0aW9uJyA/IG9mZnNldChPYmplY3QuYXNzaWduKHt9LCByZWN0cywge1xuICAgIHBsYWNlbWVudDogcGxhY2VtZW50XG4gIH0pKSA6IG9mZnNldCxcbiAgICAgIHNraWRkaW5nID0gX3JlZlswXSxcbiAgICAgIGRpc3RhbmNlID0gX3JlZlsxXTtcblxuICBza2lkZGluZyA9IHNraWRkaW5nIHx8IDA7XG4gIGRpc3RhbmNlID0gKGRpc3RhbmNlIHx8IDApICogaW52ZXJ0RGlzdGFuY2U7XG4gIHJldHVybiBbbGVmdCwgcmlnaHRdLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgPj0gMCA/IHtcbiAgICB4OiBkaXN0YW5jZSxcbiAgICB5OiBza2lkZGluZ1xuICB9IDoge1xuICAgIHg6IHNraWRkaW5nLFxuICAgIHk6IGRpc3RhbmNlXG4gIH07XG59XG5cbmZ1bmN0aW9uIG9mZnNldChfcmVmMikge1xuICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmMi5vcHRpb25zLFxuICAgICAgbmFtZSA9IF9yZWYyLm5hbWU7XG4gIHZhciBfb3B0aW9ucyRvZmZzZXQgPSBvcHRpb25zLm9mZnNldCxcbiAgICAgIG9mZnNldCA9IF9vcHRpb25zJG9mZnNldCA9PT0gdm9pZCAwID8gWzAsIDBdIDogX29wdGlvbnMkb2Zmc2V0O1xuICB2YXIgZGF0YSA9IHBsYWNlbWVudHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBsYWNlbWVudCkge1xuICAgIGFjY1twbGFjZW1lbnRdID0gZGlzdGFuY2VBbmRTa2lkZGluZ1RvWFkocGxhY2VtZW50LCBzdGF0ZS5yZWN0cywgb2Zmc2V0KTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIHZhciBfZGF0YSRzdGF0ZSRwbGFjZW1lbnQgPSBkYXRhW3N0YXRlLnBsYWNlbWVudF0sXG4gICAgICB4ID0gX2RhdGEkc3RhdGUkcGxhY2VtZW50LngsXG4gICAgICB5ID0gX2RhdGEkc3RhdGUkcGxhY2VtZW50Lnk7XG5cbiAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyAhPSBudWxsKSB7XG4gICAgc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzLnggKz0geDtcbiAgICBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMueSArPSB5O1xuICB9XG5cbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IGRhdGE7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdvZmZzZXQnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICByZXF1aXJlczogWydwb3BwZXJPZmZzZXRzJ10sXG4gIGZuOiBvZmZzZXRcbn07IiwidmFyIGhhc2ggPSB7XG4gIGxlZnQ6ICdyaWdodCcsXG4gIHJpZ2h0OiAnbGVmdCcsXG4gIGJvdHRvbTogJ3RvcCcsXG4gIHRvcDogJ2JvdHRvbSdcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC9sZWZ0fHJpZ2h0fGJvdHRvbXx0b3AvZywgZnVuY3Rpb24gKG1hdGNoZWQpIHtcbiAgICByZXR1cm4gaGFzaFttYXRjaGVkXTtcbiAgfSk7XG59IiwidmFyIGhhc2ggPSB7XG4gIHN0YXJ0OiAnZW5kJyxcbiAgZW5kOiAnc3RhcnQnXG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvc3RhcnR8ZW5kL2csIGZ1bmN0aW9uIChtYXRjaGVkKSB7XG4gICAgcmV0dXJuIGhhc2hbbWF0Y2hlZF07XG4gIH0pO1xufSIsImltcG9ydCB7IGlzU2hhZG93Um9vdCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbnRhaW5zKHBhcmVudCwgY2hpbGQpIHtcbiAgdmFyIHJvb3ROb2RlID0gY2hpbGQuZ2V0Um9vdE5vZGUgJiYgY2hpbGQuZ2V0Um9vdE5vZGUoKTsgLy8gRmlyc3QsIGF0dGVtcHQgd2l0aCBmYXN0ZXIgbmF0aXZlIG1ldGhvZFxuXG4gIGlmIChwYXJlbnQuY29udGFpbnMoY2hpbGQpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gdGhlbiBmYWxsYmFjayB0byBjdXN0b20gaW1wbGVtZW50YXRpb24gd2l0aCBTaGFkb3cgRE9NIHN1cHBvcnRcbiAgZWxzZSBpZiAocm9vdE5vZGUgJiYgaXNTaGFkb3dSb290KHJvb3ROb2RlKSkge1xuICAgICAgdmFyIG5leHQgPSBjaGlsZDtcblxuICAgICAgZG8ge1xuICAgICAgICBpZiAobmV4dCAmJiBwYXJlbnQuaXNTYW1lTm9kZShuZXh0KSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXTogbmVlZCBhIGJldHRlciB3YXkgdG8gaGFuZGxlIHRoaXMuLi5cblxuXG4gICAgICAgIG5leHQgPSBuZXh0LnBhcmVudE5vZGUgfHwgbmV4dC5ob3N0O1xuICAgICAgfSB3aGlsZSAobmV4dCk7XG4gICAgfSAvLyBHaXZlIHVwLCB0aGUgcmVzdWx0IGlzIGZhbHNlXG5cblxuICByZXR1cm4gZmFsc2U7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVjdFRvQ2xpZW50UmVjdChyZWN0KSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCByZWN0LCB7XG4gICAgbGVmdDogcmVjdC54LFxuICAgIHRvcDogcmVjdC55LFxuICAgIHJpZ2h0OiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgIGJvdHRvbTogcmVjdC55ICsgcmVjdC5oZWlnaHRcbiAgfSk7XG59IiwiaW1wb3J0IHsgdmlld3BvcnQgfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmltcG9ydCBnZXRWaWV3cG9ydFJlY3QgZnJvbSBcIi4vZ2V0Vmlld3BvcnRSZWN0LmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRSZWN0IGZyb20gXCIuL2dldERvY3VtZW50UmVjdC5qc1wiO1xuaW1wb3J0IGxpc3RTY3JvbGxQYXJlbnRzIGZyb20gXCIuL2xpc3RTY3JvbGxQYXJlbnRzLmpzXCI7XG5pbXBvcnQgZ2V0T2Zmc2V0UGFyZW50IGZyb20gXCIuL2dldE9mZnNldFBhcmVudC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCBnZXRDb21wdXRlZFN0eWxlIGZyb20gXCIuL2dldENvbXB1dGVkU3R5bGUuanNcIjtcbmltcG9ydCB7IGlzRWxlbWVudCwgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCBnZXRCb3VuZGluZ0NsaWVudFJlY3QgZnJvbSBcIi4vZ2V0Qm91bmRpbmdDbGllbnRSZWN0LmpzXCI7XG5pbXBvcnQgZ2V0UGFyZW50Tm9kZSBmcm9tIFwiLi9nZXRQYXJlbnROb2RlLmpzXCI7XG5pbXBvcnQgY29udGFpbnMgZnJvbSBcIi4vY29udGFpbnMuanNcIjtcbmltcG9ydCBnZXROb2RlTmFtZSBmcm9tIFwiLi9nZXROb2RlTmFtZS5qc1wiO1xuaW1wb3J0IHJlY3RUb0NsaWVudFJlY3QgZnJvbSBcIi4uL3V0aWxzL3JlY3RUb0NsaWVudFJlY3QuanNcIjtcbmltcG9ydCB7IG1heCwgbWluIH0gZnJvbSBcIi4uL3V0aWxzL21hdGguanNcIjtcblxuZnVuY3Rpb24gZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpIHtcbiAgdmFyIHJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgZmFsc2UsIHN0cmF0ZWd5ID09PSAnZml4ZWQnKTtcbiAgcmVjdC50b3AgPSByZWN0LnRvcCArIGVsZW1lbnQuY2xpZW50VG9wO1xuICByZWN0LmxlZnQgPSByZWN0LmxlZnQgKyBlbGVtZW50LmNsaWVudExlZnQ7XG4gIHJlY3QuYm90dG9tID0gcmVjdC50b3AgKyBlbGVtZW50LmNsaWVudEhlaWdodDtcbiAgcmVjdC5yaWdodCA9IHJlY3QubGVmdCArIGVsZW1lbnQuY2xpZW50V2lkdGg7XG4gIHJlY3Qud2lkdGggPSBlbGVtZW50LmNsaWVudFdpZHRoO1xuICByZWN0LmhlaWdodCA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICByZWN0LnggPSByZWN0LmxlZnQ7XG4gIHJlY3QueSA9IHJlY3QudG9wO1xuICByZXR1cm4gcmVjdDtcbn1cblxuZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdEZyb21NaXhlZFR5cGUoZWxlbWVudCwgY2xpcHBpbmdQYXJlbnQsIHN0cmF0ZWd5KSB7XG4gIHJldHVybiBjbGlwcGluZ1BhcmVudCA9PT0gdmlld3BvcnQgPyByZWN0VG9DbGllbnRSZWN0KGdldFZpZXdwb3J0UmVjdChlbGVtZW50LCBzdHJhdGVneSkpIDogaXNFbGVtZW50KGNsaXBwaW5nUGFyZW50KSA/IGdldElubmVyQm91bmRpbmdDbGllbnRSZWN0KGNsaXBwaW5nUGFyZW50LCBzdHJhdGVneSkgOiByZWN0VG9DbGllbnRSZWN0KGdldERvY3VtZW50UmVjdChnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCkpKTtcbn0gLy8gQSBcImNsaXBwaW5nIHBhcmVudFwiIGlzIGFuIG92ZXJmbG93YWJsZSBjb250YWluZXIgd2l0aCB0aGUgY2hhcmFjdGVyaXN0aWMgb2Zcbi8vIGNsaXBwaW5nIChvciBoaWRpbmcpIG92ZXJmbG93aW5nIGVsZW1lbnRzIHdpdGggYSBwb3NpdGlvbiBkaWZmZXJlbnQgZnJvbVxuLy8gYGluaXRpYWxgXG5cblxuZnVuY3Rpb24gZ2V0Q2xpcHBpbmdQYXJlbnRzKGVsZW1lbnQpIHtcbiAgdmFyIGNsaXBwaW5nUGFyZW50cyA9IGxpc3RTY3JvbGxQYXJlbnRzKGdldFBhcmVudE5vZGUoZWxlbWVudCkpO1xuICB2YXIgY2FuRXNjYXBlQ2xpcHBpbmcgPSBbJ2Fic29sdXRlJywgJ2ZpeGVkJ10uaW5kZXhPZihnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uKSA+PSAwO1xuICB2YXIgY2xpcHBlckVsZW1lbnQgPSBjYW5Fc2NhcGVDbGlwcGluZyAmJiBpc0hUTUxFbGVtZW50KGVsZW1lbnQpID8gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpIDogZWxlbWVudDtcblxuICBpZiAoIWlzRWxlbWVudChjbGlwcGVyRWxlbWVudCkpIHtcbiAgICByZXR1cm4gW107XG4gIH0gLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtcmV0dXJuXTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzE0MTRcblxuXG4gIHJldHVybiBjbGlwcGluZ1BhcmVudHMuZmlsdGVyKGZ1bmN0aW9uIChjbGlwcGluZ1BhcmVudCkge1xuICAgIHJldHVybiBpc0VsZW1lbnQoY2xpcHBpbmdQYXJlbnQpICYmIGNvbnRhaW5zKGNsaXBwaW5nUGFyZW50LCBjbGlwcGVyRWxlbWVudCkgJiYgZ2V0Tm9kZU5hbWUoY2xpcHBpbmdQYXJlbnQpICE9PSAnYm9keSc7XG4gIH0pO1xufSAvLyBHZXRzIHRoZSBtYXhpbXVtIGFyZWEgdGhhdCB0aGUgZWxlbWVudCBpcyB2aXNpYmxlIGluIGR1ZSB0byBhbnkgbnVtYmVyIG9mXG4vLyBjbGlwcGluZyBwYXJlbnRzXG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q2xpcHBpbmdSZWN0KGVsZW1lbnQsIGJvdW5kYXJ5LCByb290Qm91bmRhcnksIHN0cmF0ZWd5KSB7XG4gIHZhciBtYWluQ2xpcHBpbmdQYXJlbnRzID0gYm91bmRhcnkgPT09ICdjbGlwcGluZ1BhcmVudHMnID8gZ2V0Q2xpcHBpbmdQYXJlbnRzKGVsZW1lbnQpIDogW10uY29uY2F0KGJvdW5kYXJ5KTtcbiAgdmFyIGNsaXBwaW5nUGFyZW50cyA9IFtdLmNvbmNhdChtYWluQ2xpcHBpbmdQYXJlbnRzLCBbcm9vdEJvdW5kYXJ5XSk7XG4gIHZhciBmaXJzdENsaXBwaW5nUGFyZW50ID0gY2xpcHBpbmdQYXJlbnRzWzBdO1xuICB2YXIgY2xpcHBpbmdSZWN0ID0gY2xpcHBpbmdQYXJlbnRzLnJlZHVjZShmdW5jdGlvbiAoYWNjUmVjdCwgY2xpcHBpbmdQYXJlbnQpIHtcbiAgICB2YXIgcmVjdCA9IGdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlKGVsZW1lbnQsIGNsaXBwaW5nUGFyZW50LCBzdHJhdGVneSk7XG4gICAgYWNjUmVjdC50b3AgPSBtYXgocmVjdC50b3AsIGFjY1JlY3QudG9wKTtcbiAgICBhY2NSZWN0LnJpZ2h0ID0gbWluKHJlY3QucmlnaHQsIGFjY1JlY3QucmlnaHQpO1xuICAgIGFjY1JlY3QuYm90dG9tID0gbWluKHJlY3QuYm90dG9tLCBhY2NSZWN0LmJvdHRvbSk7XG4gICAgYWNjUmVjdC5sZWZ0ID0gbWF4KHJlY3QubGVmdCwgYWNjUmVjdC5sZWZ0KTtcbiAgICByZXR1cm4gYWNjUmVjdDtcbiAgfSwgZ2V0Q2xpZW50UmVjdEZyb21NaXhlZFR5cGUoZWxlbWVudCwgZmlyc3RDbGlwcGluZ1BhcmVudCwgc3RyYXRlZ3kpKTtcbiAgY2xpcHBpbmdSZWN0LndpZHRoID0gY2xpcHBpbmdSZWN0LnJpZ2h0IC0gY2xpcHBpbmdSZWN0LmxlZnQ7XG4gIGNsaXBwaW5nUmVjdC5oZWlnaHQgPSBjbGlwcGluZ1JlY3QuYm90dG9tIC0gY2xpcHBpbmdSZWN0LnRvcDtcbiAgY2xpcHBpbmdSZWN0LnggPSBjbGlwcGluZ1JlY3QubGVmdDtcbiAgY2xpcHBpbmdSZWN0LnkgPSBjbGlwcGluZ1JlY3QudG9wO1xuICByZXR1cm4gY2xpcHBpbmdSZWN0O1xufSIsImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbEJhclggZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsQmFyWC5qc1wiO1xuaW1wb3J0IGlzTGF5b3V0Vmlld3BvcnQgZnJvbSBcIi4vaXNMYXlvdXRWaWV3cG9ydC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Vmlld3BvcnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KSB7XG4gIHZhciB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIHZhciBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICB2YXIgdmlzdWFsVmlld3BvcnQgPSB3aW4udmlzdWFsVmlld3BvcnQ7XG4gIHZhciB3aWR0aCA9IGh0bWwuY2xpZW50V2lkdGg7XG4gIHZhciBoZWlnaHQgPSBodG1sLmNsaWVudEhlaWdodDtcbiAgdmFyIHggPSAwO1xuICB2YXIgeSA9IDA7XG5cbiAgaWYgKHZpc3VhbFZpZXdwb3J0KSB7XG4gICAgd2lkdGggPSB2aXN1YWxWaWV3cG9ydC53aWR0aDtcbiAgICBoZWlnaHQgPSB2aXN1YWxWaWV3cG9ydC5oZWlnaHQ7XG4gICAgdmFyIGxheW91dFZpZXdwb3J0ID0gaXNMYXlvdXRWaWV3cG9ydCgpO1xuXG4gICAgaWYgKGxheW91dFZpZXdwb3J0IHx8ICFsYXlvdXRWaWV3cG9ydCAmJiBzdHJhdGVneSA9PT0gJ2ZpeGVkJykge1xuICAgICAgeCA9IHZpc3VhbFZpZXdwb3J0Lm9mZnNldExlZnQ7XG4gICAgICB5ID0gdmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHg6IHggKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpLFxuICAgIHk6IHlcbiAgfTtcbn0iLCJpbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldENvbXB1dGVkU3R5bGUgZnJvbSBcIi4vZ2V0Q29tcHV0ZWRTdHlsZS5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbEJhclggZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsQmFyWC5qc1wiO1xuaW1wb3J0IGdldFdpbmRvd1Njcm9sbCBmcm9tIFwiLi9nZXRXaW5kb3dTY3JvbGwuanNcIjtcbmltcG9ydCB7IG1heCB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7IC8vIEdldHMgdGhlIGVudGlyZSBzaXplIG9mIHRoZSBzY3JvbGxhYmxlIGRvY3VtZW50IGFyZWEsIGV2ZW4gZXh0ZW5kaW5nIG91dHNpZGVcbi8vIG9mIHRoZSBgPGh0bWw+YCBhbmQgYDxib2R5PmAgcmVjdCBib3VuZHMgaWYgaG9yaXpvbnRhbGx5IHNjcm9sbGFibGVcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRSZWN0KGVsZW1lbnQpIHtcbiAgdmFyIF9lbGVtZW50JG93bmVyRG9jdW1lbjtcblxuICB2YXIgaHRtbCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgdmFyIHdpblNjcm9sbCA9IGdldFdpbmRvd1Njcm9sbChlbGVtZW50KTtcbiAgdmFyIGJvZHkgPSAoX2VsZW1lbnQkb3duZXJEb2N1bWVuID0gZWxlbWVudC5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2VsZW1lbnQkb3duZXJEb2N1bWVuLmJvZHk7XG4gIHZhciB3aWR0aCA9IG1heChodG1sLnNjcm9sbFdpZHRoLCBodG1sLmNsaWVudFdpZHRoLCBib2R5ID8gYm9keS5zY3JvbGxXaWR0aCA6IDAsIGJvZHkgPyBib2R5LmNsaWVudFdpZHRoIDogMCk7XG4gIHZhciBoZWlnaHQgPSBtYXgoaHRtbC5zY3JvbGxIZWlnaHQsIGh0bWwuY2xpZW50SGVpZ2h0LCBib2R5ID8gYm9keS5zY3JvbGxIZWlnaHQgOiAwLCBib2R5ID8gYm9keS5jbGllbnRIZWlnaHQgOiAwKTtcbiAgdmFyIHggPSAtd2luU2Nyb2xsLnNjcm9sbExlZnQgKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpO1xuICB2YXIgeSA9IC13aW5TY3JvbGwuc2Nyb2xsVG9wO1xuXG4gIGlmIChnZXRDb21wdXRlZFN0eWxlKGJvZHkgfHwgaHRtbCkuZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgIHggKz0gbWF4KGh0bWwuY2xpZW50V2lkdGgsIGJvZHkgPyBib2R5LmNsaWVudFdpZHRoIDogMCkgLSB3aWR0aDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHg6IHgsXG4gICAgeTogeVxuICB9O1xufSIsImltcG9ydCBnZXRGcmVzaFNpZGVPYmplY3QgZnJvbSBcIi4vZ2V0RnJlc2hTaWRlT2JqZWN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZXJnZVBhZGRpbmdPYmplY3QocGFkZGluZ09iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZ2V0RnJlc2hTaWRlT2JqZWN0KCksIHBhZGRpbmdPYmplY3QpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEZyZXNoU2lkZU9iamVjdCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDBcbiAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBleHBhbmRUb0hhc2hNYXAodmFsdWUsIGtleXMpIHtcbiAgcmV0dXJuIGtleXMucmVkdWNlKGZ1bmN0aW9uIChoYXNoTWFwLCBrZXkpIHtcbiAgICBoYXNoTWFwW2tleV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gaGFzaE1hcDtcbiAgfSwge30pO1xufSIsImltcG9ydCBnZXRDbGlwcGluZ1JlY3QgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRDbGlwcGluZ1JlY3QuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4uL2RvbS11dGlscy9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCBnZXRCb3VuZGluZ0NsaWVudFJlY3QgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanNcIjtcbmltcG9ydCBjb21wdXRlT2Zmc2V0cyBmcm9tIFwiLi9jb21wdXRlT2Zmc2V0cy5qc1wiO1xuaW1wb3J0IHJlY3RUb0NsaWVudFJlY3QgZnJvbSBcIi4vcmVjdFRvQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IHsgY2xpcHBpbmdQYXJlbnRzLCByZWZlcmVuY2UsIHBvcHBlciwgYm90dG9tLCB0b3AsIHJpZ2h0LCBiYXNlUGxhY2VtZW50cywgdmlld3BvcnQgfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gXCIuLi9kb20tdXRpbHMvaW5zdGFuY2VPZi5qc1wiO1xuaW1wb3J0IG1lcmdlUGFkZGluZ09iamVjdCBmcm9tIFwiLi9tZXJnZVBhZGRpbmdPYmplY3QuanNcIjtcbmltcG9ydCBleHBhbmRUb0hhc2hNYXAgZnJvbSBcIi4vZXhwYW5kVG9IYXNoTWFwLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgICBfb3B0aW9ucyRwbGFjZW1lbnQgPSBfb3B0aW9ucy5wbGFjZW1lbnQsXG4gICAgICBwbGFjZW1lbnQgPSBfb3B0aW9ucyRwbGFjZW1lbnQgPT09IHZvaWQgMCA/IHN0YXRlLnBsYWNlbWVudCA6IF9vcHRpb25zJHBsYWNlbWVudCxcbiAgICAgIF9vcHRpb25zJHN0cmF0ZWd5ID0gX29wdGlvbnMuc3RyYXRlZ3ksXG4gICAgICBzdHJhdGVneSA9IF9vcHRpb25zJHN0cmF0ZWd5ID09PSB2b2lkIDAgPyBzdGF0ZS5zdHJhdGVneSA6IF9vcHRpb25zJHN0cmF0ZWd5LFxuICAgICAgX29wdGlvbnMkYm91bmRhcnkgPSBfb3B0aW9ucy5ib3VuZGFyeSxcbiAgICAgIGJvdW5kYXJ5ID0gX29wdGlvbnMkYm91bmRhcnkgPT09IHZvaWQgMCA/IGNsaXBwaW5nUGFyZW50cyA6IF9vcHRpb25zJGJvdW5kYXJ5LFxuICAgICAgX29wdGlvbnMkcm9vdEJvdW5kYXJ5ID0gX29wdGlvbnMucm9vdEJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5ID0gX29wdGlvbnMkcm9vdEJvdW5kYXJ5ID09PSB2b2lkIDAgPyB2aWV3cG9ydCA6IF9vcHRpb25zJHJvb3RCb3VuZGFyeSxcbiAgICAgIF9vcHRpb25zJGVsZW1lbnRDb250ZSA9IF9vcHRpb25zLmVsZW1lbnRDb250ZXh0LFxuICAgICAgZWxlbWVudENvbnRleHQgPSBfb3B0aW9ucyRlbGVtZW50Q29udGUgPT09IHZvaWQgMCA/IHBvcHBlciA6IF9vcHRpb25zJGVsZW1lbnRDb250ZSxcbiAgICAgIF9vcHRpb25zJGFsdEJvdW5kYXJ5ID0gX29wdGlvbnMuYWx0Qm91bmRhcnksXG4gICAgICBhbHRCb3VuZGFyeSA9IF9vcHRpb25zJGFsdEJvdW5kYXJ5ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJGFsdEJvdW5kYXJ5LFxuICAgICAgX29wdGlvbnMkcGFkZGluZyA9IF9vcHRpb25zLnBhZGRpbmcsXG4gICAgICBwYWRkaW5nID0gX29wdGlvbnMkcGFkZGluZyA9PT0gdm9pZCAwID8gMCA6IF9vcHRpb25zJHBhZGRpbmc7XG4gIHZhciBwYWRkaW5nT2JqZWN0ID0gbWVyZ2VQYWRkaW5nT2JqZWN0KHR5cGVvZiBwYWRkaW5nICE9PSAnbnVtYmVyJyA/IHBhZGRpbmcgOiBleHBhbmRUb0hhc2hNYXAocGFkZGluZywgYmFzZVBsYWNlbWVudHMpKTtcbiAgdmFyIGFsdENvbnRleHQgPSBlbGVtZW50Q29udGV4dCA9PT0gcG9wcGVyID8gcmVmZXJlbmNlIDogcG9wcGVyO1xuICB2YXIgcG9wcGVyUmVjdCA9IHN0YXRlLnJlY3RzLnBvcHBlcjtcbiAgdmFyIGVsZW1lbnQgPSBzdGF0ZS5lbGVtZW50c1thbHRCb3VuZGFyeSA/IGFsdENvbnRleHQgOiBlbGVtZW50Q29udGV4dF07XG4gIHZhciBjbGlwcGluZ0NsaWVudFJlY3QgPSBnZXRDbGlwcGluZ1JlY3QoaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudCA6IGVsZW1lbnQuY29udGV4dEVsZW1lbnQgfHwgZ2V0RG9jdW1lbnRFbGVtZW50KHN0YXRlLmVsZW1lbnRzLnBvcHBlciksIGJvdW5kYXJ5LCByb290Qm91bmRhcnksIHN0cmF0ZWd5KTtcbiAgdmFyIHJlZmVyZW5jZUNsaWVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qoc3RhdGUuZWxlbWVudHMucmVmZXJlbmNlKTtcbiAgdmFyIHBvcHBlck9mZnNldHMgPSBjb21wdXRlT2Zmc2V0cyh7XG4gICAgcmVmZXJlbmNlOiByZWZlcmVuY2VDbGllbnRSZWN0LFxuICAgIGVsZW1lbnQ6IHBvcHBlclJlY3QsXG4gICAgc3RyYXRlZ3k6ICdhYnNvbHV0ZScsXG4gICAgcGxhY2VtZW50OiBwbGFjZW1lbnRcbiAgfSk7XG4gIHZhciBwb3BwZXJDbGllbnRSZWN0ID0gcmVjdFRvQ2xpZW50UmVjdChPYmplY3QuYXNzaWduKHt9LCBwb3BwZXJSZWN0LCBwb3BwZXJPZmZzZXRzKSk7XG4gIHZhciBlbGVtZW50Q2xpZW50UmVjdCA9IGVsZW1lbnRDb250ZXh0ID09PSBwb3BwZXIgPyBwb3BwZXJDbGllbnRSZWN0IDogcmVmZXJlbmNlQ2xpZW50UmVjdDsgLy8gcG9zaXRpdmUgPSBvdmVyZmxvd2luZyB0aGUgY2xpcHBpbmcgcmVjdFxuICAvLyAwIG9yIG5lZ2F0aXZlID0gd2l0aGluIHRoZSBjbGlwcGluZyByZWN0XG5cbiAgdmFyIG92ZXJmbG93T2Zmc2V0cyA9IHtcbiAgICB0b3A6IGNsaXBwaW5nQ2xpZW50UmVjdC50b3AgLSBlbGVtZW50Q2xpZW50UmVjdC50b3AgKyBwYWRkaW5nT2JqZWN0LnRvcCxcbiAgICBib3R0b206IGVsZW1lbnRDbGllbnRSZWN0LmJvdHRvbSAtIGNsaXBwaW5nQ2xpZW50UmVjdC5ib3R0b20gKyBwYWRkaW5nT2JqZWN0LmJvdHRvbSxcbiAgICBsZWZ0OiBjbGlwcGluZ0NsaWVudFJlY3QubGVmdCAtIGVsZW1lbnRDbGllbnRSZWN0LmxlZnQgKyBwYWRkaW5nT2JqZWN0LmxlZnQsXG4gICAgcmlnaHQ6IGVsZW1lbnRDbGllbnRSZWN0LnJpZ2h0IC0gY2xpcHBpbmdDbGllbnRSZWN0LnJpZ2h0ICsgcGFkZGluZ09iamVjdC5yaWdodFxuICB9O1xuICB2YXIgb2Zmc2V0RGF0YSA9IHN0YXRlLm1vZGlmaWVyc0RhdGEub2Zmc2V0OyAvLyBPZmZzZXRzIGNhbiBiZSBhcHBsaWVkIG9ubHkgdG8gdGhlIHBvcHBlciBlbGVtZW50XG5cbiAgaWYgKGVsZW1lbnRDb250ZXh0ID09PSBwb3BwZXIgJiYgb2Zmc2V0RGF0YSkge1xuICAgIHZhciBvZmZzZXQgPSBvZmZzZXREYXRhW3BsYWNlbWVudF07XG4gICAgT2JqZWN0LmtleXMob3ZlcmZsb3dPZmZzZXRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBtdWx0aXBseSA9IFtyaWdodCwgYm90dG9tXS5pbmRleE9mKGtleSkgPj0gMCA/IDEgOiAtMTtcbiAgICAgIHZhciBheGlzID0gW3RvcCwgYm90dG9tXS5pbmRleE9mKGtleSkgPj0gMCA/ICd5JyA6ICd4JztcbiAgICAgIG92ZXJmbG93T2Zmc2V0c1trZXldICs9IG9mZnNldFtheGlzXSAqIG11bHRpcGx5O1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG92ZXJmbG93T2Zmc2V0cztcbn0iLCJpbXBvcnQgeyBtYXggYXMgbWF0aE1heCwgbWluIGFzIG1hdGhNaW4gfSBmcm9tIFwiLi9tYXRoLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gd2l0aGluKG1pbiwgdmFsdWUsIG1heCkge1xuICByZXR1cm4gbWF0aE1heChtaW4sIG1hdGhNaW4odmFsdWUsIG1heCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhpbk1heENsYW1wKG1pbiwgdmFsdWUsIG1heCkge1xuICB2YXIgdiA9IHdpdGhpbihtaW4sIHZhbHVlLCBtYXgpO1xuICByZXR1cm4gdiA+IG1heCA/IG1heCA6IHY7XG59IiwiaW1wb3J0IHsgdG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0IH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZGV0ZWN0T3ZlcmZsb3cgZnJvbSBcIi4uL3V0aWxzL2RldGVjdE92ZXJmbG93LmpzXCI7XG5cbmZ1bmN0aW9uIGdldFNpZGVPZmZzZXRzKG92ZXJmbG93LCByZWN0LCBwcmV2ZW50ZWRPZmZzZXRzKSB7XG4gIGlmIChwcmV2ZW50ZWRPZmZzZXRzID09PSB2b2lkIDApIHtcbiAgICBwcmV2ZW50ZWRPZmZzZXRzID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0b3A6IG92ZXJmbG93LnRvcCAtIHJlY3QuaGVpZ2h0IC0gcHJldmVudGVkT2Zmc2V0cy55LFxuICAgIHJpZ2h0OiBvdmVyZmxvdy5yaWdodCAtIHJlY3Qud2lkdGggKyBwcmV2ZW50ZWRPZmZzZXRzLngsXG4gICAgYm90dG9tOiBvdmVyZmxvdy5ib3R0b20gLSByZWN0LmhlaWdodCArIHByZXZlbnRlZE9mZnNldHMueSxcbiAgICBsZWZ0OiBvdmVyZmxvdy5sZWZ0IC0gcmVjdC53aWR0aCAtIHByZXZlbnRlZE9mZnNldHMueFxuICB9O1xufVxuXG5mdW5jdGlvbiBpc0FueVNpZGVGdWxseUNsaXBwZWQob3ZlcmZsb3cpIHtcbiAgcmV0dXJuIFt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnRdLnNvbWUoZnVuY3Rpb24gKHNpZGUpIHtcbiAgICByZXR1cm4gb3ZlcmZsb3dbc2lkZV0gPj0gMDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhpZGUoX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgbmFtZSA9IF9yZWYubmFtZTtcbiAgdmFyIHJlZmVyZW5jZVJlY3QgPSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2U7XG4gIHZhciBwb3BwZXJSZWN0ID0gc3RhdGUucmVjdHMucG9wcGVyO1xuICB2YXIgcHJldmVudGVkT2Zmc2V0cyA9IHN0YXRlLm1vZGlmaWVyc0RhdGEucHJldmVudE92ZXJmbG93O1xuICB2YXIgcmVmZXJlbmNlT3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgIGVsZW1lbnRDb250ZXh0OiAncmVmZXJlbmNlJ1xuICB9KTtcbiAgdmFyIHBvcHBlckFsdE92ZXJmbG93ID0gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICBhbHRCb3VuZGFyeTogdHJ1ZVxuICB9KTtcbiAgdmFyIHJlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0cyA9IGdldFNpZGVPZmZzZXRzKHJlZmVyZW5jZU92ZXJmbG93LCByZWZlcmVuY2VSZWN0KTtcbiAgdmFyIHBvcHBlckVzY2FwZU9mZnNldHMgPSBnZXRTaWRlT2Zmc2V0cyhwb3BwZXJBbHRPdmVyZmxvdywgcG9wcGVyUmVjdCwgcHJldmVudGVkT2Zmc2V0cyk7XG4gIHZhciBpc1JlZmVyZW5jZUhpZGRlbiA9IGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChyZWZlcmVuY2VDbGlwcGluZ09mZnNldHMpO1xuICB2YXIgaGFzUG9wcGVyRXNjYXBlZCA9IGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChwb3BwZXJFc2NhcGVPZmZzZXRzKTtcbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IHtcbiAgICByZWZlcmVuY2VDbGlwcGluZ09mZnNldHM6IHJlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0cyxcbiAgICBwb3BwZXJFc2NhcGVPZmZzZXRzOiBwb3BwZXJFc2NhcGVPZmZzZXRzLFxuICAgIGlzUmVmZXJlbmNlSGlkZGVuOiBpc1JlZmVyZW5jZUhpZGRlbixcbiAgICBoYXNQb3BwZXJFc2NhcGVkOiBoYXNQb3BwZXJFc2NhcGVkXG4gIH07XG4gIHN0YXRlLmF0dHJpYnV0ZXMucG9wcGVyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuYXR0cmlidXRlcy5wb3BwZXIsIHtcbiAgICAnZGF0YS1wb3BwZXItcmVmZXJlbmNlLWhpZGRlbic6IGlzUmVmZXJlbmNlSGlkZGVuLFxuICAgICdkYXRhLXBvcHBlci1lc2NhcGVkJzogaGFzUG9wcGVyRXNjYXBlZFxuICB9KTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ2hpZGUnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICByZXF1aXJlc0lmRXhpc3RzOiBbJ3ByZXZlbnRPdmVyZmxvdyddLFxuICBmbjogaGlkZVxufTsiLCJpbXBvcnQgeyBwb3BwZXJHZW5lcmF0b3IsIGRldGVjdE92ZXJmbG93IH0gZnJvbSBcIi4vY3JlYXRlUG9wcGVyLmpzXCI7XG5pbXBvcnQgZXZlbnRMaXN0ZW5lcnMgZnJvbSBcIi4vbW9kaWZpZXJzL2V2ZW50TGlzdGVuZXJzLmpzXCI7XG5pbXBvcnQgcG9wcGVyT2Zmc2V0cyBmcm9tIFwiLi9tb2RpZmllcnMvcG9wcGVyT2Zmc2V0cy5qc1wiO1xuaW1wb3J0IGNvbXB1dGVTdHlsZXMgZnJvbSBcIi4vbW9kaWZpZXJzL2NvbXB1dGVTdHlsZXMuanNcIjtcbmltcG9ydCBhcHBseVN0eWxlcyBmcm9tIFwiLi9tb2RpZmllcnMvYXBwbHlTdHlsZXMuanNcIjtcbmltcG9ydCBvZmZzZXQgZnJvbSBcIi4vbW9kaWZpZXJzL29mZnNldC5qc1wiO1xuaW1wb3J0IGZsaXAgZnJvbSBcIi4vbW9kaWZpZXJzL2ZsaXAuanNcIjtcbmltcG9ydCBwcmV2ZW50T3ZlcmZsb3cgZnJvbSBcIi4vbW9kaWZpZXJzL3ByZXZlbnRPdmVyZmxvdy5qc1wiO1xuaW1wb3J0IGFycm93IGZyb20gXCIuL21vZGlmaWVycy9hcnJvdy5qc1wiO1xuaW1wb3J0IGhpZGUgZnJvbSBcIi4vbW9kaWZpZXJzL2hpZGUuanNcIjtcbnZhciBkZWZhdWx0TW9kaWZpZXJzID0gW2V2ZW50TGlzdGVuZXJzLCBwb3BwZXJPZmZzZXRzLCBjb21wdXRlU3R5bGVzLCBhcHBseVN0eWxlcywgb2Zmc2V0LCBmbGlwLCBwcmV2ZW50T3ZlcmZsb3csIGFycm93LCBoaWRlXTtcbnZhciBjcmVhdGVQb3BwZXIgPSAvKiNfX1BVUkVfXyovcG9wcGVyR2VuZXJhdG9yKHtcbiAgZGVmYXVsdE1vZGlmaWVyczogZGVmYXVsdE1vZGlmaWVyc1xufSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IHsgY3JlYXRlUG9wcGVyLCBwb3BwZXJHZW5lcmF0b3IsIGRlZmF1bHRNb2RpZmllcnMsIGRldGVjdE92ZXJmbG93IH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IHsgY3JlYXRlUG9wcGVyIGFzIGNyZWF0ZVBvcHBlckxpdGUgfSBmcm9tIFwiLi9wb3BwZXItbGl0ZS5qc1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbmV4cG9ydCAqIGZyb20gXCIuL21vZGlmaWVycy9pbmRleC5qc1wiOyIsImltcG9ydCBnZXROb2RlTmFtZSBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50IH0gZnJvbSBcIi4uL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzXCI7IC8vIFRoaXMgbW9kaWZpZXIgdGFrZXMgdGhlIHN0eWxlcyBwcmVwYXJlZCBieSB0aGUgYGNvbXB1dGVTdHlsZXNgIG1vZGlmaWVyXG4vLyBhbmQgYXBwbGllcyB0aGVtIHRvIHRoZSBIVE1MRWxlbWVudHMgc3VjaCBhcyBwb3BwZXIgYW5kIGFycm93XG5cbmZ1bmN0aW9uIGFwcGx5U3R5bGVzKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZTtcbiAgT2JqZWN0LmtleXMoc3RhdGUuZWxlbWVudHMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgc3R5bGUgPSBzdGF0ZS5zdHlsZXNbbmFtZV0gfHwge307XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBzdGF0ZS5hdHRyaWJ1dGVzW25hbWVdIHx8IHt9O1xuICAgIHZhciBlbGVtZW50ID0gc3RhdGUuZWxlbWVudHNbbmFtZV07IC8vIGFycm93IGlzIG9wdGlvbmFsICsgdmlydHVhbCBlbGVtZW50c1xuXG4gICAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHx8ICFnZXROb2RlTmFtZShlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gRmxvdyBkb2Vzbid0IHN1cHBvcnQgdG8gZXh0ZW5kIHRoaXMgcHJvcGVydHksIGJ1dCBpdCdzIHRoZSBtb3N0XG4gICAgLy8gZWZmZWN0aXZlIHdheSB0byBhcHBseSBzdHlsZXMgdG8gYW4gSFRNTEVsZW1lbnRcbiAgICAvLyAkRmxvd0ZpeE1lW2Nhbm5vdC13cml0ZV1cblxuXG4gICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIHZhbHVlID0gYXR0cmlidXRlc1tuYW1lXTtcblxuICAgICAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlID09PSB0cnVlID8gJycgOiB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBlZmZlY3QoX3JlZjIpIHtcbiAgdmFyIHN0YXRlID0gX3JlZjIuc3RhdGU7XG4gIHZhciBpbml0aWFsU3R5bGVzID0ge1xuICAgIHBvcHBlcjoge1xuICAgICAgcG9zaXRpb246IHN0YXRlLm9wdGlvbnMuc3RyYXRlZ3ksXG4gICAgICBsZWZ0OiAnMCcsXG4gICAgICB0b3A6ICcwJyxcbiAgICAgIG1hcmdpbjogJzAnXG4gICAgfSxcbiAgICBhcnJvdzoge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAgICB9LFxuICAgIHJlZmVyZW5jZToge31cbiAgfTtcbiAgT2JqZWN0LmFzc2lnbihzdGF0ZS5lbGVtZW50cy5wb3BwZXIuc3R5bGUsIGluaXRpYWxTdHlsZXMucG9wcGVyKTtcbiAgc3RhdGUuc3R5bGVzID0gaW5pdGlhbFN0eWxlcztcblxuICBpZiAoc3RhdGUuZWxlbWVudHMuYXJyb3cpIHtcbiAgICBPYmplY3QuYXNzaWduKHN0YXRlLmVsZW1lbnRzLmFycm93LnN0eWxlLCBpbml0aWFsU3R5bGVzLmFycm93KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgT2JqZWN0LmtleXMoc3RhdGUuZWxlbWVudHMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gc3RhdGUuZWxlbWVudHNbbmFtZV07XG4gICAgICB2YXIgYXR0cmlidXRlcyA9IHN0YXRlLmF0dHJpYnV0ZXNbbmFtZV0gfHwge307XG4gICAgICB2YXIgc3R5bGVQcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMoc3RhdGUuc3R5bGVzLmhhc093blByb3BlcnR5KG5hbWUpID8gc3RhdGUuc3R5bGVzW25hbWVdIDogaW5pdGlhbFN0eWxlc1tuYW1lXSk7IC8vIFNldCBhbGwgdmFsdWVzIHRvIGFuIGVtcHR5IHN0cmluZyB0byB1bnNldCB0aGVtXG5cbiAgICAgIHZhciBzdHlsZSA9IHN0eWxlUHJvcGVydGllcy5yZWR1Y2UoZnVuY3Rpb24gKHN0eWxlLCBwcm9wZXJ0eSkge1xuICAgICAgICBzdHlsZVtwcm9wZXJ0eV0gPSAnJztcbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgICAgfSwge30pOyAvLyBhcnJvdyBpcyBvcHRpb25hbCArIHZpcnR1YWwgZWxlbWVudHNcblxuICAgICAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHx8ICFnZXROb2RlTmFtZShlbGVtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIE9iamVjdC5hc3NpZ24oZWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ2FwcGx5U3R5bGVzJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICd3cml0ZScsXG4gIGZuOiBhcHBseVN0eWxlcyxcbiAgZWZmZWN0OiBlZmZlY3QsXG4gIHJlcXVpcmVzOiBbJ2NvbXB1dGVTdHlsZXMnXVxufTsiLCJpbXBvcnQgZ2V0T3Bwb3NpdGVQbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldE9wcG9zaXRlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0QmFzZVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGRldGVjdE92ZXJmbG93IGZyb20gXCIuLi91dGlscy9kZXRlY3RPdmVyZmxvdy5qc1wiO1xuaW1wb3J0IGNvbXB1dGVBdXRvUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9jb21wdXRlQXV0b1BsYWNlbWVudC5qc1wiO1xuaW1wb3J0IHsgYm90dG9tLCB0b3AsIHN0YXJ0LCByaWdodCwgbGVmdCwgYXV0byB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGdldFZhcmlhdGlvbiBmcm9tIFwiLi4vdXRpbHMvZ2V0VmFyaWF0aW9uLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZnVuY3Rpb24gZ2V0RXhwYW5kZWRGYWxsYmFja1BsYWNlbWVudHMocGxhY2VtZW50KSB7XG4gIGlmIChnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkgPT09IGF1dG8pIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgb3Bwb3NpdGVQbGFjZW1lbnQgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICByZXR1cm4gW2dldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50KHBsYWNlbWVudCksIG9wcG9zaXRlUGxhY2VtZW50LCBnZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudChvcHBvc2l0ZVBsYWNlbWVudCldO1xufVxuXG5mdW5jdGlvbiBmbGlwKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmLm9wdGlvbnMsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lO1xuXG4gIGlmIChzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdLl9za2lwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIF9vcHRpb25zJG1haW5BeGlzID0gb3B0aW9ucy5tYWluQXhpcyxcbiAgICAgIGNoZWNrTWFpbkF4aXMgPSBfb3B0aW9ucyRtYWluQXhpcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJG1haW5BeGlzLFxuICAgICAgX29wdGlvbnMkYWx0QXhpcyA9IG9wdGlvbnMuYWx0QXhpcyxcbiAgICAgIGNoZWNrQWx0QXhpcyA9IF9vcHRpb25zJGFsdEF4aXMgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRhbHRBeGlzLFxuICAgICAgc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzID0gb3B0aW9ucy5mYWxsYmFja1BsYWNlbWVudHMsXG4gICAgICBwYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nLFxuICAgICAgYm91bmRhcnkgPSBvcHRpb25zLmJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5ID0gb3B0aW9ucy5yb290Qm91bmRhcnksXG4gICAgICBhbHRCb3VuZGFyeSA9IG9wdGlvbnMuYWx0Qm91bmRhcnksXG4gICAgICBfb3B0aW9ucyRmbGlwVmFyaWF0aW8gPSBvcHRpb25zLmZsaXBWYXJpYXRpb25zLFxuICAgICAgZmxpcFZhcmlhdGlvbnMgPSBfb3B0aW9ucyRmbGlwVmFyaWF0aW8gPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRmbGlwVmFyaWF0aW8sXG4gICAgICBhbGxvd2VkQXV0b1BsYWNlbWVudHMgPSBvcHRpb25zLmFsbG93ZWRBdXRvUGxhY2VtZW50cztcbiAgdmFyIHByZWZlcnJlZFBsYWNlbWVudCA9IHN0YXRlLm9wdGlvbnMucGxhY2VtZW50O1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQocHJlZmVycmVkUGxhY2VtZW50KTtcbiAgdmFyIGlzQmFzZVBsYWNlbWVudCA9IGJhc2VQbGFjZW1lbnQgPT09IHByZWZlcnJlZFBsYWNlbWVudDtcbiAgdmFyIGZhbGxiYWNrUGxhY2VtZW50cyA9IHNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyB8fCAoaXNCYXNlUGxhY2VtZW50IHx8ICFmbGlwVmFyaWF0aW9ucyA/IFtnZXRPcHBvc2l0ZVBsYWNlbWVudChwcmVmZXJyZWRQbGFjZW1lbnQpXSA6IGdldEV4cGFuZGVkRmFsbGJhY2tQbGFjZW1lbnRzKHByZWZlcnJlZFBsYWNlbWVudCkpO1xuICB2YXIgcGxhY2VtZW50cyA9IFtwcmVmZXJyZWRQbGFjZW1lbnRdLmNvbmNhdChmYWxsYmFja1BsYWNlbWVudHMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHtcbiAgICByZXR1cm4gYWNjLmNvbmNhdChnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkgPT09IGF1dG8gPyBjb21wdXRlQXV0b1BsYWNlbWVudChzdGF0ZSwge1xuICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICBib3VuZGFyeTogYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnk6IHJvb3RCb3VuZGFyeSxcbiAgICAgIHBhZGRpbmc6IHBhZGRpbmcsXG4gICAgICBmbGlwVmFyaWF0aW9uczogZmxpcFZhcmlhdGlvbnMsXG4gICAgICBhbGxvd2VkQXV0b1BsYWNlbWVudHM6IGFsbG93ZWRBdXRvUGxhY2VtZW50c1xuICAgIH0pIDogcGxhY2VtZW50KTtcbiAgfSwgW10pO1xuICB2YXIgcmVmZXJlbmNlUmVjdCA9IHN0YXRlLnJlY3RzLnJlZmVyZW5jZTtcbiAgdmFyIHBvcHBlclJlY3QgPSBzdGF0ZS5yZWN0cy5wb3BwZXI7XG4gIHZhciBjaGVja3NNYXAgPSBuZXcgTWFwKCk7XG4gIHZhciBtYWtlRmFsbGJhY2tDaGVja3MgPSB0cnVlO1xuICB2YXIgZmlyc3RGaXR0aW5nUGxhY2VtZW50ID0gcGxhY2VtZW50c1swXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBsYWNlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcGxhY2VtZW50ID0gcGxhY2VtZW50c1tpXTtcblxuICAgIHZhciBfYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KTtcblxuICAgIHZhciBpc1N0YXJ0VmFyaWF0aW9uID0gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkgPT09IHN0YXJ0O1xuICAgIHZhciBpc1ZlcnRpY2FsID0gW3RvcCwgYm90dG9tXS5pbmRleE9mKF9iYXNlUGxhY2VtZW50KSA+PSAwO1xuICAgIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuICAgIHZhciBvdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIGJvdW5kYXJ5OiBib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeTogcm9vdEJvdW5kYXJ5LFxuICAgICAgYWx0Qm91bmRhcnk6IGFsdEJvdW5kYXJ5LFxuICAgICAgcGFkZGluZzogcGFkZGluZ1xuICAgIH0pO1xuICAgIHZhciBtYWluVmFyaWF0aW9uU2lkZSA9IGlzVmVydGljYWwgPyBpc1N0YXJ0VmFyaWF0aW9uID8gcmlnaHQgOiBsZWZ0IDogaXNTdGFydFZhcmlhdGlvbiA/IGJvdHRvbSA6IHRvcDtcblxuICAgIGlmIChyZWZlcmVuY2VSZWN0W2xlbl0gPiBwb3BwZXJSZWN0W2xlbl0pIHtcbiAgICAgIG1haW5WYXJpYXRpb25TaWRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQobWFpblZhcmlhdGlvblNpZGUpO1xuICAgIH1cblxuICAgIHZhciBhbHRWYXJpYXRpb25TaWRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQobWFpblZhcmlhdGlvblNpZGUpO1xuICAgIHZhciBjaGVja3MgPSBbXTtcblxuICAgIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgICBjaGVja3MucHVzaChvdmVyZmxvd1tfYmFzZVBsYWNlbWVudF0gPD0gMCk7XG4gICAgfVxuXG4gICAgaWYgKGNoZWNrQWx0QXhpcykge1xuICAgICAgY2hlY2tzLnB1c2gob3ZlcmZsb3dbbWFpblZhcmlhdGlvblNpZGVdIDw9IDAsIG92ZXJmbG93W2FsdFZhcmlhdGlvblNpZGVdIDw9IDApO1xuICAgIH1cblxuICAgIGlmIChjaGVja3MuZXZlcnkoZnVuY3Rpb24gKGNoZWNrKSB7XG4gICAgICByZXR1cm4gY2hlY2s7XG4gICAgfSkpIHtcbiAgICAgIGZpcnN0Rml0dGluZ1BsYWNlbWVudCA9IHBsYWNlbWVudDtcbiAgICAgIG1ha2VGYWxsYmFja0NoZWNrcyA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY2hlY2tzTWFwLnNldChwbGFjZW1lbnQsIGNoZWNrcyk7XG4gIH1cblxuICBpZiAobWFrZUZhbGxiYWNrQ2hlY2tzKSB7XG4gICAgLy8gYDJgIG1heSBiZSBkZXNpcmVkIGluIHNvbWUgY2FzZXMg4oCTIHJlc2VhcmNoIGxhdGVyXG4gICAgdmFyIG51bWJlck9mQ2hlY2tzID0gZmxpcFZhcmlhdGlvbnMgPyAzIDogMTtcblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKF9pKSB7XG4gICAgICB2YXIgZml0dGluZ1BsYWNlbWVudCA9IHBsYWNlbWVudHMuZmluZChmdW5jdGlvbiAocGxhY2VtZW50KSB7XG4gICAgICAgIHZhciBjaGVja3MgPSBjaGVja3NNYXAuZ2V0KHBsYWNlbWVudCk7XG5cbiAgICAgICAgaWYgKGNoZWNrcykge1xuICAgICAgICAgIHJldHVybiBjaGVja3Muc2xpY2UoMCwgX2kpLmV2ZXJ5KGZ1bmN0aW9uIChjaGVjaykge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGZpdHRpbmdQbGFjZW1lbnQpIHtcbiAgICAgICAgZmlyc3RGaXR0aW5nUGxhY2VtZW50ID0gZml0dGluZ1BsYWNlbWVudDtcbiAgICAgICAgcmV0dXJuIFwiYnJlYWtcIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yICh2YXIgX2kgPSBudW1iZXJPZkNoZWNrczsgX2kgPiAwOyBfaS0tKSB7XG4gICAgICB2YXIgX3JldCA9IF9sb29wKF9pKTtcblxuICAgICAgaWYgKF9yZXQgPT09IFwiYnJlYWtcIikgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHN0YXRlLnBsYWNlbWVudCAhPT0gZmlyc3RGaXR0aW5nUGxhY2VtZW50KSB7XG4gICAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXS5fc2tpcCA9IHRydWU7XG4gICAgc3RhdGUucGxhY2VtZW50ID0gZmlyc3RGaXR0aW5nUGxhY2VtZW50O1xuICAgIHN0YXRlLnJlc2V0ID0gdHJ1ZTtcbiAgfVxufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnZmxpcCcsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnbWFpbicsXG4gIGZuOiBmbGlwLFxuICByZXF1aXJlc0lmRXhpc3RzOiBbJ29mZnNldCddLFxuICBkYXRhOiB7XG4gICAgX3NraXA6IGZhbHNlXG4gIH1cbn07IiwiaW1wb3J0IGdldFZhcmlhdGlvbiBmcm9tIFwiLi9nZXRWYXJpYXRpb24uanNcIjtcbmltcG9ydCB7IHZhcmlhdGlvblBsYWNlbWVudHMsIGJhc2VQbGFjZW1lbnRzLCBwbGFjZW1lbnRzIGFzIGFsbFBsYWNlbWVudHMgfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmltcG9ydCBkZXRlY3RPdmVyZmxvdyBmcm9tIFwiLi9kZXRlY3RPdmVyZmxvdy5qc1wiO1xuaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4vZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tcHV0ZUF1dG9QbGFjZW1lbnQoc3RhdGUsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgICBwbGFjZW1lbnQgPSBfb3B0aW9ucy5wbGFjZW1lbnQsXG4gICAgICBib3VuZGFyeSA9IF9vcHRpb25zLmJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5ID0gX29wdGlvbnMucm9vdEJvdW5kYXJ5LFxuICAgICAgcGFkZGluZyA9IF9vcHRpb25zLnBhZGRpbmcsXG4gICAgICBmbGlwVmFyaWF0aW9ucyA9IF9vcHRpb25zLmZsaXBWYXJpYXRpb25zLFxuICAgICAgX29wdGlvbnMkYWxsb3dlZEF1dG9QID0gX29wdGlvbnMuYWxsb3dlZEF1dG9QbGFjZW1lbnRzLFxuICAgICAgYWxsb3dlZEF1dG9QbGFjZW1lbnRzID0gX29wdGlvbnMkYWxsb3dlZEF1dG9QID09PSB2b2lkIDAgPyBhbGxQbGFjZW1lbnRzIDogX29wdGlvbnMkYWxsb3dlZEF1dG9QO1xuICB2YXIgdmFyaWF0aW9uID0gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCk7XG4gIHZhciBwbGFjZW1lbnRzID0gdmFyaWF0aW9uID8gZmxpcFZhcmlhdGlvbnMgPyB2YXJpYXRpb25QbGFjZW1lbnRzIDogdmFyaWF0aW9uUGxhY2VtZW50cy5maWx0ZXIoZnVuY3Rpb24gKHBsYWNlbWVudCkge1xuICAgIHJldHVybiBnZXRWYXJpYXRpb24ocGxhY2VtZW50KSA9PT0gdmFyaWF0aW9uO1xuICB9KSA6IGJhc2VQbGFjZW1lbnRzO1xuICB2YXIgYWxsb3dlZFBsYWNlbWVudHMgPSBwbGFjZW1lbnRzLmZpbHRlcihmdW5jdGlvbiAocGxhY2VtZW50KSB7XG4gICAgcmV0dXJuIGFsbG93ZWRBdXRvUGxhY2VtZW50cy5pbmRleE9mKHBsYWNlbWVudCkgPj0gMDtcbiAgfSk7XG5cbiAgaWYgKGFsbG93ZWRQbGFjZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGFsbG93ZWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cztcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoWydQb3BwZXI6IFRoZSBgYWxsb3dlZEF1dG9QbGFjZW1lbnRzYCBvcHRpb24gZGlkIG5vdCBhbGxvdyBhbnknLCAncGxhY2VtZW50cy4gRW5zdXJlIHRoZSBgcGxhY2VtZW50YCBvcHRpb24gbWF0Y2hlcyB0aGUgdmFyaWF0aW9uJywgJ29mIHRoZSBhbGxvd2VkIHBsYWNlbWVudHMuJywgJ0ZvciBleGFtcGxlLCBcImF1dG9cIiBjYW5ub3QgYmUgdXNlZCB0byBhbGxvdyBcImJvdHRvbS1zdGFydFwiLicsICdVc2UgXCJhdXRvLXN0YXJ0XCIgaW5zdGVhZC4nXS5qb2luKCcgJykpO1xuICAgIH1cbiAgfSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXTogRmxvdyBzZWVtcyB0byBoYXZlIHByb2JsZW1zIHdpdGggdHdvIGFycmF5IHVuaW9ucy4uLlxuXG5cbiAgdmFyIG92ZXJmbG93cyA9IGFsbG93ZWRQbGFjZW1lbnRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHtcbiAgICBhY2NbcGxhY2VtZW50XSA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIGJvdW5kYXJ5OiBib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeTogcm9vdEJvdW5kYXJ5LFxuICAgICAgcGFkZGluZzogcGFkZGluZ1xuICAgIH0pW2dldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KV07XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuICByZXR1cm4gT2JqZWN0LmtleXMob3ZlcmZsb3dzKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIG92ZXJmbG93c1thXSAtIG92ZXJmbG93c1tiXTtcbiAgfSk7XG59IiwiaW1wb3J0IHsgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tLCBzdGFydCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldE1haW5BeGlzRnJvbVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldEFsdEF4aXMgZnJvbSBcIi4uL3V0aWxzL2dldEFsdEF4aXMuanNcIjtcbmltcG9ydCB7IHdpdGhpbiwgd2l0aGluTWF4Q2xhbXAgfSBmcm9tIFwiLi4vdXRpbHMvd2l0aGluLmpzXCI7XG5pbXBvcnQgZ2V0TGF5b3V0UmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldExheW91dFJlY3QuanNcIjtcbmltcG9ydCBnZXRPZmZzZXRQYXJlbnQgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRPZmZzZXRQYXJlbnQuanNcIjtcbmltcG9ydCBkZXRlY3RPdmVyZmxvdyBmcm9tIFwiLi4vdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanNcIjtcbmltcG9ydCBnZXRWYXJpYXRpb24gZnJvbSBcIi4uL3V0aWxzL2dldFZhcmlhdGlvbi5qc1wiO1xuaW1wb3J0IGdldEZyZXNoU2lkZU9iamVjdCBmcm9tIFwiLi4vdXRpbHMvZ2V0RnJlc2hTaWRlT2JqZWN0LmpzXCI7XG5pbXBvcnQgeyBtaW4gYXMgbWF0aE1pbiwgbWF4IGFzIG1hdGhNYXggfSBmcm9tIFwiLi4vdXRpbHMvbWF0aC5qc1wiO1xuXG5mdW5jdGlvbiBwcmV2ZW50T3ZlcmZsb3coX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYub3B0aW9ucyxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWU7XG4gIHZhciBfb3B0aW9ucyRtYWluQXhpcyA9IG9wdGlvbnMubWFpbkF4aXMsXG4gICAgICBjaGVja01haW5BeGlzID0gX29wdGlvbnMkbWFpbkF4aXMgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRtYWluQXhpcyxcbiAgICAgIF9vcHRpb25zJGFsdEF4aXMgPSBvcHRpb25zLmFsdEF4aXMsXG4gICAgICBjaGVja0FsdEF4aXMgPSBfb3B0aW9ucyRhbHRBeGlzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJGFsdEF4aXMsXG4gICAgICBib3VuZGFyeSA9IG9wdGlvbnMuYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnkgPSBvcHRpb25zLnJvb3RCb3VuZGFyeSxcbiAgICAgIGFsdEJvdW5kYXJ5ID0gb3B0aW9ucy5hbHRCb3VuZGFyeSxcbiAgICAgIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcsXG4gICAgICBfb3B0aW9ucyR0ZXRoZXIgPSBvcHRpb25zLnRldGhlcixcbiAgICAgIHRldGhlciA9IF9vcHRpb25zJHRldGhlciA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHRldGhlcixcbiAgICAgIF9vcHRpb25zJHRldGhlck9mZnNldCA9IG9wdGlvbnMudGV0aGVyT2Zmc2V0LFxuICAgICAgdGV0aGVyT2Zmc2V0ID0gX29wdGlvbnMkdGV0aGVyT2Zmc2V0ID09PSB2b2lkIDAgPyAwIDogX29wdGlvbnMkdGV0aGVyT2Zmc2V0O1xuICB2YXIgb3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgIGJvdW5kYXJ5OiBib3VuZGFyeSxcbiAgICByb290Qm91bmRhcnk6IHJvb3RCb3VuZGFyeSxcbiAgICBwYWRkaW5nOiBwYWRkaW5nLFxuICAgIGFsdEJvdW5kYXJ5OiBhbHRCb3VuZGFyeVxuICB9KTtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBnZXRCYXNlUGxhY2VtZW50KHN0YXRlLnBsYWNlbWVudCk7XG4gIHZhciB2YXJpYXRpb24gPSBnZXRWYXJpYXRpb24oc3RhdGUucGxhY2VtZW50KTtcbiAgdmFyIGlzQmFzZVBsYWNlbWVudCA9ICF2YXJpYXRpb247XG4gIHZhciBtYWluQXhpcyA9IGdldE1haW5BeGlzRnJvbVBsYWNlbWVudChiYXNlUGxhY2VtZW50KTtcbiAgdmFyIGFsdEF4aXMgPSBnZXRBbHRBeGlzKG1haW5BeGlzKTtcbiAgdmFyIHBvcHBlck9mZnNldHMgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHM7XG4gIHZhciByZWZlcmVuY2VSZWN0ID0gc3RhdGUucmVjdHMucmVmZXJlbmNlO1xuICB2YXIgcG9wcGVyUmVjdCA9IHN0YXRlLnJlY3RzLnBvcHBlcjtcbiAgdmFyIHRldGhlck9mZnNldFZhbHVlID0gdHlwZW9mIHRldGhlck9mZnNldCA9PT0gJ2Z1bmN0aW9uJyA/IHRldGhlck9mZnNldChPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yZWN0cywge1xuICAgIHBsYWNlbWVudDogc3RhdGUucGxhY2VtZW50XG4gIH0pKSA6IHRldGhlck9mZnNldDtcbiAgdmFyIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZSA9IHR5cGVvZiB0ZXRoZXJPZmZzZXRWYWx1ZSA9PT0gJ251bWJlcicgPyB7XG4gICAgbWFpbkF4aXM6IHRldGhlck9mZnNldFZhbHVlLFxuICAgIGFsdEF4aXM6IHRldGhlck9mZnNldFZhbHVlXG4gIH0gOiBPYmplY3QuYXNzaWduKHtcbiAgICBtYWluQXhpczogMCxcbiAgICBhbHRBeGlzOiAwXG4gIH0sIHRldGhlck9mZnNldFZhbHVlKTtcbiAgdmFyIG9mZnNldE1vZGlmaWVyU3RhdGUgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLm9mZnNldCA/IHN0YXRlLm1vZGlmaWVyc0RhdGEub2Zmc2V0W3N0YXRlLnBsYWNlbWVudF0gOiBudWxsO1xuICB2YXIgZGF0YSA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcblxuICBpZiAoIXBvcHBlck9mZnNldHMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgIHZhciBfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQ7XG5cbiAgICB2YXIgbWFpblNpZGUgPSBtYWluQXhpcyA9PT0gJ3knID8gdG9wIDogbGVmdDtcbiAgICB2YXIgYWx0U2lkZSA9IG1haW5BeGlzID09PSAneScgPyBib3R0b20gOiByaWdodDtcbiAgICB2YXIgbGVuID0gbWFpbkF4aXMgPT09ICd5JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICB2YXIgb2Zmc2V0ID0gcG9wcGVyT2Zmc2V0c1ttYWluQXhpc107XG4gICAgdmFyIG1pbiA9IG9mZnNldCArIG92ZXJmbG93W21haW5TaWRlXTtcbiAgICB2YXIgbWF4ID0gb2Zmc2V0IC0gb3ZlcmZsb3dbYWx0U2lkZV07XG4gICAgdmFyIGFkZGl0aXZlID0gdGV0aGVyID8gLXBvcHBlclJlY3RbbGVuXSAvIDIgOiAwO1xuICAgIHZhciBtaW5MZW4gPSB2YXJpYXRpb24gPT09IHN0YXJ0ID8gcmVmZXJlbmNlUmVjdFtsZW5dIDogcG9wcGVyUmVjdFtsZW5dO1xuICAgIHZhciBtYXhMZW4gPSB2YXJpYXRpb24gPT09IHN0YXJ0ID8gLXBvcHBlclJlY3RbbGVuXSA6IC1yZWZlcmVuY2VSZWN0W2xlbl07IC8vIFdlIG5lZWQgdG8gaW5jbHVkZSB0aGUgYXJyb3cgaW4gdGhlIGNhbGN1bGF0aW9uIHNvIHRoZSBhcnJvdyBkb2Vzbid0IGdvXG4gICAgLy8gb3V0c2lkZSB0aGUgcmVmZXJlbmNlIGJvdW5kc1xuXG4gICAgdmFyIGFycm93RWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzLmFycm93O1xuICAgIHZhciBhcnJvd1JlY3QgPSB0ZXRoZXIgJiYgYXJyb3dFbGVtZW50ID8gZ2V0TGF5b3V0UmVjdChhcnJvd0VsZW1lbnQpIDoge1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICAgIHZhciBhcnJvd1BhZGRpbmdPYmplY3QgPSBzdGF0ZS5tb2RpZmllcnNEYXRhWydhcnJvdyNwZXJzaXN0ZW50J10gPyBzdGF0ZS5tb2RpZmllcnNEYXRhWydhcnJvdyNwZXJzaXN0ZW50J10ucGFkZGluZyA6IGdldEZyZXNoU2lkZU9iamVjdCgpO1xuICAgIHZhciBhcnJvd1BhZGRpbmdNaW4gPSBhcnJvd1BhZGRpbmdPYmplY3RbbWFpblNpZGVdO1xuICAgIHZhciBhcnJvd1BhZGRpbmdNYXggPSBhcnJvd1BhZGRpbmdPYmplY3RbYWx0U2lkZV07IC8vIElmIHRoZSByZWZlcmVuY2UgbGVuZ3RoIGlzIHNtYWxsZXIgdGhhbiB0aGUgYXJyb3cgbGVuZ3RoLCB3ZSBkb24ndCB3YW50XG4gICAgLy8gdG8gaW5jbHVkZSBpdHMgZnVsbCBzaXplIGluIHRoZSBjYWxjdWxhdGlvbi4gSWYgdGhlIHJlZmVyZW5jZSBpcyBzbWFsbFxuICAgIC8vIGFuZCBuZWFyIHRoZSBlZGdlIG9mIGEgYm91bmRhcnksIHRoZSBwb3BwZXIgY2FuIG92ZXJmbG93IGV2ZW4gaWYgdGhlXG4gICAgLy8gcmVmZXJlbmNlIGlzIG5vdCBvdmVyZmxvd2luZyBhcyB3ZWxsIChlLmcuIHZpcnR1YWwgZWxlbWVudHMgd2l0aCBub1xuICAgIC8vIHdpZHRoIG9yIGhlaWdodClcblxuICAgIHZhciBhcnJvd0xlbiA9IHdpdGhpbigwLCByZWZlcmVuY2VSZWN0W2xlbl0sIGFycm93UmVjdFtsZW5dKTtcbiAgICB2YXIgbWluT2Zmc2V0ID0gaXNCYXNlUGxhY2VtZW50ID8gcmVmZXJlbmNlUmVjdFtsZW5dIC8gMiAtIGFkZGl0aXZlIC0gYXJyb3dMZW4gLSBhcnJvd1BhZGRpbmdNaW4gLSBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUubWFpbkF4aXMgOiBtaW5MZW4gLSBhcnJvd0xlbiAtIGFycm93UGFkZGluZ01pbiAtIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZS5tYWluQXhpcztcbiAgICB2YXIgbWF4T2Zmc2V0ID0gaXNCYXNlUGxhY2VtZW50ID8gLXJlZmVyZW5jZVJlY3RbbGVuXSAvIDIgKyBhZGRpdGl2ZSArIGFycm93TGVuICsgYXJyb3dQYWRkaW5nTWF4ICsgbm9ybWFsaXplZFRldGhlck9mZnNldFZhbHVlLm1haW5BeGlzIDogbWF4TGVuICsgYXJyb3dMZW4gKyBhcnJvd1BhZGRpbmdNYXggKyBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUubWFpbkF4aXM7XG4gICAgdmFyIGFycm93T2Zmc2V0UGFyZW50ID0gc3RhdGUuZWxlbWVudHMuYXJyb3cgJiYgZ2V0T2Zmc2V0UGFyZW50KHN0YXRlLmVsZW1lbnRzLmFycm93KTtcbiAgICB2YXIgY2xpZW50T2Zmc2V0ID0gYXJyb3dPZmZzZXRQYXJlbnQgPyBtYWluQXhpcyA9PT0gJ3knID8gYXJyb3dPZmZzZXRQYXJlbnQuY2xpZW50VG9wIHx8IDAgOiBhcnJvd09mZnNldFBhcmVudC5jbGllbnRMZWZ0IHx8IDAgOiAwO1xuICAgIHZhciBvZmZzZXRNb2RpZmllclZhbHVlID0gKF9vZmZzZXRNb2RpZmllclN0YXRlJCA9IG9mZnNldE1vZGlmaWVyU3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IG9mZnNldE1vZGlmaWVyU3RhdGVbbWFpbkF4aXNdKSAhPSBudWxsID8gX29mZnNldE1vZGlmaWVyU3RhdGUkIDogMDtcbiAgICB2YXIgdGV0aGVyTWluID0gb2Zmc2V0ICsgbWluT2Zmc2V0IC0gb2Zmc2V0TW9kaWZpZXJWYWx1ZSAtIGNsaWVudE9mZnNldDtcbiAgICB2YXIgdGV0aGVyTWF4ID0gb2Zmc2V0ICsgbWF4T2Zmc2V0IC0gb2Zmc2V0TW9kaWZpZXJWYWx1ZTtcbiAgICB2YXIgcHJldmVudGVkT2Zmc2V0ID0gd2l0aGluKHRldGhlciA/IG1hdGhNaW4obWluLCB0ZXRoZXJNaW4pIDogbWluLCBvZmZzZXQsIHRldGhlciA/IG1hdGhNYXgobWF4LCB0ZXRoZXJNYXgpIDogbWF4KTtcbiAgICBwb3BwZXJPZmZzZXRzW21haW5BeGlzXSA9IHByZXZlbnRlZE9mZnNldDtcbiAgICBkYXRhW21haW5BeGlzXSA9IHByZXZlbnRlZE9mZnNldCAtIG9mZnNldDtcbiAgfVxuXG4gIGlmIChjaGVja0FsdEF4aXMpIHtcbiAgICB2YXIgX29mZnNldE1vZGlmaWVyU3RhdGUkMjtcblxuICAgIHZhciBfbWFpblNpZGUgPSBtYWluQXhpcyA9PT0gJ3gnID8gdG9wIDogbGVmdDtcblxuICAgIHZhciBfYWx0U2lkZSA9IG1haW5BeGlzID09PSAneCcgPyBib3R0b20gOiByaWdodDtcblxuICAgIHZhciBfb2Zmc2V0ID0gcG9wcGVyT2Zmc2V0c1thbHRBeGlzXTtcblxuICAgIHZhciBfbGVuID0gYWx0QXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gICAgdmFyIF9taW4gPSBfb2Zmc2V0ICsgb3ZlcmZsb3dbX21haW5TaWRlXTtcblxuICAgIHZhciBfbWF4ID0gX29mZnNldCAtIG92ZXJmbG93W19hbHRTaWRlXTtcblxuICAgIHZhciBpc09yaWdpblNpZGUgPSBbdG9wLCBsZWZ0XS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICAgIHZhciBfb2Zmc2V0TW9kaWZpZXJWYWx1ZSA9IChfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQyID0gb2Zmc2V0TW9kaWZpZXJTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogb2Zmc2V0TW9kaWZpZXJTdGF0ZVthbHRBeGlzXSkgIT0gbnVsbCA/IF9vZmZzZXRNb2RpZmllclN0YXRlJDIgOiAwO1xuXG4gICAgdmFyIF90ZXRoZXJNaW4gPSBpc09yaWdpblNpZGUgPyBfbWluIDogX29mZnNldCAtIHJlZmVyZW5jZVJlY3RbX2xlbl0gLSBwb3BwZXJSZWN0W19sZW5dIC0gX29mZnNldE1vZGlmaWVyVmFsdWUgKyBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUuYWx0QXhpcztcblxuICAgIHZhciBfdGV0aGVyTWF4ID0gaXNPcmlnaW5TaWRlID8gX29mZnNldCArIHJlZmVyZW5jZVJlY3RbX2xlbl0gKyBwb3BwZXJSZWN0W19sZW5dIC0gX29mZnNldE1vZGlmaWVyVmFsdWUgLSBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUuYWx0QXhpcyA6IF9tYXg7XG5cbiAgICB2YXIgX3ByZXZlbnRlZE9mZnNldCA9IHRldGhlciAmJiBpc09yaWdpblNpZGUgPyB3aXRoaW5NYXhDbGFtcChfdGV0aGVyTWluLCBfb2Zmc2V0LCBfdGV0aGVyTWF4KSA6IHdpdGhpbih0ZXRoZXIgPyBfdGV0aGVyTWluIDogX21pbiwgX29mZnNldCwgdGV0aGVyID8gX3RldGhlck1heCA6IF9tYXgpO1xuXG4gICAgcG9wcGVyT2Zmc2V0c1thbHRBeGlzXSA9IF9wcmV2ZW50ZWRPZmZzZXQ7XG4gICAgZGF0YVthbHRBeGlzXSA9IF9wcmV2ZW50ZWRPZmZzZXQgLSBfb2Zmc2V0O1xuICB9XG5cbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IGRhdGE7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICBmbjogcHJldmVudE92ZXJmbG93LFxuICByZXF1aXJlc0lmRXhpc3RzOiBbJ29mZnNldCddXG59OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEFsdEF4aXMoYXhpcykge1xuICByZXR1cm4gYXhpcyA9PT0gJ3gnID8gJ3knIDogJ3gnO1xufSIsImltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0TGF5b3V0UmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldExheW91dFJlY3QuanNcIjtcbmltcG9ydCBjb250YWlucyBmcm9tIFwiLi4vZG9tLXV0aWxzL2NvbnRhaW5zLmpzXCI7XG5pbXBvcnQgZ2V0T2Zmc2V0UGFyZW50IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzXCI7XG5pbXBvcnQgZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQuanNcIjtcbmltcG9ydCB7IHdpdGhpbiB9IGZyb20gXCIuLi91dGlscy93aXRoaW4uanNcIjtcbmltcG9ydCBtZXJnZVBhZGRpbmdPYmplY3QgZnJvbSBcIi4uL3V0aWxzL21lcmdlUGFkZGluZ09iamVjdC5qc1wiO1xuaW1wb3J0IGV4cGFuZFRvSGFzaE1hcCBmcm9tIFwiLi4vdXRpbHMvZXhwYW5kVG9IYXNoTWFwLmpzXCI7XG5pbXBvcnQgeyBsZWZ0LCByaWdodCwgYmFzZVBsYWNlbWVudHMsIHRvcCwgYm90dG9tIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50IH0gZnJvbSBcIi4uL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxudmFyIHRvUGFkZGluZ09iamVjdCA9IGZ1bmN0aW9uIHRvUGFkZGluZ09iamVjdChwYWRkaW5nLCBzdGF0ZSkge1xuICBwYWRkaW5nID0gdHlwZW9mIHBhZGRpbmcgPT09ICdmdW5jdGlvbicgPyBwYWRkaW5nKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJlY3RzLCB7XG4gICAgcGxhY2VtZW50OiBzdGF0ZS5wbGFjZW1lbnRcbiAgfSkpIDogcGFkZGluZztcbiAgcmV0dXJuIG1lcmdlUGFkZGluZ09iamVjdCh0eXBlb2YgcGFkZGluZyAhPT0gJ251bWJlcicgPyBwYWRkaW5nIDogZXhwYW5kVG9IYXNoTWFwKHBhZGRpbmcsIGJhc2VQbGFjZW1lbnRzKSk7XG59O1xuXG5mdW5jdGlvbiBhcnJvdyhfcmVmKSB7XG4gIHZhciBfc3RhdGUkbW9kaWZpZXJzRGF0YSQ7XG5cbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zO1xuICB2YXIgYXJyb3dFbGVtZW50ID0gc3RhdGUuZWxlbWVudHMuYXJyb3c7XG4gIHZhciBwb3BwZXJPZmZzZXRzID0gc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzO1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQoc3RhdGUucGxhY2VtZW50KTtcbiAgdmFyIGF4aXMgPSBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQoYmFzZVBsYWNlbWVudCk7XG4gIHZhciBpc1ZlcnRpY2FsID0gW2xlZnQsIHJpZ2h0XS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID49IDA7XG4gIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gIGlmICghYXJyb3dFbGVtZW50IHx8ICFwb3BwZXJPZmZzZXRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBhZGRpbmdPYmplY3QgPSB0b1BhZGRpbmdPYmplY3Qob3B0aW9ucy5wYWRkaW5nLCBzdGF0ZSk7XG4gIHZhciBhcnJvd1JlY3QgPSBnZXRMYXlvdXRSZWN0KGFycm93RWxlbWVudCk7XG4gIHZhciBtaW5Qcm9wID0gYXhpcyA9PT0gJ3knID8gdG9wIDogbGVmdDtcbiAgdmFyIG1heFByb3AgPSBheGlzID09PSAneScgPyBib3R0b20gOiByaWdodDtcbiAgdmFyIGVuZERpZmYgPSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2VbbGVuXSArIHN0YXRlLnJlY3RzLnJlZmVyZW5jZVtheGlzXSAtIHBvcHBlck9mZnNldHNbYXhpc10gLSBzdGF0ZS5yZWN0cy5wb3BwZXJbbGVuXTtcbiAgdmFyIHN0YXJ0RGlmZiA9IHBvcHBlck9mZnNldHNbYXhpc10gLSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2VbYXhpc107XG4gIHZhciBhcnJvd09mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChhcnJvd0VsZW1lbnQpO1xuICB2YXIgY2xpZW50U2l6ZSA9IGFycm93T2Zmc2V0UGFyZW50ID8gYXhpcyA9PT0gJ3knID8gYXJyb3dPZmZzZXRQYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDAgOiBhcnJvd09mZnNldFBhcmVudC5jbGllbnRXaWR0aCB8fCAwIDogMDtcbiAgdmFyIGNlbnRlclRvUmVmZXJlbmNlID0gZW5kRGlmZiAvIDIgLSBzdGFydERpZmYgLyAyOyAvLyBNYWtlIHN1cmUgdGhlIGFycm93IGRvZXNuJ3Qgb3ZlcmZsb3cgdGhlIHBvcHBlciBpZiB0aGUgY2VudGVyIHBvaW50IGlzXG4gIC8vIG91dHNpZGUgb2YgdGhlIHBvcHBlciBib3VuZHNcblxuICB2YXIgbWluID0gcGFkZGluZ09iamVjdFttaW5Qcm9wXTtcbiAgdmFyIG1heCA9IGNsaWVudFNpemUgLSBhcnJvd1JlY3RbbGVuXSAtIHBhZGRpbmdPYmplY3RbbWF4UHJvcF07XG4gIHZhciBjZW50ZXIgPSBjbGllbnRTaXplIC8gMiAtIGFycm93UmVjdFtsZW5dIC8gMiArIGNlbnRlclRvUmVmZXJlbmNlO1xuICB2YXIgb2Zmc2V0ID0gd2l0aGluKG1pbiwgY2VudGVyLCBtYXgpOyAvLyBQcmV2ZW50cyBicmVha2luZyBzeW50YXggaGlnaGxpZ2h0aW5nLi4uXG5cbiAgdmFyIGF4aXNQcm9wID0gYXhpcztcbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IChfc3RhdGUkbW9kaWZpZXJzRGF0YSQgPSB7fSwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkW2F4aXNQcm9wXSA9IG9mZnNldCwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkLmNlbnRlck9mZnNldCA9IG9mZnNldCAtIGNlbnRlciwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkKTtcbn1cblxuZnVuY3Rpb24gZWZmZWN0KF9yZWYyKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYyLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYyLm9wdGlvbnM7XG4gIHZhciBfb3B0aW9ucyRlbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50LFxuICAgICAgYXJyb3dFbGVtZW50ID0gX29wdGlvbnMkZWxlbWVudCA9PT0gdm9pZCAwID8gJ1tkYXRhLXBvcHBlci1hcnJvd10nIDogX29wdGlvbnMkZWxlbWVudDtcblxuICBpZiAoYXJyb3dFbGVtZW50ID09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gQ1NTIHNlbGVjdG9yXG5cblxuICBpZiAodHlwZW9mIGFycm93RWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBhcnJvd0VsZW1lbnQgPSBzdGF0ZS5lbGVtZW50cy5wb3BwZXIucXVlcnlTZWxlY3RvcihhcnJvd0VsZW1lbnQpO1xuXG4gICAgaWYgKCFhcnJvd0VsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgaWYgKCFpc0hUTUxFbGVtZW50KGFycm93RWxlbWVudCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoWydQb3BwZXI6IFwiYXJyb3dcIiBlbGVtZW50IG11c3QgYmUgYW4gSFRNTEVsZW1lbnQgKG5vdCBhbiBTVkdFbGVtZW50KS4nLCAnVG8gdXNlIGFuIFNWRyBhcnJvdywgd3JhcCBpdCBpbiBhbiBIVE1MRWxlbWVudCB0aGF0IHdpbGwgYmUgdXNlZCBhcycsICd0aGUgYXJyb3cuJ10uam9pbignICcpKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbnRhaW5zKHN0YXRlLmVsZW1lbnRzLnBvcHBlciwgYXJyb3dFbGVtZW50KSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoWydQb3BwZXI6IFwiYXJyb3dcIiBtb2RpZmllclxcJ3MgYGVsZW1lbnRgIG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgcG9wcGVyJywgJ2VsZW1lbnQuJ10uam9pbignICcpKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBzdGF0ZS5lbGVtZW50cy5hcnJvdyA9IGFycm93RWxlbWVudDtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ2Fycm93JyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICdtYWluJyxcbiAgZm46IGFycm93LFxuICBlZmZlY3Q6IGVmZmVjdCxcbiAgcmVxdWlyZXM6IFsncG9wcGVyT2Zmc2V0cyddLFxuICByZXF1aXJlc0lmRXhpc3RzOiBbJ3ByZXZlbnRPdmVyZmxvdyddXG59OyIsImltcG9ydCB7IGNyZWF0ZVBvcHBlciB9IGZyb20gJ0Bwb3BwZXJqcy9jb3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wVXBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucG9wdXBNc2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXJyb3Itd3JhcHBlcicpO1xuICB9XG5cbiAgc2hvdyhlbGVtZW50LCB0ZXh0KSB7XG4gICAgY29uc3QgcG9wcGVySW5zdGFuY2UgPSBjcmVhdGVQb3BwZXIoZWxlbWVudCwgdGhpcy5wb3B1cE1zZywge1xuICAgICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICAgIG1vZGlmaWVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ29mZnNldCcsXG4gICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgb2Zmc2V0OiBbMCwgNl0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSk7XG4gICAgdGhpcy5wb3B1cE1zZy5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItbWVzc2FnZScpLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB0aGlzLnBvcHVwTXNnLnNldEF0dHJpYnV0ZSgnZGF0YS1zaG93JywgJycpO1xuICAgIHBvcHBlckluc3RhbmNlLnVwZGF0ZSgpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5wb3B1cE1zZy5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc2hvdycpO1xuICAgIH0sIDI1MDApO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNzYWdlcyB7XG4gIGNyZWF0ZUVsZW1lbnQoZGF0YSkge1xuICAgIGNvbnN0IHsgdHlwZSB9ID0gZGF0YTtcbiAgICBsZXQgZWxlbWVudCA9IG51bGw7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICd0ZXh0JzpcbiAgICAgIGNhc2UgJ2dlb2xvY2F0aW9uJzpcbiAgICAgICAgZWxlbWVudCA9IHRoaXMuY29uc3RydWN0b3IuY3JlYXRlVGV4dEVsZW1lbnQoZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgIGVsZW1lbnQgPSB0aGlzLmNvbnN0cnVjdG9yLmNyZWF0ZUZpbGVFbGVtZW50KGRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3dlYXRoZXInOlxuICAgICAgICBlbGVtZW50ID0gdGhpcy5jb25zdHJ1Y3Rvci5jcmVhdGVXZWF0aGVyRWxlbWVudChkYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVGaWxlRWxlbWVudChkYXRhKSB7XG4gICAgY29uc3QgeyBjYXRlZ29yeSB9ID0gZGF0YS5pbmZvO1xuICAgIGxldCBlbGVtZW50ID0gbnVsbDtcbiAgICBpZiAoY2F0ZWdvcnkuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgIGVsZW1lbnQgPSB0aGlzLmNyZWF0ZUltYWdlRWxlbWVudChkYXRhKTtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBpZiAoY2F0ZWdvcnkuc3RhcnRzV2l0aCgnYXVkaW8vJykpIHtcbiAgICAgIGVsZW1lbnQgPSB0aGlzLmNyZWF0ZUF1ZGlvRWxlbWVudChkYXRhKTtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBpZiAoY2F0ZWdvcnkuc3RhcnRzV2l0aCgndmlkZW8vJykpIHtcbiAgICAgIGVsZW1lbnQgPSB0aGlzLmNyZWF0ZVZpZGVvRWxlbWVudChkYXRhKTtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlVGV4dEVsZW1lbnQoZGF0YSkge1xuICAgIGNvbnN0IHsgZGF0ZSwgbWVzc2FnZSwgaWQgfSA9IGRhdGE7XG4gICAgY29uc3QgbWVzc2FnZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQoJ21lc3NhZ2UnKTtcbiAgICBtZXNzYWdlRWwuZGF0YXNldC5pZCA9IGlkO1xuXG4gICAgY29uc3QgbWVzc2FnZUhlYWRlckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbWVzc2FnZUhlYWRlckVsLmNsYXNzTGlzdC5hZGQoJ21lc3NhZ2VfX2hlYWRlcicpO1xuXG4gICAgY29uc3QgZGF0ZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGRhdGVFbC5jbGFzc0xpc3QuYWRkKCdtZXNzYWdlLWRhdGUnKTtcbiAgICBkYXRlRWwudGV4dENvbnRlbnQgPSBkYXRlO1xuXG4gICAgY29uc3QgbWVzc2FnZVRleHRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBtZXNzYWdlVGV4dEVsLmNsYXNzTGlzdC5hZGQoJ21lc3NhZ2VfX3RleHQnKTtcblxuICAgIGNvbnN0IHRleHQgPSAobWVzc2FnZS5sYXRpdHVkZSAmJiBtZXNzYWdlLmxvbmdpdHVkZSlcbiAgICAgID8gYNCc0L7QuCDQutC+0L7RgNC00LjQvdCw0YLRizogJHttZXNzYWdlLmxhdGl0dWRlfSwgJHttZXNzYWdlLmxvbmdpdHVkZX1gIDogbWVzc2FnZTtcbiAgICBtZXNzYWdlVGV4dEVsLmlubmVySFRNTCA9IHRleHQ7XG4gICAgbWVzc2FnZUhlYWRlckVsLmFwcGVuZChkYXRlRWwpO1xuICAgIG1lc3NhZ2VFbC5hcHBlbmQobWVzc2FnZUhlYWRlckVsKTtcbiAgICBtZXNzYWdlRWwuYXBwZW5kKG1lc3NhZ2VUZXh0RWwpO1xuICAgIHJldHVybiBtZXNzYWdlRWw7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlSW1hZ2VFbGVtZW50KGRhdGEpIHtcbiAgICBjb25zdCB7XG4gICAgICBpZCwgZGF0ZSwgZmlsZSwgaW5mbyxcbiAgICB9ID0gZGF0YTtcblxuICAgIGNvbnN0IHZpZXdzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmlld3MuY2xhc3NMaXN0LmFkZCgnbWVzc2FnZScsICd2aWV3cycpO1xuICAgIHZpZXdzLmRhdGFzZXQuaWQgPSBpZDtcblxuICAgIGNvbnN0IG1lc3NhZ2VIZWFkZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1lc3NhZ2VIZWFkZXJFbC5jbGFzc0xpc3QuYWRkKCdtZXNzYWdlX19oZWFkZXInKTtcblxuICAgIGNvbnN0IGRhdGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBkYXRlRWwuY2xhc3NMaXN0LmFkZCgnbWVzc2FnZS1kYXRlJyk7XG4gICAgZGF0ZUVsLnRleHRDb250ZW50ID0gZGF0ZTtcbiAgICBtZXNzYWdlSGVhZGVyRWwuYXBwZW5kKGRhdGVFbCk7XG5cbiAgICBjb25zdCBpbWFnZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWFnZXMuc3JjID0gZmlsZTtcblxuICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgYS5ocmVmID0gZmlsZTtcbiAgICBhLmRvd25sb2FkID0gaW5mby5uYW1lO1xuICAgIGEuYXBwZW5kKGltYWdlcyk7XG5cbiAgICB2aWV3cy5hcHBlbmQobWVzc2FnZUhlYWRlckVsKTtcbiAgICB2aWV3cy5hcHBlbmQoYSk7XG5cbiAgICByZXR1cm4gdmlld3M7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlQXVkaW9FbGVtZW50KGRhdGEpIHtcbiAgICBjb25zdCB7IGRhdGUsIGZpbGUsIGluZm8gfSA9IGRhdGE7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoJ21lc3NhZ2UnLCAnYXVkaW9fX21lc3NhZ2UnKTtcblxuICAgIGNvbnN0IG1lc3NhZ2VIZWFkZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1lc3NhZ2VIZWFkZXJFbC5jbGFzc0xpc3QuYWRkKCdtZXNzYWdlX19oZWFkZXInKTtcblxuICAgIGNvbnN0IGRhdGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBkYXRlRWwuY2xhc3NMaXN0LmFkZCgnbWVzc2FnZS1kYXRlJyk7XG4gICAgZGF0ZUVsLnRleHRDb250ZW50ID0gZGF0ZTtcbiAgICBtZXNzYWdlSGVhZGVyRWwuYXBwZW5kKGRhdGVFbCk7XG5cbiAgICBjb25zdCBhdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgYXVkaW8uc2V0QXR0cmlidXRlKCdjb250cm9scycsIHRydWUpO1xuICAgIGF1ZGlvLnNyYyA9IGZpbGU7XG5cbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKCdzb3VuZF9fdGl0bGUnKTtcbiAgICB0aXRsZS5pbm5lclRleHQgPSAoaW5mby5uYW1lKSA/IGluZm8ubmFtZSA6ICdObyBuYW1lJztcblxuICAgIGRpdi5hcHBlbmQobWVzc2FnZUhlYWRlckVsKTtcbiAgICBkaXYuYXBwZW5kKGF1ZGlvKTtcbiAgICBkaXYuYXBwZW5kKHRpdGxlKTtcbiAgICByZXR1cm4gZGl2O1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZVZpZGVvRWxlbWVudChkYXRhKSB7XG4gICAgY29uc3QgeyBkYXRlLCBmaWxlLCBpbmZvIH0gPSBkYXRhO1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdtZXNzYWdlJyk7XG4gICAgY29uc3QgbWVzc2FnZUhlYWRlckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbWVzc2FnZUhlYWRlckVsLmNsYXNzTGlzdC5hZGQoJ21lc3NhZ2VfX2hlYWRlcicpO1xuXG4gICAgY29uc3QgZGF0ZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGRhdGVFbC5jbGFzc0xpc3QuYWRkKCdtZXNzYWdlLWRhdGUnKTtcbiAgICBkYXRlRWwudGV4dENvbnRlbnQgPSBkYXRlO1xuICAgIG1lc3NhZ2VIZWFkZXJFbC5hcHBlbmQoZGF0ZUVsKTtcblxuICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ2NvbnRyb2xzJywgdHJ1ZSk7XG4gICAgdmlkZW8uc3JjID0gZmlsZTtcblxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3NvdW5kX190aXRsZScpO1xuICAgIHRpdGxlLmlubmVyVGV4dCA9IGluZm8ubmFtZTtcblxuICAgIGRpdi5hcHBlbmQobWVzc2FnZUhlYWRlckVsKTtcbiAgICBkaXYuYXBwZW5kKHZpZGVvKTtcbiAgICBkaXYuYXBwZW5kKHRpdGxlKTtcblxuICAgIHJldHVybiBkaXY7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlV2VhdGhlckVsZW1lbnQoZGF0YSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGxvY2F0aW9uLCB0ZW1wLCBpY29uLCBjb25kaXRpb24sXG4gICAgfSA9IGRhdGEud2VhdGhlcjtcblxuICAgIGNvbnN0IHdlYXRoZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB3ZWF0aGVyLmNsYXNzTGlzdC5hZGQoJ3dlYXRoZXInKTtcbiAgICB3ZWF0aGVyLmRhdGFzZXQuaWQgPSBkYXRhLmlkO1xuXG4gICAgY29uc3Qgd2VhdGhlckxvZ28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB3ZWF0aGVyTG9nby5jbGFzc0xpc3QuYWRkKCd3ZWF0aGVyX19sb2dvJyk7XG4gICAgY29uc3Qgd2VhdGhlckljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICB3ZWF0aGVySWNvbi5jbGFzc0xpc3QuYWRkKCd3ZWF0aGVyX19pY29uJyk7XG4gICAgd2VhdGhlckljb24uc3JjID0gaWNvbjtcbiAgICB3ZWF0aGVySWNvbi5hbHQgPSBjb25kaXRpb247XG4gICAgd2VhdGhlckxvZ28uYXBwZW5kKHdlYXRoZXJJY29uKTtcblxuICAgIGNvbnN0IHdlYXRoZXJJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgd2VhdGhlckluZm8uY2xhc3NMaXN0LmFkZCgnd2VhdGhlcl9faW5mbycpO1xuICAgIGNvbnN0IHdlYXRoZXJSZWdpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgd2VhdGhlclJlZ2lvbi50ZXh0Q29udGVudCA9IGxvY2F0aW9uO1xuICAgIGNvbnN0IHdlYXRoZXJUZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHdlYXRoZXJUZW1wLmNsYXNzTGlzdC5hZGQoJ3dlYXRoZXJfX3RlbXAnKTtcbiAgICB3ZWF0aGVyVGVtcC50ZXh0Q29udGVudCA9IHRlbXA7XG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBzcGFuLmlubmVySFRNTCA9ICcgJiMxNzZDJztcbiAgICB3ZWF0aGVyVGVtcC5hcHBlbmQoc3Bhbik7XG4gICAgY29uc3Qgd2VhdGhlckNvbmRpdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICB3ZWF0aGVyQ29uZGl0aW9uLnRleHRDb250ZW50ID0gY29uZGl0aW9uO1xuICAgIHdlYXRoZXJJbmZvLmFwcGVuZCh3ZWF0aGVyUmVnaW9uKTtcbiAgICB3ZWF0aGVySW5mby5hcHBlbmQod2VhdGhlclRlbXApO1xuICAgIHdlYXRoZXJJbmZvLmFwcGVuZCh3ZWF0aGVyQ29uZGl0aW9uKTtcblxuICAgIHdlYXRoZXIuYXBwZW5kKHdlYXRoZXJMb2dvKTtcbiAgICB3ZWF0aGVyLmFwcGVuZCh3ZWF0aGVySW5mbyk7XG4gICAgcmV0dXJuIHdlYXRoZXI7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIERuZCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubG9hZEZpbGVIYW5kbGVyID0gW107XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMucmVnaXN0ZXJFdmVudHMoKTtcbiAgfVxuXG4gIHJlZ2lzdGVyRXZlbnRzKCkge1xuICAgIGNvbnN0IGxvYWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsZV91cGxvYWQtYnRuJyk7XG4gICAgY29uc3QgaW5wdXRGaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVfdXBsb2FkLWZpZWxkJyk7XG4gICAgY29uc3QgZHJhZ1pvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVjaWV2ZWRfbWVzc2FnZXMnKTtcbiAgICBkcmFnWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIHRoaXMuY29uc3RydWN0b3IuZHJhZ092ZXJIYW5kbGVyKTtcbiAgICBkcmFnWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5kcm9wSGFuZGxlci5iaW5kKHRoaXMpKTtcblxuICAgIGxvYWRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpbnB1dEZpbGUuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnY2xpY2snKSk7XG4gICAgfSk7XG4gICAgaW5wdXRGaWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTtcbiAgICAgIGlmICghZmlsZSkgcmV0dXJuO1xuICAgICAgdGhpcy5vbkxvYWQoZmlsZSk7XG4gICAgICBpbnB1dEZpbGUudmFsdWUgPSAnJztcbiAgICB9KTtcbiAgfVxuXG4gIGFkZExvYWRGaWxlSGFuZGxlcihjYWxsYmFjaykge1xuICAgIHRoaXMubG9hZEZpbGVIYW5kbGVyLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgb25Mb2FkKGZpbGUpIHtcbiAgICB0aGlzLmxvYWRGaWxlSGFuZGxlci5mb3JFYWNoKChvKSA9PiB7XG4gICAgICBvLmNhbGwobnVsbCwgZmlsZSk7XG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgZHJhZ092ZXJIYW5kbGVyKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGRyb3BIYW5kbGVyKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmaWxlID0gQXJyYXkuZnJvbShldmVudC5kYXRhVHJhbnNmZXIuZmlsZXMpWzBdO1xuICAgIGlmICghZmlsZSkgcmV0dXJuO1xuICAgIHRoaXMub25Mb2FkKGZpbGUpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wVXBFcnJvciBmcm9tICcuL1BvcFVwRXJyb3InO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW9sb2NhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZ2V0R2VvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbmRfZ2VvLWJ0bicpO1xuICAgIHRoaXMuY2xpY2tFdmVudEhhbmRsZXIgPSBbXTtcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnRzKCk7XG4gIH1cblxuICByZWdpc3RlckV2ZW50cygpIHtcbiAgICB0aGlzLmdldEdlb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgIHRoaXMucG9wdXBFcnJvciA9IG5ldyBQb3BVcEVycm9yKCk7XG4gIH1cblxuICBhZGRDbGlja0V2ZW50SGFuZGxlcihjYWxsYmFjaykge1xuICAgIHRoaXMuY2xpY2tFdmVudEhhbmRsZXIucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBnZXRDdXJyZW50R2VvbG9jYXRpb24oKSB7XG4gICAgaWYgKCFuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHJldHVybjtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihyZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgY2xpY2tIYW5kbGVyKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGNvb3JkcyB9ID0gYXdhaXQgdGhpcy5nZXRDdXJyZW50R2VvbG9jYXRpb24oKTtcbiAgICAgIGNvbnN0IHsgbGF0aXR1ZGUsIGxvbmdpdHVkZSB9ID0gY29vcmRzO1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgZXZlbnQ6ICdnZW9sb2NhdGlvbicsXG4gICAgICAgIHR5cGU6ICdnZW9sb2NhdGlvbicsXG4gICAgICAgIG1lc3NhZ2U6IHsgbGF0aXR1ZGUsIGxvbmdpdHVkZSB9LFxuICAgICAgfTtcbiAgICAgIHRoaXMuY2xpY2tFdmVudEhhbmRsZXIuZm9yRWFjaCgobykgPT4ge1xuICAgICAgICBvLmNhbGwobnVsbCwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMucG9wdXBFcnJvci5zaG93KHRoaXMuZ2V0R2VvQnV0dG9uLCAn0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMINC60L7QvtGA0LTQuNC90LDRgtGLJyk7XG4gICAgfVxuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzICovXG5pbXBvcnQgUG9wVXBFcnJvciBmcm9tICcuL1BvcFVwRXJyb3InO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWNvcmRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RvcEV2ZW50SGFuZGxlciA9IFtdO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnRzKCk7XG4gICAgdGhpcy5hY3Rpb25CdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lZGlhX2J0bi13cmFwcGVyJyk7XG4gICAgdGhpcy5yZWNvcmRCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlY29yZF9idG4td3JhcHBlcicpO1xuICAgIHRoaXMuc3RvcEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdG9wX3JlY29yZC1idG4nKTtcbiAgICB0aGlzLnBvcHVwRXJyb3IgPSBuZXcgUG9wVXBFcnJvcigpO1xuICB9XG5cbiAgcmVnaXN0ZXJFdmVudHMoKSB7XG4gICAgY29uc3QgcmVjb3JkQXVkaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVjb3JkLWF1ZGlvLWJ0bicpO1xuICAgIHJlY29yZEF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5hdWRpb1JlY29yZC5iaW5kKHRoaXMpKTtcblxuICAgIGNvbnN0IHJlY29yZFZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlY29yZC12aWRlby1idG4nKTtcbiAgICByZWNvcmRWaWRlby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudmlkZW9SZWNvcmQuYmluZCh0aGlzKSk7XG4gIH1cblxuICBhZGRTdG9wRXZlbnRIYW5kbGVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zdG9wRXZlbnRIYW5kbGVyLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgYXN5bmMgYXVkaW9SZWNvcmQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCB0aW1lcklkID0gbnVsbDtcblxuICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgdmlkZW86IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIoc3RyZWFtKTtcbiAgICAgIGNvbnN0IGNodW5rID0gW107XG5cbiAgICAgIHJlY29yZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3N0YXJ0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbnMoKTtcbiAgICAgICAgdGltZXJJZCA9IHRoaXMudGltZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICByZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKCdkYXRhYXZhaWxhYmxlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNodW5rLnB1c2goZXZlbnQuZGF0YSk7XG4gICAgICB9KTtcblxuICAgICAgcmVjb3JkZXIuYWRkRXZlbnRMaXN0ZW5lcignc3RvcCcsICgpID0+IHtcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25zKCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihjaHVuaywgeyB0eXBlOiAnYXVkaW8vb2dnOyBjb2RlY3M9b3B1cycgfSk7XG4gICAgICAgIHRoaXMuc3RvcEV2ZW50SGFuZGxlci5mb3JFYWNoKChvKSA9PiB7XG4gICAgICAgICAgby5jYWxsKG51bGwsIGJsb2IpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzdG9wUmVjb3JkID0gKCkgPT4ge1xuICAgICAgICByZWNvcmRlci5zdG9wKCk7XG4gICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgICAgdGhpcy5zdG9wQnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RvcFJlY29yZCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnN0b3BCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdG9wUmVjb3JkKTtcbiAgICAgIHJlY29yZGVyLnN0YXJ0KCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCByZWNvcmRBdWRpb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZW5kX2F1ZGlvLWJ0bicpO1xuICAgICAgdGhpcy5wb3B1cEVycm9yLnNob3cocmVjb3JkQXVkaW9CdG4sIGVyci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB2aWRlb1JlY29yZCgpIHtcbiAgICB0cnkge1xuICAgICAgbGV0IHRpbWVySWQgPSBudWxsO1xuXG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgICAgIGF1ZGlvOiB0cnVlLFxuICAgICAgICB2aWRlbzogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHN0cmVhbSk7XG4gICAgICBjb25zdCBjaHVuayA9IFtdO1xuXG4gICAgICByZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKCdzdGFydCcsICgpID0+IHtcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25zKCk7XG4gICAgICAgIHRpbWVySWQgPSB0aGlzLnRpbWVyKCk7XG4gICAgICB9KTtcblxuICAgICAgcmVjb3JkZXIuYWRkRXZlbnRMaXN0ZW5lcignZGF0YWF2YWlsYWJsZScsIChldmVudCkgPT4ge1xuICAgICAgICBjaHVuay5wdXNoKGV2ZW50LmRhdGEpO1xuICAgICAgfSk7XG5cbiAgICAgIHJlY29yZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3AnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9ucygpO1xuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xuICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoY2h1bmssIHsgdHlwZTogJ3ZpZGVvL29nZzsgY29kZWNzPXRoZW9yYScgfSk7XG4gICAgICAgIHRoaXMuc3RvcEV2ZW50SGFuZGxlci5mb3JFYWNoKChvKSA9PiB7XG4gICAgICAgICAgby5jYWxsKG51bGwsIGJsb2IpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzdG9wUmVjb3JkID0gKCkgPT4ge1xuICAgICAgICByZWNvcmRlci5zdG9wKCk7XG4gICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgICAgdGhpcy5zdG9wQnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RvcFJlY29yZCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnN0b3BCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdG9wUmVjb3JkKTtcbiAgICAgIHJlY29yZGVyLnN0YXJ0KCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCByZWNvcmRWaWRlb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZW5kX3ZpZGVvLWJ0bicpO1xuICAgICAgdGhpcy5wb3B1cEVycm9yLnNob3cocmVjb3JkVmlkZW9CdG4sIGVyci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVCdXR0b25zKCkge1xuICAgIHRoaXMuYWN0aW9uQnRucy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbiAgICB0aGlzLnJlY29yZEJ0bnMuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gIH1cblxuICB0aW1lcigpIHtcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aW1lcicpO1xuICAgIGVsLnRleHRDb250ZW50ID0gJzAwOjAwJztcbiAgICBsZXQgbWludXRlcyA9IDA7XG4gICAgbGV0IHNlY29uZHMgPSAwO1xuICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBzZWNvbmRzICs9IDE7XG4gICAgICBpZiAoc2Vjb25kcyA9PT0gNjApIHtcbiAgICAgICAgbWludXRlcyArPSAxO1xuICAgICAgICBzZWNvbmRzID0gMDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1pbiA9IChtaW51dGVzIDwgMTApID8gYDAke21pbnV0ZXN9YCA6IGAke21pbnV0ZXN9YDtcbiAgICAgIGNvbnN0IHNlYyA9IChzZWNvbmRzIDwgMTApID8gYDAke3NlY29uZHN9YCA6IGAke3NlY29uZHN9YDtcbiAgICAgIGVsLnRleHRDb250ZW50ID0gYCR7bWlufToke3NlY31gO1xuICAgIH0sIDEwMDApO1xuXG4gICAgcmV0dXJuIGludGVydmFsSWQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEVtb2ppIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5lbW9qaUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbW9qaScpO1xuICAgIHRoaXMuZW1vamlzID0gW1xuICAgICAgJ/CfmIAnLCAn8J+YgycsICfwn5iEJywgJ/CfmIEnLCAn8J+YhicsICfwn5iFJywgJ/CfmIInLCAn8J+koycsICfwn5iLJywgJ/CfmIonLFxuICAgICAgJ/CfmIcnLCAn8J+ZgicsICfwn5mDJywgJ/CfmIknLCAn8J+YjCcsICfwn5iNJywgJ/CfpbAnLCAn8J+YmCcsICfwn5iXJywgJ/CfmJknLFxuICAgICAgJ/CfmIgnLCAn8J+YjicsICfwn5iQJywgJ/CfmJYnLFxuICAgIF07XG4gIH1cblxuICByZW5kZXJFbW9qaUJveCgpIHtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVtb2ppX2JveCcpKSByZXR1cm47XG4gICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICBib3guY2xhc3NOYW1lID0gJ2Vtb2ppX2JveCc7XG4gICAgdGhpcy5lbW9qaUJ0bi5hcHBlbmQoYm94KTtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5lbW9qaXMpIHtcbiAgICAgIGNvbnN0IG5ld0Vtb2ppRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBuZXdFbW9qaUVsZW1lbnQuY2xhc3NOYW1lID0gJ2Vtb2ppX2l0ZW0nO1xuICAgICAgbmV3RW1vamlFbGVtZW50LnRleHRDb250ZW50ID0gaXRlbTtcbiAgICAgIGJveC5hcHBlbmQobmV3RW1vamlFbGVtZW50KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBQb3BVcEVycm9yIGZyb20gJy4vUG9wVXBFcnJvcic7XG5pbXBvcnQgTWVzc2FnZXMgZnJvbSAnLi9NZXNzYWdlcyc7XG5pbXBvcnQgRG5kIGZyb20gJy4vRG5kJztcbmltcG9ydCBHZW9sb2NhdGlvbiBmcm9tICcuL0dlb2xvY2F0aW9uJztcbmltcG9ydCBSZWNvcmRlciBmcm9tICcuL1JlY29yZGVyJztcbmltcG9ydCBFbW9qaSBmcm9tICcuL0Vtb2ppJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQVBJIHtcbiAgY29uc3RydWN0b3IoVVJMKSB7XG4gICAgdGhpcy5tZXNzYWdlcyA9IG5ldyBNZXNzYWdlcygpO1xuICAgIHRoaXMucG9wdXBFcnJvciA9IG5ldyBQb3BVcEVycm9yKCk7XG4gICAgdGhpcy5kbmQgPSBuZXcgRG5kKCk7XG4gICAgdGhpcy5kbmQuaW5pdCgpO1xuICAgIHRoaXMucmVjb3JkZXIgPSBuZXcgUmVjb3JkZXIoKTtcbiAgICB0aGlzLnJlY29yZGVyLmluaXQoKTtcbiAgICB0aGlzLmdlb2xvY2F0aW9uID0gbmV3IEdlb2xvY2F0aW9uKCk7XG4gICAgdGhpcy5lbW9qaSA9IG5ldyBFbW9qaSgpO1xuXG4gICAgdGhpcy53c3MgPSBudWxsO1xuICAgIHRoaXMuVVJMID0gVVJMO1xuICAgIHRoaXMubWVzc2FnZXNGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWNpZXZlZF9tZXNzYWdlcycpO1xuICAgIHRoaXMuY29ubmVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb25uZWN0X2J0bicpO1xuICB9XG5cbiAgY29ubmVjdFdTUygpIHtcbiAgICB0aGlzLndzcyA9IG5ldyBXZWJTb2NrZXQodGhpcy5VUkwpO1xuXG4gICAgdGhpcy53c3MuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsICgpID0+IHtcbiAgICAgIHRoaXMuc2V0Q29ubmVjdFN0YXRlKHRydWUpO1xuICAgICAgdGhpcy5vbkxvYWQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMud3NzLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgdGhpcy5zZXRDb25uZWN0U3RhdGUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgdGhpcy53c3MuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7XG4gICAgICB0aGlzLnNldENvbm5lY3RTdGF0ZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLndzcy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICB0aGlzLnJlY2VpdmVkTWVzc2FnZUhhbmRsZXIocmVzcG9uc2UpO1xuICAgIH0pO1xuICB9XG5cbiAgc2VuZE1lc3NhZ2VEYXRhKG9iaikge1xuICAgIGNvbnN0IGRhdGEgPSBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgIHRoaXMud3NzLnNlbmQoZGF0YSk7XG4gIH1cblxuICBmaWxlTG9hZGVyKGZpbGUpIHtcbiAgICBjb25zdCB7IG5hbWUsIHR5cGUgfSA9IGZpbGU7XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgYmFzZTY0ID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgIHRoaXMuc2VuZE1lc3NhZ2VEYXRhKHtcbiAgICAgICAgZXZlbnQ6ICd1cExvYWRGaWxlJyxcbiAgICAgICAgZmlsZTogYmFzZTY0LFxuICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgIGluZm86IHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGNhdGVnb3J5OiB0eXBlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIHJlY2VpdmVkTWVzc2FnZUhhbmRsZXIoZGF0YSkge1xuICAgIHN3aXRjaCAoZGF0YS5ldmVudCkge1xuICAgICAgY2FzZSAnbmV3TWVzc2FnZSc6XG4gICAgICBjYXNlICdjb21tYW5kJzpcbiAgICAgIGNhc2UgJ2dlb2xvY2F0aW9uJzpcbiAgICAgICAgYXdhaXQgdGhpcy5tZXNzYWdlc0ZpZWxkLmFwcGVuZChcbiAgICAgICAgICB0aGlzLm1lc3NhZ2VzLmNyZWF0ZUVsZW1lbnQoZGF0YSksXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMubWVzc2FnZXNGaWVsZC5zY3JvbGxUb3AgPSB0aGlzLm1lc3NhZ2VzRmllbGQuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2dldExhc3RNZXNzYWdlJzpcbiAgICAgICAgdGhpcy5yZW5kZXJMYXN0TWVzc2FnZShkYXRhKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlc0ZpZWxkLnNjcm9sbFRvcCA9IHRoaXMubWVzc2FnZXNGaWVsZC5zY3JvbGxIZWlnaHQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZ2V0SGlzdG9yeSc6XG4gICAgICAgIHRoaXMucmVuZGVySGlzdG9yeShkYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd1cExvYWRGaWxlJzpcbiAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJGaWxlTWVzc2FnZShkYXRhKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlc0ZpZWxkLnNjcm9sbFRvcCA9IHRoaXMubWVzc2FnZXNGaWVsZC5zY3JvbGxIZWlnaHQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICB9XG4gIH1cblxuICBvbkxvYWQoaWQgPSBudWxsKSB7XG4gICAgdGhpcy5zZW5kTWVzc2FnZURhdGEoe1xuICAgICAgaWQsXG4gICAgICBldmVudDogJ2dldExhc3RNZXNzYWdlJyxcbiAgICB9KTtcbiAgfVxuXG4gIG9uTG9hZEhpc3RvcnkoaWQpIHtcbiAgICB0aGlzLnNlbmRNZXNzYWdlRGF0YSh7XG4gICAgICBpZCxcbiAgICAgIGV2ZW50OiAnZ2V0SGlzdG9yeScsXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyByZW5kZXJGaWxlTWVzc2FnZShkYXRhKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGF3YWl0IHRoaXMubWVzc2FnZXMuY3JlYXRlRWxlbWVudChkYXRhKTtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgYXdhaXQgdGhpcy5tZXNzYWdlc0ZpZWxkLmFwcGVuZChlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWxlX3VwbG9hZC1idG4nKTtcbiAgICAgIHRoaXMucG9wdXBFcnJvci5zaG93KHNlbmRCdXR0b24sICfQndC1INCy0LXRgNC90YvQuSDRhNC+0YDQvNCw0YIg0YTQsNC50LvQsCcpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckxhc3RNZXNzYWdlKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuc3RhdHVzKSByZXR1cm47XG4gICAgZGF0YS5tZXNzYWdlLmZvckVhY2goKG1zZykgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMubWVzc2FnZXMuY3JlYXRlRWxlbWVudChtc2cpO1xuICAgICAgdGhpcy5tZXNzYWdlc0ZpZWxkLmFwcGVuZChlbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlckhpc3RvcnkoZGF0YSkge1xuICAgIGlmICghZGF0YS5zdGF0dXMpIHJldHVybjtcbiAgICBjb25zdCBjdXJyZW50VG9wU2Nyb2xsID0gdGhpcy5tZXNzYWdlc0ZpZWxkLnNjcm9sbEhlaWdodCAtIHRoaXMubWVzc2FnZXNGaWVsZC5jbGllbnRIZWlnaHQ7XG4gICAgZGF0YS5tZXNzYWdlLmZvckVhY2goKG1zZykgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMubWVzc2FnZXMuY3JlYXRlRWxlbWVudChtc2cpO1xuICAgICAgdGhpcy5tZXNzYWdlc0ZpZWxkLmZpcnN0RWxlbWVudENoaWxkLmJlZm9yZShlbGVtZW50KTtcbiAgICAgIGNvbnN0IG5ld1RvcFNjcm9sbCA9IHRoaXMubWVzc2FnZXNGaWVsZC5zY3JvbGxIZWlnaHQgLSB0aGlzLm1lc3NhZ2VzRmllbGQuY2xpZW50SGVpZ2h0O1xuICAgICAgdGhpcy5tZXNzYWdlc0ZpZWxkLnNjcm9sbFRvcCA9IG5ld1RvcFNjcm9sbCAtIGN1cnJlbnRUb3BTY3JvbGw7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBoYW5kbGVTdWJtaXRGb3JtKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBpbnB1dEVsID0gZXZlbnQudGFyZ2V0LmVsZW1lbnRzLnNlbmQ7XG4gICAgY29uc3QgZGF0YSA9IGlucHV0RWwudmFsdWUudHJpbSgpO1xuICAgIGlmIChkYXRhID09PSAnJykge1xuICAgICAgdGhpcy5wb3B1cEVycm9yLnNob3coaW5wdXRFbCwgJ9Cf0YPRgdGC0L7QtSDQv9C+0LvQtScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlcXVlc3REYXRhID0ge1xuICAgICAgbWVzc2FnZTogZGF0YSxcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICB9O1xuXG4gICAgaWYgKGRhdGEuc3RhcnRzV2l0aCgnL2dldCB3ZWF0aGVyJykpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gYXdhaXQgdGhpcy5nZW9sb2NhdGlvbi5nZXRDdXJyZW50R2VvbG9jYXRpb24oKTtcbiAgICAgICAgY29uc3QgeyBsYXRpdHVkZSwgbG9uZ2l0dWRlIH0gPSBsb2NhdGlvbi5jb29yZHM7XG4gICAgICAgIHJlcXVlc3REYXRhLmV2ZW50ID0gJ2NvbW1hbmQnO1xuICAgICAgICByZXF1ZXN0RGF0YS5sb2NhdGlvbiA9IHsgbGF0aXR1ZGUsIGxvbmdpdHVkZSB9O1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlRGF0YShyZXF1ZXN0RGF0YSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc3QgZ2VvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbmRfZ2VvLWJ0bicpO1xuICAgICAgICB0aGlzLnBvcHVwRXJyb3Iuc2hvdyhnZW9CdXR0b24sIGVyci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGF0YS5zdGFydHNXaXRoKCcvZ2V0JykgJiYgIWRhdGEuc3RhcnRzV2l0aCgnL2dldCB3ZWF0aGVyJykpIHtcbiAgICAgIHJlcXVlc3REYXRhLmV2ZW50ID0gJ2NvbW1hbmQnO1xuICAgICAgdGhpcy5zZW5kTWVzc2FnZURhdGEocmVxdWVzdERhdGEpO1xuICAgIH1cblxuICAgIHRoaXMuc2VuZE1lc3NhZ2VEYXRhKHtcbiAgICAgIGV2ZW50OiAnbmV3TWVzc2FnZScsXG4gICAgICBtZXNzYWdlOiBkYXRhLFxuICAgICAgdHlwZTogJ3RleHQnLFxuICAgIH0pO1xuICAgIGlucHV0RWwudmFsdWUgPSAnJztcbiAgfVxuXG4gIHNldENvbm5lY3RTdGF0ZShzdGF0dXMpIHtcbiAgICBjb25zdCBzdGF0dXNTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdGF0dXMtc3RhdGUnKTtcbiAgICBpZiAoc3RhdHVzKSB7XG4gICAgICBzdGF0dXNTdGF0ZS5jbGFzc05hbWUgPSAnc3RhdHVzX3N0YXRlLW9ubGluZSc7XG4gICAgICB0aGlzLmNvbm5lY3RCdG4uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgdGhpcy5jb25uZWN0QnRuLnRleHRDb250ZW50ID0gJ0Nvbm5lY3RlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXR1c1N0YXRlLmNsYXNzTmFtZSA9ICdzdGF0dXNfc3RhdGUtb2ZmbGluZSc7XG4gICAgICB0aGlzLmNvbm5lY3RCdG4ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgdGhpcy5jb25uZWN0QnRuLnRleHRDb250ZW50ID0gJ0Nvbm5lY3QnO1xuICAgIH1cbiAgfVxuXG4gIHJlZ2lzdGVyRXZlbnRzKCkge1xuICAgIGNvbnN0IGlucHV0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZW5kLWZvcm0nKTtcbiAgICBpbnB1dEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5oYW5kbGVTdWJtaXRGb3JtLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5jb25uZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jb25uZWN0V1NTLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5kbmQuYWRkTG9hZEZpbGVIYW5kbGVyKHRoaXMuZmlsZUxvYWRlci5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuZ2VvbG9jYXRpb24uYWRkQ2xpY2tFdmVudEhhbmRsZXIodGhpcy5zZW5kTWVzc2FnZURhdGEuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLnJlY29yZGVyLmFkZFN0b3BFdmVudEhhbmRsZXIodGhpcy5maWxlTG9hZGVyLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5tZXNzYWdlc0ZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHRvcENvb3JkcyA9IHRoaXMubWVzc2FnZXNGaWVsZC5zY3JvbGxUb3A7XG4gICAgICBpZiAodG9wQ29vcmRzID09PSAwKSB7XG4gICAgICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMubWVzc2FnZXNGaWVsZC5maXJzdEVsZW1lbnRDaGlsZC5kYXRhc2V0O1xuICAgICAgICB0aGlzLm9uTG9hZEhpc3RvcnkoaWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGlucHV0Rm9ybS5zZW5kO1xuICAgIGlucHV0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAzOSAmJiBpbnB1dEZpZWxkLnZhbHVlID09PSAnJykge1xuICAgICAgICBpbnB1dEZpZWxkLnZhbHVlID0gJy9nZXQgJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHNtaWxlSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbW9qaScpO1xuICAgIHNtaWxlSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbW9qaV9ib3gnKSAmJiAoZXYudGFyZ2V0ID09PSBzbWlsZUljb24pKSB7XG4gICAgICAgIHNtaWxlSWNvbi5maXJzdEVsZW1lbnRDaGlsZC5yZW1vdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5lbW9qaS5yZW5kZXJFbW9qaUJveCgpO1xuICAgICAgY29uc3QgZW1vamlCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW1vamlfYm94Jyk7XG4gICAgICBlbW9qaUJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBpbnB1dEZpZWxkLnZhbHVlICs9IGV2ZW50LnRhcmdldC50ZXh0Q29udGVudDtcbiAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5jb25uZWN0V1NTKCk7XG4gICAgdGhpcy5yZWdpc3RlckV2ZW50cygpO1xuICB9XG59XG4iLCJpbXBvcnQgJy4vY3NzL3N0eWxlLmNzcyc7XG5pbXBvcnQgQXBwIGZyb20gJy4vanMvYXBwJztcblxuY29uc3QgYXBwID0gbmV3IEFwcCgpO1xuYXBwLmluaXQoKTtcbiIsImltcG9ydCBBUEkgZnJvbSAnLi9BUEknO1xuXG5jb25zdCBVUkwgPSAnd3M6Ly9sb2NhbGhvc3Q6ODA4MC93cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYXBpID0gbmV3IEFQSShVUkwpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmFwaS5pbml0KCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXRXaW5kb3ciLCJub2RlIiwid2luZG93IiwidG9TdHJpbmciLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJpc0VsZW1lbnQiLCJFbGVtZW50IiwiaXNIVE1MRWxlbWVudCIsIkhUTUxFbGVtZW50IiwiaXNTaGFkb3dSb290IiwiU2hhZG93Um9vdCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJyb3VuZCIsImdldFVBU3RyaW5nIiwidWFEYXRhIiwibmF2aWdhdG9yIiwidXNlckFnZW50RGF0YSIsImJyYW5kcyIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIml0ZW0iLCJicmFuZCIsInZlcnNpb24iLCJqb2luIiwidXNlckFnZW50IiwiaXNMYXlvdXRWaWV3cG9ydCIsInRlc3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJlbGVtZW50IiwiaW5jbHVkZVNjYWxlIiwiaXNGaXhlZFN0cmF0ZWd5IiwiY2xpZW50UmVjdCIsInNjYWxlWCIsInNjYWxlWSIsIm9mZnNldFdpZHRoIiwid2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJoZWlnaHQiLCJ2aXN1YWxWaWV3cG9ydCIsImFkZFZpc3VhbE9mZnNldHMiLCJ4IiwibGVmdCIsIm9mZnNldExlZnQiLCJ5IiwidG9wIiwib2Zmc2V0VG9wIiwicmlnaHQiLCJib3R0b20iLCJnZXRXaW5kb3dTY3JvbGwiLCJ3aW4iLCJzY3JvbGxMZWZ0IiwicGFnZVhPZmZzZXQiLCJzY3JvbGxUb3AiLCJwYWdlWU9mZnNldCIsImdldE5vZGVOYW1lIiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImdldERvY3VtZW50RWxlbWVudCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiZ2V0V2luZG93U2Nyb2xsQmFyWCIsImdldENvbXB1dGVkU3R5bGUiLCJpc1Njcm9sbFBhcmVudCIsIl9nZXRDb21wdXRlZFN0eWxlIiwib3ZlcmZsb3ciLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJnZXRDb21wb3NpdGVSZWN0IiwiZWxlbWVudE9yVmlydHVhbEVsZW1lbnQiLCJvZmZzZXRQYXJlbnQiLCJpc0ZpeGVkIiwiaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQiLCJvZmZzZXRQYXJlbnRJc1NjYWxlZCIsInJlY3QiLCJpc0VsZW1lbnRTY2FsZWQiLCJzY3JvbGwiLCJvZmZzZXRzIiwiY2xpZW50TGVmdCIsImNsaWVudFRvcCIsImdldExheW91dFJlY3QiLCJhYnMiLCJnZXRQYXJlbnROb2RlIiwiYXNzaWduZWRTbG90IiwicGFyZW50Tm9kZSIsImhvc3QiLCJnZXRTY3JvbGxQYXJlbnQiLCJpbmRleE9mIiwiYm9keSIsImxpc3RTY3JvbGxQYXJlbnRzIiwibGlzdCIsIl9lbGVtZW50JG93bmVyRG9jdW1lbiIsInNjcm9sbFBhcmVudCIsImlzQm9keSIsInRhcmdldCIsImNvbmNhdCIsInVwZGF0ZWRMaXN0IiwiaXNUYWJsZUVsZW1lbnQiLCJnZXRUcnVlT2Zmc2V0UGFyZW50IiwicG9zaXRpb24iLCJnZXRPZmZzZXRQYXJlbnQiLCJpc0ZpcmVmb3giLCJjdXJyZW50Tm9kZSIsImNzcyIsInRyYW5zZm9ybSIsInBlcnNwZWN0aXZlIiwiY29udGFpbiIsIndpbGxDaGFuZ2UiLCJmaWx0ZXIiLCJnZXRDb250YWluaW5nQmxvY2siLCJhdXRvIiwiYmFzZVBsYWNlbWVudHMiLCJzdGFydCIsImVuZCIsInZpZXdwb3J0IiwicG9wcGVyIiwidmFyaWF0aW9uUGxhY2VtZW50cyIsInJlZHVjZSIsImFjYyIsInBsYWNlbWVudCIsIm1vZGlmaWVyUGhhc2VzIiwib3JkZXIiLCJtb2RpZmllcnMiLCJNYXAiLCJ2aXNpdGVkIiwiU2V0IiwicmVzdWx0Iiwic29ydCIsIm1vZGlmaWVyIiwiYWRkIiwibmFtZSIsInJlcXVpcmVzIiwicmVxdWlyZXNJZkV4aXN0cyIsImZvckVhY2giLCJkZXAiLCJoYXMiLCJkZXBNb2RpZmllciIsImdldCIsInB1c2giLCJzZXQiLCJERUZBVUxUX09QVElPTlMiLCJzdHJhdGVneSIsImFyZVZhbGlkRWxlbWVudHMiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJncyIsIl9rZXkiLCJzb21lIiwicG9wcGVyR2VuZXJhdG9yIiwiZ2VuZXJhdG9yT3B0aW9ucyIsIl9nZW5lcmF0b3JPcHRpb25zIiwiX2dlbmVyYXRvck9wdGlvbnMkZGVmIiwiZGVmYXVsdE1vZGlmaWVycyIsIl9nZW5lcmF0b3JPcHRpb25zJGRlZjIiLCJkZWZhdWx0T3B0aW9ucyIsInJlZmVyZW5jZSIsIm9wdGlvbnMiLCJmbiIsInBlbmRpbmciLCJzdGF0ZSIsIm9yZGVyZWRNb2RpZmllcnMiLCJPYmplY3QiLCJhc3NpZ24iLCJtb2RpZmllcnNEYXRhIiwiZWxlbWVudHMiLCJhdHRyaWJ1dGVzIiwic3R5bGVzIiwiZWZmZWN0Q2xlYW51cEZucyIsImlzRGVzdHJveWVkIiwiaW5zdGFuY2UiLCJzZXRPcHRpb25zIiwic2V0T3B0aW9uc0FjdGlvbiIsImNsZWFudXBNb2RpZmllckVmZmVjdHMiLCJzY3JvbGxQYXJlbnRzIiwiY29udGV4dEVsZW1lbnQiLCJtZXJnZWQiLCJwaGFzZSIsIm9yZGVyTW9kaWZpZXJzIiwiY3VycmVudCIsImV4aXN0aW5nIiwiZGF0YSIsImtleXMiLCJrZXkiLCJtIiwiZW5hYmxlZCIsIl9yZWYzIiwiX3JlZjMkb3B0aW9ucyIsImVmZmVjdCIsImNsZWFudXBGbiIsInVwZGF0ZSIsImZvcmNlVXBkYXRlIiwiX3N0YXRlJGVsZW1lbnRzIiwicmVjdHMiLCJyZXNldCIsImluZGV4IiwiX3N0YXRlJG9yZGVyZWRNb2RpZmllIiwiX3N0YXRlJG9yZGVyZWRNb2RpZmllMiIsIl9vcHRpb25zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwidW5kZWZpbmVkIiwiZGVzdHJveSIsIm9uRmlyc3RVcGRhdGUiLCJwYXNzaXZlIiwiZ2V0QmFzZVBsYWNlbWVudCIsInNwbGl0IiwiZ2V0VmFyaWF0aW9uIiwiZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50IiwiY29tcHV0ZU9mZnNldHMiLCJfcmVmIiwiYmFzZVBsYWNlbWVudCIsInZhcmlhdGlvbiIsImNvbW1vblgiLCJjb21tb25ZIiwibWFpbkF4aXMiLCJsZW4iLCJ1bnNldFNpZGVzIiwibWFwVG9TdHlsZXMiLCJfcmVmMiIsIl9PYmplY3QkYXNzaWduMiIsInBvcHBlclJlY3QiLCJncHVBY2NlbGVyYXRpb24iLCJhZGFwdGl2ZSIsInJvdW5kT2Zmc2V0cyIsIl9vZmZzZXRzJHgiLCJfb2Zmc2V0cyR5IiwiaGFzWCIsImhhc093blByb3BlcnR5IiwiaGFzWSIsInNpZGVYIiwic2lkZVkiLCJoZWlnaHRQcm9wIiwid2lkdGhQcm9wIiwiX09iamVjdCRhc3NpZ24iLCJjb21tb25TdHlsZXMiLCJfcmVmNCIsImRwciIsImRldmljZVBpeGVsUmF0aW8iLCJyb3VuZE9mZnNldHNCeURQUiIsImhhc2giLCJnZXRPcHBvc2l0ZVBsYWNlbWVudCIsInJlcGxhY2UiLCJtYXRjaGVkIiwiZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQiLCJjb250YWlucyIsInBhcmVudCIsImNoaWxkIiwicm9vdE5vZGUiLCJnZXRSb290Tm9kZSIsIm5leHQiLCJpc1NhbWVOb2RlIiwicmVjdFRvQ2xpZW50UmVjdCIsImdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlIiwiY2xpcHBpbmdQYXJlbnQiLCJodG1sIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJsYXlvdXRWaWV3cG9ydCIsImdldFZpZXdwb3J0UmVjdCIsImdldElubmVyQm91bmRpbmdDbGllbnRSZWN0Iiwid2luU2Nyb2xsIiwic2Nyb2xsV2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJkaXJlY3Rpb24iLCJnZXREb2N1bWVudFJlY3QiLCJtZXJnZVBhZGRpbmdPYmplY3QiLCJwYWRkaW5nT2JqZWN0IiwiZXhwYW5kVG9IYXNoTWFwIiwidmFsdWUiLCJoYXNoTWFwIiwiZGV0ZWN0T3ZlcmZsb3ciLCJfb3B0aW9ucyRwbGFjZW1lbnQiLCJfb3B0aW9ucyRzdHJhdGVneSIsIl9vcHRpb25zJGJvdW5kYXJ5IiwiYm91bmRhcnkiLCJfb3B0aW9ucyRyb290Qm91bmRhcnkiLCJyb290Qm91bmRhcnkiLCJfb3B0aW9ucyRlbGVtZW50Q29udGUiLCJlbGVtZW50Q29udGV4dCIsIl9vcHRpb25zJGFsdEJvdW5kYXJ5IiwiYWx0Qm91bmRhcnkiLCJfb3B0aW9ucyRwYWRkaW5nIiwicGFkZGluZyIsImFsdENvbnRleHQiLCJjbGlwcGluZ0NsaWVudFJlY3QiLCJtYWluQ2xpcHBpbmdQYXJlbnRzIiwiY2xpcHBpbmdQYXJlbnRzIiwiY2xpcHBlckVsZW1lbnQiLCJnZXRDbGlwcGluZ1BhcmVudHMiLCJmaXJzdENsaXBwaW5nUGFyZW50IiwiY2xpcHBpbmdSZWN0IiwiYWNjUmVjdCIsImdldENsaXBwaW5nUmVjdCIsInJlZmVyZW5jZUNsaWVudFJlY3QiLCJwb3BwZXJPZmZzZXRzIiwicG9wcGVyQ2xpZW50UmVjdCIsImVsZW1lbnRDbGllbnRSZWN0Iiwib3ZlcmZsb3dPZmZzZXRzIiwib2Zmc2V0RGF0YSIsIm9mZnNldCIsIm11bHRpcGx5IiwiYXhpcyIsIndpdGhpbiIsImdldFNpZGVPZmZzZXRzIiwicHJldmVudGVkT2Zmc2V0cyIsImlzQW55U2lkZUZ1bGx5Q2xpcHBlZCIsInNpZGUiLCJfb3B0aW9ucyRzY3JvbGwiLCJfb3B0aW9ucyRyZXNpemUiLCJyZXNpemUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9yZWY1IiwiX29wdGlvbnMkZ3B1QWNjZWxlcmF0IiwiX29wdGlvbnMkYWRhcHRpdmUiLCJfb3B0aW9ucyRyb3VuZE9mZnNldHMiLCJhcnJvdyIsInN0eWxlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiaW5pdGlhbFN0eWxlcyIsIm1hcmdpbiIsInByb3BlcnR5IiwiYXR0cmlidXRlIiwiX29wdGlvbnMkb2Zmc2V0IiwiaW52ZXJ0RGlzdGFuY2UiLCJza2lkZGluZyIsImRpc3RhbmNlIiwiZGlzdGFuY2VBbmRTa2lkZGluZ1RvWFkiLCJfZGF0YSRzdGF0ZSRwbGFjZW1lbnQiLCJfc2tpcCIsIl9vcHRpb25zJG1haW5BeGlzIiwiY2hlY2tNYWluQXhpcyIsIl9vcHRpb25zJGFsdEF4aXMiLCJhbHRBeGlzIiwiY2hlY2tBbHRBeGlzIiwic3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzIiwiZmFsbGJhY2tQbGFjZW1lbnRzIiwiX29wdGlvbnMkZmxpcFZhcmlhdGlvIiwiZmxpcFZhcmlhdGlvbnMiLCJhbGxvd2VkQXV0b1BsYWNlbWVudHMiLCJwcmVmZXJyZWRQbGFjZW1lbnQiLCJvcHBvc2l0ZVBsYWNlbWVudCIsImdldEV4cGFuZGVkRmFsbGJhY2tQbGFjZW1lbnRzIiwicGxhY2VtZW50cyIsIl9vcHRpb25zJGFsbG93ZWRBdXRvUCIsImFsbG93ZWRQbGFjZW1lbnRzIiwib3ZlcmZsb3dzIiwiYSIsImIiLCJjb21wdXRlQXV0b1BsYWNlbWVudCIsInJlZmVyZW5jZVJlY3QiLCJjaGVja3NNYXAiLCJtYWtlRmFsbGJhY2tDaGVja3MiLCJmaXJzdEZpdHRpbmdQbGFjZW1lbnQiLCJpIiwiX2Jhc2VQbGFjZW1lbnQiLCJpc1N0YXJ0VmFyaWF0aW9uIiwiaXNWZXJ0aWNhbCIsIm1haW5WYXJpYXRpb25TaWRlIiwiYWx0VmFyaWF0aW9uU2lkZSIsImNoZWNrcyIsImV2ZXJ5IiwiY2hlY2siLCJfbG9vcCIsIl9pIiwiZml0dGluZ1BsYWNlbWVudCIsImZpbmQiLCJzbGljZSIsIl9vcHRpb25zJHRldGhlciIsInRldGhlciIsIl9vcHRpb25zJHRldGhlck9mZnNldCIsInRldGhlck9mZnNldCIsImlzQmFzZVBsYWNlbWVudCIsInRldGhlck9mZnNldFZhbHVlIiwibm9ybWFsaXplZFRldGhlck9mZnNldFZhbHVlIiwib2Zmc2V0TW9kaWZpZXJTdGF0ZSIsIl9vZmZzZXRNb2RpZmllclN0YXRlJCIsIm1haW5TaWRlIiwiYWx0U2lkZSIsImFkZGl0aXZlIiwibWluTGVuIiwibWF4TGVuIiwiYXJyb3dFbGVtZW50IiwiYXJyb3dSZWN0IiwiYXJyb3dQYWRkaW5nT2JqZWN0IiwiYXJyb3dQYWRkaW5nTWluIiwiYXJyb3dQYWRkaW5nTWF4IiwiYXJyb3dMZW4iLCJtaW5PZmZzZXQiLCJtYXhPZmZzZXQiLCJhcnJvd09mZnNldFBhcmVudCIsImNsaWVudE9mZnNldCIsIm9mZnNldE1vZGlmaWVyVmFsdWUiLCJ0ZXRoZXJNYXgiLCJwcmV2ZW50ZWRPZmZzZXQiLCJfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQyIiwiX21haW5TaWRlIiwiX2FsdFNpZGUiLCJfb2Zmc2V0IiwiX21pbiIsIl9tYXgiLCJpc09yaWdpblNpZGUiLCJfb2Zmc2V0TW9kaWZpZXJWYWx1ZSIsIl90ZXRoZXJNaW4iLCJfdGV0aGVyTWF4IiwiX3ByZXZlbnRlZE9mZnNldCIsInYiLCJ3aXRoaW5NYXhDbGFtcCIsIl9zdGF0ZSRtb2RpZmllcnNEYXRhJCIsInRvUGFkZGluZ09iamVjdCIsIm1pblByb3AiLCJtYXhQcm9wIiwiZW5kRGlmZiIsInN0YXJ0RGlmZiIsImNsaWVudFNpemUiLCJjZW50ZXJUb1JlZmVyZW5jZSIsImNlbnRlciIsImF4aXNQcm9wIiwiY2VudGVyT2Zmc2V0IiwiX29wdGlvbnMkZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcmV2ZW50T3ZlcmZsb3ciLCJyZWZlcmVuY2VPdmVyZmxvdyIsInBvcHBlckFsdE92ZXJmbG93IiwicmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzIiwicG9wcGVyRXNjYXBlT2Zmc2V0cyIsImlzUmVmZXJlbmNlSGlkZGVuIiwiaGFzUG9wcGVyRXNjYXBlZCIsIlBvcFVwRXJyb3IiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJwb3B1cE1zZyIsInNob3ciLCJ0ZXh0IiwicG9wcGVySW5zdGFuY2UiLCJjcmVhdGVQb3BwZXIiLCJ0ZXh0Q29udGVudCIsInNldFRpbWVvdXQiLCJNZXNzYWdlcyIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY3JlYXRlVGV4dEVsZW1lbnQiLCJjcmVhdGVGaWxlRWxlbWVudCIsImNyZWF0ZVdlYXRoZXJFbGVtZW50Iiwic3RhdGljIiwiY2F0ZWdvcnkiLCJpbmZvIiwic3RhcnRzV2l0aCIsImNyZWF0ZUltYWdlRWxlbWVudCIsImNyZWF0ZUF1ZGlvRWxlbWVudCIsImNyZWF0ZVZpZGVvRWxlbWVudCIsImRhdGUiLCJtZXNzYWdlIiwiaWQiLCJtZXNzYWdlRWwiLCJjbGFzc0xpc3QiLCJkYXRhc2V0IiwibWVzc2FnZUhlYWRlckVsIiwiZGF0ZUVsIiwibWVzc2FnZVRleHRFbCIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiaW5uZXJIVE1MIiwiYXBwZW5kIiwiZmlsZSIsInZpZXdzIiwiaW1hZ2VzIiwic3JjIiwiaHJlZiIsImRvd25sb2FkIiwiZGl2IiwiYXVkaW8iLCJ0aXRsZSIsImlubmVyVGV4dCIsInZpZGVvIiwibG9jYXRpb24iLCJ0ZW1wIiwiaWNvbiIsImNvbmRpdGlvbiIsIndlYXRoZXIiLCJ3ZWF0aGVyTG9nbyIsIndlYXRoZXJJY29uIiwiYWx0Iiwid2VhdGhlckluZm8iLCJ3ZWF0aGVyUmVnaW9uIiwid2VhdGhlclRlbXAiLCJzcGFuIiwid2VhdGhlckNvbmRpdGlvbiIsIkRuZCIsImxvYWRGaWxlSGFuZGxlciIsImluaXQiLCJyZWdpc3RlckV2ZW50cyIsImxvYWRCdXR0b24iLCJpbnB1dEZpbGUiLCJkcmFnWm9uZSIsImRyYWdPdmVySGFuZGxlciIsImRyb3BIYW5kbGVyIiwiYmluZCIsImRpc3BhdGNoRXZlbnQiLCJNb3VzZUV2ZW50IiwiZXZlbnQiLCJmaWxlcyIsIm9uTG9hZCIsImFkZExvYWRGaWxlSGFuZGxlciIsImNhbGxiYWNrIiwibyIsImNhbGwiLCJwcmV2ZW50RGVmYXVsdCIsImZyb20iLCJkYXRhVHJhbnNmZXIiLCJHZW9sb2NhdGlvbiIsImdldEdlb0J1dHRvbiIsImNsaWNrRXZlbnRIYW5kbGVyIiwiY2xpY2tIYW5kbGVyIiwicG9wdXBFcnJvciIsImFkZENsaWNrRXZlbnRIYW5kbGVyIiwiZ2V0Q3VycmVudEdlb2xvY2F0aW9uIiwiZ2VvbG9jYXRpb24iLCJyZWplY3QiLCJnZXRDdXJyZW50UG9zaXRpb24iLCJhc3luYyIsImNvb3JkcyIsImVyciIsIlJlY29yZGVyIiwic3RvcEV2ZW50SGFuZGxlciIsImFjdGlvbkJ0bnMiLCJyZWNvcmRCdG5zIiwic3RvcEJ0biIsImF1ZGlvUmVjb3JkIiwidmlkZW9SZWNvcmQiLCJhZGRTdG9wRXZlbnRIYW5kbGVyIiwidGltZXJJZCIsInN0cmVhbSIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsInJlY29yZGVyIiwiTWVkaWFSZWNvcmRlciIsImNodW5rIiwidG9nZ2xlQnV0dG9ucyIsInRpbWVyIiwiY2xlYXJJbnRlcnZhbCIsImJsb2IiLCJCbG9iIiwic3RvcFJlY29yZCIsInN0b3AiLCJnZXRUcmFja3MiLCJ0cmFjayIsInJlY29yZEF1ZGlvQnRuIiwicmVjb3JkVmlkZW9CdG4iLCJ0b2dnbGUiLCJlbCIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwic2V0SW50ZXJ2YWwiLCJzZWMiLCJFbW9qaSIsImVtb2ppQnRuIiwiZW1vamlzIiwicmVuZGVyRW1vamlCb3giLCJib3giLCJjbGFzc05hbWUiLCJuZXdFbW9qaUVsZW1lbnQiLCJBUEkiLCJVUkwiLCJtZXNzYWdlcyIsImRuZCIsImVtb2ppIiwid3NzIiwibWVzc2FnZXNGaWVsZCIsImNvbm5lY3RCdG4iLCJjb25uZWN0V1NTIiwiV2ViU29ja2V0Iiwic2V0Q29ubmVjdFN0YXRlIiwicmVzcG9uc2UiLCJKU09OIiwicGFyc2UiLCJyZWNlaXZlZE1lc3NhZ2VIYW5kbGVyIiwic2VuZE1lc3NhZ2VEYXRhIiwib2JqIiwic3RyaW5naWZ5Iiwic2VuZCIsImZpbGVMb2FkZXIiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsIm9ubG9hZCIsImJhc2U2NCIsInJlbmRlckxhc3RNZXNzYWdlIiwicmVuZGVySGlzdG9yeSIsInJlbmRlckZpbGVNZXNzYWdlIiwib25Mb2FkSGlzdG9yeSIsInNlbmRCdXR0b24iLCJzdGF0dXMiLCJtc2ciLCJjdXJyZW50VG9wU2Nyb2xsIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJiZWZvcmUiLCJuZXdUb3BTY3JvbGwiLCJpbnB1dEVsIiwidHJpbSIsInJlcXVlc3REYXRhIiwiZ2VvQnV0dG9uIiwic3RhdHVzU3RhdGUiLCJpbnB1dEZvcm0iLCJoYW5kbGVTdWJtaXRGb3JtIiwiaW5wdXRGaWVsZCIsImtleUNvZGUiLCJzbWlsZUljb24iLCJldiIsInJlbW92ZSIsIm9uY2UiLCJhcGkiXSwic291cmNlUm9vdCI6IiJ9